<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Singlesorted.Classes.DecoratedFunctor</h1>

<div class="code">
</div>

<div class="doc">
This file implements "functors decorated by monoid <code>W</code>" and
    proves their basic properties.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#"><span class="id" title="library">Singlesorted.Classes.Monoid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#"><span class="id" title="library">Singlesorted.Classes.Comonad</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#"><span class="id" title="library">Singlesorted.Theory.Product</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Functors.Writer.html#"><span class="id" title="library">Singlesorted.Functors.Writer</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Product.Notations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Functor.Notations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Comonad.Notations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Monoid.Notations</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">tealeaves_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab123"></a><h1 class="section">Decorated functors</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_operations" class="idref" href="#DecoratedFunctor_operations"><span class="id" title="section">DecoratedFunctor_operations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="W:1" class="idref" href="#W:1"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:2" class="idref" href="#F:2"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="Decorate" class="idref" href="#Decorate"><span class="id" title="record">Decorate</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="dec" class="idref" href="#dec"><span class="id" title="projection">dec</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_operations.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#278ce2a34b83a8295656f6eff2db54a7"><span class="id" title="notation">⇒</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_operations.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_operations.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_operations"><span class="id" title="section">DecoratedFunctor_operations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor" class="idref" href="#DecoratedFunctor"><span class="id" title="section">DecoratedFunctor</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="W:5" class="idref" href="#W:5"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="op:6" class="idref" href="#op:6"><span class="id" title="binder">op</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#Monoid_op"><span class="id" title="class">Monoid_op</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:5"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="unit:7" class="idref" href="#unit:7"><span class="id" title="binder">unit</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#Monoid_unit"><span class="id" title="class">Monoid_unit</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:5"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:8" class="idref" href="#F:8"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">Fmap</span></a> <a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">F</span></a>} `{<a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">Decorate</span></a> <a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">W</span></a> <a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="DecoratedFunctor" class="idref" href="#DecoratedFunctor"><span class="id" title="record">DecoratedFunctor</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="dfun_functor" class="idref" href="#dfun_functor"><span class="id" title="projection">dfun_functor</span></a> :&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_monoid" class="idref" href="#dfun_monoid"><span class="id" title="projection">dfun_monoid</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#Monoid"><span class="id" title="class">Monoid</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_dec_natural" class="idref" href="#dfun_dec_natural"><span class="id" title="projection">dfun_dec_natural</span></a> :&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_dec_dec" class="idref" href="#dfun_dec_dec"><span class="id" title="projection">dfun_dec_dec</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_dec_extract" class="idref" href="#dfun_dec_extract"><span class="id" title="projection">dfun_dec_extract</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">A</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="section">DecoratedFunctor</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Mark&nbsp;&lt;&lt;W&gt;&gt;&nbsp;and&nbsp;the&nbsp;type&nbsp;argument&nbsp;implicit&nbsp;*)</span><br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> {<span class="id" title="var">W</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Decorate</span>} {<span class="id" title="var">A</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab124"></a><h2 class="section">Decoration-preserving natural transformations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="DecoratePreservingTransformation" class="idref" href="#DecoratePreservingTransformation"><span class="id" title="record">DecoratePreservingTransformation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="F:19" class="idref" href="#F:19"><span class="id" title="binder">F</span></a> <a id="G:20" class="idref" href="#G:20"><span class="id" title="binder">G</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Fmap0:21" class="idref" href="#Fmap0:21"><span class="id" title="binder">!</span></a> <a id="Fmap0:21" class="idref" href="#Fmap0:21"><span class="id" title="binder">Fmap</span></a> <a id="Fmap0:21" class="idref" href="#Fmap0:21"><span class="id" title="binder">F</span></a>} `{<a id="H:23" class="idref" href="#H:23"><span class="id" title="binder">Decorate</span></a> <a id="H:23" class="idref" href="#H:23"><span class="id" title="binder">W</span></a> <a id="H:23" class="idref" href="#H:23"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Fmap1:24" class="idref" href="#Fmap1:24"><span class="id" title="binder">!</span></a> <a id="Fmap1:24" class="idref" href="#Fmap1:24"><span class="id" title="binder">Fmap</span></a> <a id="Fmap1:24" class="idref" href="#Fmap1:24"><span class="id" title="binder">G</span></a>} `{<a id="H0:25" class="idref" href="#H0:25"><span class="id" title="binder">Decorate</span></a> <a id="H0:25" class="idref" href="#H0:25"><span class="id" title="binder">W</span></a> <a id="H0:25" class="idref" href="#H0:25"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="7ed8412e96892f197098cd19c85d5426" class="idref" href="#7ed8412e96892f197098cd19c85d5426"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:19"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#278ce2a34b83a8295656f6eff2db54a7"><span class="id" title="notation">⇒</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#G:20"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;{ <a id="dectrans_commute" class="idref" href="#dectrans_commute"><span class="id" title="projection">dectrans_commute</span></a> : `(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#7ed8412e96892f197098cd19c85d5426"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:22"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:19"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#G:20"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#7ed8412e96892f197098cd19c85d5426"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="dectrans_natural" class="idref" href="#dectrans_natural"><span class="id" title="projection">dectrans_natural</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#7ed8412e96892f197098cd19c85d5426"><span class="id" title="variable">ϕ</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab125"></a><h2 class="section">The <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a></span> operation</h2>
 The theory of decorated functors makes frequent use of an
    operation <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a></span> that uniformly increments the annotations of a
    W-annotated term (i.e., something of type <code>F (prod W A)</code> by some
    value <code>w : W</code>. This is used in concrete definitions of <code>dec</code>,
    where it is applied to recursive subcalls of <code>dec</code> on the bodies
    of abstractions to add the current binder to the front of the
    contexts. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="shift" class="idref" href="#shift"><span class="id" title="definition">shift</span></a> <a id="F:31" class="idref" href="#F:31"><span class="id" title="binder">F</span></a> `{<a id="H:32" class="idref" href="#H:32"><span class="id" title="binder">Fmap</span></a> <a id="H:32" class="idref" href="#H:32"><span class="id" title="binder">F</span></a>} `{<a id="H0:34" class="idref" href="#H0:34"><span class="id" title="binder">Monoid_op</span></a> <a id="H0:34" class="idref" href="#H0:34"><span class="id" title="binder">W</span></a>} {<a id="A:35" class="idref" href="#A:35"><span class="id" title="binder">A</span></a>} : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:33"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:31"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:33"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:35"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:31"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:33"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:35"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:31"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:33"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:31"><span class="id" title="variable">F</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_then_shift" class="idref" href="#map_then_shift"><span class="id" title="definition">map_then_shift</span></a> `{<a id="H:37" class="idref" href="#H:37"><span class="id" title="binder">Monoid_op</span></a> <a id="H:37" class="idref" href="#H:37"><span class="id" title="binder">W</span></a>} <a id="T:38" class="idref" href="#T:38"><span class="id" title="binder">T</span></a> `{<a id="H0:39" class="idref" href="#H0:39"><span class="id" title="binder">Fmap</span></a> <a id="H0:39" class="idref" href="#H0:39"><span class="id" title="binder">T</span></a>} `{<a id="H1:40" class="idref" href="#H1:40"><span class="id" title="binder">Decorate</span></a> <a id="H1:40" class="idref" href="#H1:40"><span class="id" title="binder">W</span></a> <a id="H1:40" class="idref" href="#H1:40"><span class="id" title="binder">T</span></a>} {<a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a> <a id="B:42" class="idref" href="#B:42"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:43" class="idref" href="#f:43"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:41"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:38"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:42"><span class="id" title="variable">B</span></a>) : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:36"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:41"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:38"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:36"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:42"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:38"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:36"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:38"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:43"><span class="id" title="variable">f</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="shift_functor_lemmas" class="idref" href="#shift_functor_lemmas"><span class="id" title="section">shift_functor_lemmas</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:47" class="idref" href="#H:47"><span class="id" title="binder">Monoid</span></a> <a id="H:47" class="idref" href="#H:47"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
</div>

<div class="doc">
The definition of <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a></span> is convenient for theorizing, but <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a></span>
      offers an intuitive characterization that is more convenient for
      practical reasoning. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="shift_spec" class="idref" href="#shift_spec"><span class="id" title="lemma">shift_spec</span></a> `{<a id="H1:50" class="idref" href="#H1:50"><span class="id" title="binder">Functor</span></a> <a id="H1:50" class="idref" href="#H1:50"><span class="id" title="binder">F</span></a>} {<a id="A:51" class="idref" href="#A:51"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="w:52" class="idref" href="#w:52"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<a id="x:53" class="idref" href="#x:53"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:48"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:51"><span class="id" title="variable">A</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:48"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:52"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#x:53"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:48"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="keyword">fun</span> <a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:52"><span class="id" title="variable">w</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#m:54"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#x:53"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Functors.Writer.html#Join_writer"><span class="id" title="instance">Join_writer</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <span class="id" title="var">F</span>). <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_fmap1" class="idref" href="#shift_fmap1"><span class="id" title="lemma">shift_fmap1</span></a> `{<a id="H1:57" class="idref" href="#H1:57"><span class="id" title="binder">Functor</span></a> <a id="H1:57" class="idref" href="#H1:57"><span class="id" title="binder">F</span></a>} {<a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a> <a id="B:59" class="idref" href="#B:59"><span class="id" title="binder">B</span></a>} (<a id="t:60" class="idref" href="#t:60"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:55"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:58"><span class="id" title="variable">A</span></a>)) (<a id="w:61" class="idref" href="#w:61"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<a id="f:62" class="idref" href="#f:62"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:59"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:55"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:61"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:55"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:62"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:60"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:55"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:62"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:55"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:61"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:60"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_fmap2" class="idref" href="#shift_fmap2"><span class="id" title="lemma">shift_fmap2</span></a> {<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a> <a id="B:64" class="idref" href="#B:64"><span class="id" title="binder">B</span></a>} `{<a id="H1:67" class="idref" href="#H1:67"><span class="id" title="binder">Functor</span></a> <a id="H1:67" class="idref" href="#H1:67"><span class="id" title="binder">F</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:68" class="idref" href="#f:68"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:64"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:65"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:68"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:65"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:65"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:65"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:68"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_fmap1"><span class="id" title="lemma">shift_fmap1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_fmap3" class="idref" href="#shift_fmap3"><span class="id" title="lemma">shift_fmap3</span></a> {<a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> <a id="B:70" class="idref" href="#B:70"><span class="id" title="binder">B</span></a>} `{<a id="H1:73" class="idref" href="#H1:73"><span class="id" title="binder">Functor</span></a> <a id="H1:73" class="idref" href="#H1:73"><span class="id" title="binder">F</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:74" class="idref" href="#f:74"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:69"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:70"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:71"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:74"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:71"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:71"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:71"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:74"><span class="id" title="variable">f</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_fmap2"><span class="id" title="lemma">shift_fmap2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;used&nbsp;in&nbsp;the&nbsp;binding&nbsp;case&nbsp;of&nbsp;the&nbsp;decorate-join&nbsp;law.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_increment" class="idref" href="#shift_increment"><span class="id" title="lemma">shift_increment</span></a> `{<a id="H1:77" class="idref" href="#H1:77"><span class="id" title="binder">Functor</span></a> <a id="H1:77" class="idref" href="#H1:77"><span class="id" title="binder">F</span></a>} {<a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="w:79" class="idref" href="#w:79"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:75"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:78"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="keyword">fun</span> <a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:79"><span class="id" title="variable">w</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#m:80"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:75"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="keyword">fun</span> <a id="m:81" class="idref" href="#m:81"><span class="id" title="binder">m</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:79"><span class="id" title="variable">w</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#m:81"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:75"><span class="id" title="variable">F</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">a</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w''</span> <span class="id" title="var">a'</span>]; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_assoc"><span class="id" title="method">monoid_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a></span> followed by discarding annotations (<span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="projection">extract</span></a></span> i.e. <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a></span>) is
      equivalent to simply discarding the original annotations. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_extract" class="idref" href="#shift_extract"><span class="id" title="lemma">shift_extract</span></a> `{<a id="H1:84" class="idref" href="#H1:84"><span class="id" title="binder">Functor</span></a> <a id="H1:84" class="idref" href="#H1:84"><span class="id" title="binder">F</span></a>} {<a id="A:85" class="idref" href="#A:85"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:82"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:82"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:82"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:82"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:85"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a>. <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_zero" class="idref" href="#shift_zero"><span class="id" title="lemma">shift_zero</span></a> `{<a id="H1:88" class="idref" href="#H1:88"><span class="id" title="binder">Functor</span></a> <a id="H1:88" class="idref" href="#H1:88"><span class="id" title="binder">F</span></a>} {<a id="A:89" class="idref" href="#A:89"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:90" class="idref" href="#t:90"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:86"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:89"><span class="id" title="variable">A</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:86"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:90"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:90"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="var">Y</span> := <span class="id" title="var">A</span>) (<span class="id" title="keyword">fun</span> <a id="w:92" class="idref" href="#w:92"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:91"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">rw</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rw</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_functor_lemmas"><span class="id" title="section">shift_functor_lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab126"></a><h2 class="section">Helper lemmas for proving typeclass instances</h2>
 Each of the following lemmas is useful for proving one of the laws
    of decorated functors in the binder case(s) of proofs that proceed
    by induction on terms. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="helper_lemmas" class="idref" href="#helper_lemmas"><span class="id" title="section">helper_lemmas</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:95" class="idref" href="#H0:95"><span class="id" title="binder">Functor</span></a> <a id="H0:95" class="idref" href="#H0:95"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:97" class="idref" href="#H1:97"><span class="id" title="binder">Decorate</span></a> <a id="H1:97" class="idref" href="#H1:97"><span class="id" title="binder">W</span></a> <a id="H1:97" class="idref" href="#H1:97"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:100" class="idref" href="#H2:100"><span class="id" title="binder">Monoid</span></a> <a id="H2:100" class="idref" href="#H2:100"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
</div>

<div class="doc">
This lemmasis useful for proving naturality of <code>dec</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_1" class="idref" href="#dec_helper_1"><span class="id" title="lemma">dec_helper_1</span></a> {<a id="A:101" class="idref" href="#A:101"><span class="id" title="binder">A</span></a> <a id="B:102" class="idref" href="#B:102"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:101"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:102"><span class="id" title="variable">B</span></a>) (<a id="t:104" class="idref" href="#t:104"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:101"><span class="id" title="variable">A</span></a>) (<a id="w:105" class="idref" href="#w:105"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:103"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:104"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:104"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:103"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:105"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:104"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:105"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:104"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IH</span>. <span class="comment">(*&nbsp;there&nbsp;is&nbsp;a&nbsp;hidden&nbsp;compose&nbsp;to&nbsp;unfold&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Now we can assume that <code>dec</code> is a natural transformation,
      which is needed for the following. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">!</span></a> <a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">Natural</span></a> <a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">(@</span></a><a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">dec</span></a> <a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">W</span></a> <a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">F</span></a> <a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">_</span></a><a id="Natural0:106" class="idref" href="#Natural0:106"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
</div>

<div class="doc">
This lemmas is useful for proving the dec-extract law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_2" class="idref" href="#dec_helper_2"><span class="id" title="lemma">dec_helper_2</span></a> {<a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:107"><span class="id" title="variable">A</span></a>) (<a id="w:109" class="idref" href="#w:109"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:108"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:109"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:108"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:108"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_extract"><span class="id" title="lemma">shift_extract</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemmas is useful for proving the double decoration law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_3" class="idref" href="#dec_helper_3"><span class="id" title="lemma">dec_helper_3</span></a> {<a id="A:110" class="idref" href="#A:110"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:111" class="idref" href="#t:111"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:110"><span class="id" title="variable">A</span></a>) (<a id="w:112" class="idref" href="#w:112"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:111"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:111"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:112"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:112"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:111"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:112"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:111"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemmas is useful for proving the decoration-join law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_4" class="idref" href="#dec_helper_4"><span class="id" title="lemma">dec_helper_4</span></a> `{<a id="H6:117" class="idref" href="#H6:117"><span class="id" title="binder">Monad</span></a> <a id="H6:117" class="idref" href="#H6:117"><span class="id" title="binder">T</span></a>} `{<a id="H7:118" class="idref" href="#H7:118"><span class="id" title="binder">Decorate</span></a> <a id="H7:118" class="idref" href="#H7:118"><span class="id" title="binder">W</span></a> <a id="H7:118" class="idref" href="#H7:118"><span class="id" title="binder">T</span></a>} {<a id="A:119" class="idref" href="#A:119"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:119"><span class="id" title="variable">A</span></a>)) (<a id="w:121" class="idref" href="#w:121"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:120"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:120"><span class="id" title="variable">t</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:121"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:120"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#w:121"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#T:113"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#t:120"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>) <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="var">T</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">T</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="var">T</span>) <span class="id" title="var">t</span>)) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <span class="id" title="var">T</span>). <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_increment"><span class="id" title="lemma">shift_increment</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">T</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">T</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="var">T</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">T</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="var">T</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">T</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="var">T</span>) <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">T</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#helper_lemmas"><span class="id" title="section">helper_lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab127"></a><h1 class="section">Zero-decorated functors</h1>
 Every functor is trivially decorated using the operation that
    pairs each leaf with the unit of the monoid. We call such functors
    zero-decorated. This allows us to see <i>all</i> functors as (maybe
    trivially) decorated. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_Zero" class="idref" href="#DecoratedFunctor_Zero"><span class="id" title="section">DecoratedFunctor_Zero</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">Monoid</span></a> <a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:128" class="idref" href="#H1:128"><span class="id" title="binder">Functor</span></a> <a id="H1:128" class="idref" href="#H1:128"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Decorate_zero" class="idref" href="#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:129" class="idref" href="#A:129"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<span class="id" title="keyword">fun</span> <a id="a:130" class="idref" href="#a:130"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#a:130"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Natural_dec_zero" class="idref" href="#Natural_dec_zero"><span class="id" title="instance">Natural_dec_zero</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_zero" class="idref" href="#dec_dec_zero"><span class="id" title="lemma">dec_dec_zero</span></a> {<a id="A:131" class="idref" href="#A:131"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:131"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_extract_zero" class="idref" href="#dec_extract_zero"><span class="id" title="lemma">dec_extract_zero</span></a> {<a id="A:132" class="idref" href="#A:132"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:132"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_zero" class="idref" href="#DecoratedFunctor_zero"><span class="id" title="instance">DecoratedFunctor_zero</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Natural_dec_zero"><span class="id" title="instance">Natural_dec_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_zero"><span class="id" title="lemma">dec_dec_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_extract_zero"><span class="id" title="lemma">dec_extract_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_Zero"><span class="id" title="section">DecoratedFunctor_Zero</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab128"></a><h1 class="section">Decorated functors form a monoidal category</h1>

<div class="paragraph"> </div>

<a id="lab129"></a><h2 class="section">The identity (zero-)decorated functor</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_I" class="idref" href="#DecoratedFunctor_I"><span class="id" title="section">DecoratedFunctor_I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:136" class="idref" href="#H:136"><span class="id" title="binder">Monoid</span></a> <a id="H:136" class="idref" href="#H:136"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dec_I" class="idref" href="#dec_I"><span class="id" title="definition">dec_I</span></a> : <span class="id" title="keyword">forall</span> <a id="A:137" class="idref" href="#A:137"><span class="id" title="binder">A</span></a>, <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:137"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_I" class="idref" href="#Decorate_I"><span class="id" title="instance">Decorate_I</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> (<span class="id" title="keyword">fun</span> <a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:139"><span class="id" title="variable">A</span></a>) := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_I"><span class="id" title="definition">dec_I</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Natural_dec_I" class="idref" href="#Natural_dec_I"><span class="id" title="instance">Natural_dec_I</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:140" class="idref" href="#A:140"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:140"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_I" class="idref" href="#dec_dec_I"><span class="id" title="lemma">dec_dec_I</span></a> {<a id="A:141" class="idref" href="#A:141"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:142" class="idref" href="#A:142"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:142"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:141"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="A:143" class="idref" href="#A:143"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:143"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="keyword">fun</span> <a id="A:147" class="idref" href="#A:147"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:147"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> '<a id="pat:146" class="idref" href="#pat:146"><span class="id" title="binder">(</span></a><a id="pat:146" class="idref" href="#pat:146"><span class="id" title="binder">n</span></a><a id="pat:146" class="idref" href="#pat:146"><span class="id" title="binder">,</span></a> <a id="pat:146" class="idref" href="#pat:146"><span class="id" title="binder">a</span></a><a id="pat:146" class="idref" href="#pat:146"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#n:145"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#n:145"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#a:144"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:148" class="idref" href="#A:148"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:148"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_extract_I" class="idref" href="#dec_extract_I"><span class="id" title="lemma">dec_extract_I</span></a> {<a id="A:149" class="idref" href="#A:149"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="keyword">fun</span> <a id="A:150" class="idref" href="#A:150"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:150"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:151" class="idref" href="#A:151"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:151"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:149"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_I" class="idref" href="#DecoratedFunctor_I"><span class="id" title="instance">DecoratedFunctor_I</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> (<span class="id" title="keyword">fun</span> <a id="A:152" class="idref" href="#A:152"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:152"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Natural_dec_I"><span class="id" title="instance">Natural_dec_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_I"><span class="id" title="lemma">dec_dec_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_extract_I"><span class="id" title="lemma">dec_extract_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_I"><span class="id" title="section">DecoratedFunctor_I</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab130"></a><h2 class="section">Decorated functors are closed under composition</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="Decoratedfunctor_composition" class="idref" href="#Decoratedfunctor_composition"><span class="id" title="section">Decoratedfunctor_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:156" class="idref" href="#H:156"><span class="id" title="binder">Monoid</span></a> <a id="H:156" class="idref" href="#H:156"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:158" class="idref" href="#H0:158"><span class="id" title="binder">Fmap</span></a> <a id="H0:158" class="idref" href="#H0:158"><span class="id" title="binder">F</span></a>} `{<a id="H1:160" class="idref" href="#H1:160"><span class="id" title="binder">Fmap</span></a> <a id="H1:160" class="idref" href="#H1:160"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:161" class="idref" href="#H2:161"><span class="id" title="binder">Decorate</span></a> <a id="H2:161" class="idref" href="#H2:161"><span class="id" title="binder">W</span></a> <a id="H2:161" class="idref" href="#H2:161"><span class="id" title="binder">F</span></a>} `{<a id="H3:162" class="idref" href="#H3:162"><span class="id" title="binder">Decorate</span></a> <a id="H3:162" class="idref" href="#H3:162"><span class="id" title="binder">W</span></a> <a id="H3:162" class="idref" href="#H3:162"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:163" class="idref" href="#DecoratedFunctor0:163"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:163" class="idref" href="#DecoratedFunctor0:163"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:163" class="idref" href="#DecoratedFunctor0:163"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:163" class="idref" href="#DecoratedFunctor0:163"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor1:164" class="idref" href="#DecoratedFunctor1:164"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor1:164" class="idref" href="#DecoratedFunctor1:164"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor1:164" class="idref" href="#DecoratedFunctor1:164"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor1:164" class="idref" href="#DecoratedFunctor1:164"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_compose" class="idref" href="#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:165" class="idref" href="#A:165"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Natural_dec_compose" class="idref" href="#Natural_dec_compose"><span class="id" title="instance">Natural_dec_compose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<span class="id" title="keyword">fun</span> <a id="A:166" class="idref" href="#A:166"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:166"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">W</span>:=<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;&nbsp;F&nbsp;(shift&nbsp;G)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;(G&nbsp;∘&nbsp;F)&nbsp;f&gt;&gt;.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_compose_in_compose</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_fmap3"><span class="id" title="lemma">shift_fmap3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;mov&nbsp;&lt;&lt;dec&nbsp;F&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;∘&nbsp;W&nbsp;∘&nbsp;G&nbsp;∘&nbsp;W&nbsp;f&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> -&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;move&nbsp;&lt;&lt;F&nbsp;(dec&nbsp;G)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((G&nbsp;∘&nbsp;W)&nbsp;f)&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The next few lemmas are used to build up a proof of the
   "double decoration law", <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="projection">dfun_dec_dec</span></a></span> <span class="inlinecode">(<a class="idref" href="Tealeaves.LN.AssocList.html#envmap_lemmas.F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode">∘</span> <span class="inlinecode"><a class="idref" href="Tealeaves.LN.AssocList.html#envmap_lemmas.G"><span class="id" title="variable">G</span></a>)</span> 
<div class="paragraph"> </div>

 Split the decoration wire on <code>G</code> into two wires with
      <code>dfun_dec_dec G</code> law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_1" class="idref" href="#dec_dec_compose_1"><span class="id" title="lemma">dec_dec_compose_1</span></a> {<a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:167"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;F&nbsp;(strength)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((W&nbsp;○&nbsp;G)&nbsp;(cojoin&nbsp;(prod&nbsp;W)))&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;dec&nbsp;F&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((W&nbsp;○&nbsp;G)&nbsp;(cojoin&nbsp;(prod&nbsp;W)))&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="strength_cojoin_r" class="idref" href="#strength_cojoin_r"><span class="id" title="lemma">strength_cojoin_r</span></a> {<a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:168"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a>, <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Split the decoration wire on <code>F</code> into two wires with
     <code>dfun_dec_dec F</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_2" class="idref" href="#dec_dec_compose_2"><span class="id" title="lemma">dec_dec_compose_2</span></a> {<a id="A:169" class="idref" href="#A:169"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:169"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#strength_cojoin_r"><span class="id" title="lemma">strength_cojoin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">A</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Slide the upper decoration wire on <code>G</code> past the lower
  decoration wire on <code>F</code>, which requires crossing them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_3" class="idref" href="#dec_dec_compose_3"><span class="id" title="lemma">dec_dec_compose_3</span></a> {<a id="A:170" class="idref" href="#A:170"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:170"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Functors.Writer.html#BeckDistribution_strength"><span class="id" title="instance">BeckDistribution_strength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">x</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a>, <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Re-arrange using naturality 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_5" class="idref" href="#dec_dec_compose_5"><span class="id" title="lemma">dec_dec_compose_5</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:171" class="idref" href="#A:171"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:171"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (@<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.H2"><span class="id" title="variable">H2</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">A</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">f</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_dec_compose" class="idref" href="#dec_dec_compose"><span class="id" title="lemma">dec_dec_compose</span></a> {<a id="A:172" class="idref" href="#A:172"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:172"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;RHS&nbsp;with&nbsp;the&nbsp;butterfly&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Functors.Writer.html#bimonad_butterfly"><span class="id" title="lemma">Writer.bimonad_butterfly</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;outer&nbsp;(prod&nbsp;W)&nbsp;wire&nbsp;with&nbsp;the&nbsp;&lt;&lt;dfun_dec_dec&gt;&gt;&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>). <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_compose_1"><span class="id" title="lemma">dec_dec_compose_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;outer&nbsp;(prod&nbsp;W)&nbsp;wire&nbsp;with&nbsp;the&nbsp;&lt;&lt;dfun_dec_dec&gt;&gt;&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>). <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_compose_2"><span class="id" title="lemma">dec_dec_compose_2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Slide&nbsp;a&nbsp;decoration&nbsp;on&nbsp;&lt;&lt;F&gt;&gt;&nbsp;and&nbsp;one&nbsp;on&nbsp;&lt;&lt;G&gt;&gt;&nbsp;past&nbsp;each&nbsp;other&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="tactic">do</span> 4 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">g</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_compose_3"><span class="id" title="lemma">dec_dec_compose_3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Flatten&nbsp;out&nbsp;a&nbsp;distribution&nbsp;bubble.&nbsp;Move&nbsp;the&nbsp;second&nbsp;decoration&nbsp;on&nbsp;&lt;&lt;F&gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;of&nbsp;the&nbsp;way&nbsp;to&nbsp;juxtapose&nbsp;the&nbsp;two&nbsp;distributions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">f</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">))</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (@<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">f</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">))</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.BeckDistributiveLaw.html#dist"><span class="id" title="definition">dist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Functors.Writer.html#writer_dist_involution"><span class="id" title="lemma">writer_dist_involution</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;final&nbsp;cleanup&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_compose_5"><span class="id" title="lemma">dec_dec_compose_5</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_extract_compose" class="idref" href="#dec_extract_compose"><span class="id" title="lemma">dec_extract_compose</span></a> {<a id="A:173" class="idref" href="#A:173"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:173"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;-. <span class="id" title="var">unfold_compose_in_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_extract"><span class="id" title="lemma">shift_extract</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>)) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_compose" class="idref" href="#DecoratedFunctor_compose"><span class="id" title="instance">DecoratedFunctor_compose</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Natural_dec_compose"><span class="id" title="instance">Natural_dec_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_dec_compose"><span class="id" title="lemma">dec_dec_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec_extract_compose"><span class="id" title="lemma">dec_extract_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_monoid"><span class="id" title="method">dfun_monoid</span></a> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_monoid"><span class="id" title="method">dfun_monoid</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decoratedfunctor_composition"><span class="id" title="section">Decoratedfunctor_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab131"></a><h2 class="section">Composition with zero-decorated functors</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_zero_composition" class="idref" href="#DecoratedFunctor_zero_composition"><span class="id" title="section">DecoratedFunctor_zero_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:174" class="idref" href="#F:174"><span class="id" title="binder">F</span></a> <a id="G:175" class="idref" href="#G:175"><span class="id" title="binder">G</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:177" class="idref" href="#H0:177"><span class="id" title="binder">Functor</span></a> <a id="H0:177" class="idref" href="#H0:177"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H3:183" class="idref" href="#H3:183"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H3:183" class="idref" href="#H3:183"><span class="id" title="binder">W</span></a> <a id="H3:183" class="idref" href="#H3:183"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span>: <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">dfun_monoid</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose" class="idref" href="#decorate_zero_compose"><span class="id" title="lemma">decorate_zero_compose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>) (<span class="id" title="var">A</span> := <span class="id" title="var">A</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_instance_0"><span class="id" title="instance">Decorate_instance_0</span></a> @<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="a:186" class="idref" href="#a:186"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#a:185"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#shift_zero"><span class="id" title="lemma">shift_zero</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_zero_composition"><span class="id" title="section">DecoratedFunctor_zero_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab132"></a><h1 class="section">Decorated functor instance for Writer</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_writer" class="idref" href="#DecoratedFunctor_writer"><span class="id" title="section">DecoratedFunctor_writer</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:190" class="idref" href="#H:190"><span class="id" title="binder">Monoid</span></a> <a id="H:190" class="idref" href="#H:190"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_prod" class="idref" href="#Decorate_prod"><span class="id" title="instance">Decorate_prod</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_writer.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_writer.W"><span class="id" title="variable">W</span></a>) := @<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_writer.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_prod" class="idref" href="#DecoratedFunctor_prod"><span class="id" title="instance">DecoratedFunctor_prod</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_writer.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_writer.W"><span class="id" title="variable">W</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?]).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#DecoratedFunctor_writer"><span class="id" title="section">DecoratedFunctor_writer</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab133"></a><h1 class="section">Kleisli presentation of decorated functors</h1>

<div class="paragraph"> </div>

<a id="lab134"></a><h2 class="section">Kleisli lifting operation <code>fmapd</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="fmapd" class="idref" href="#fmapd"><span class="id" title="definition">fmapd</span></a> <a id="F:191" class="idref" href="#F:191"><span class="id" title="binder">F</span></a> `{<a id="H:192" class="idref" href="#H:192"><span class="id" title="binder">Fmap</span></a> <a id="H:192" class="idref" href="#H:192"><span class="id" title="binder">F</span></a>} `{<a id="H0:194" class="idref" href="#H0:194"><span class="id" title="binder">Decorate</span></a> <a id="H0:194" class="idref" href="#H0:194"><span class="id" title="binder">W</span></a> <a id="H0:194" class="idref" href="#H0:194"><span class="id" title="binder">F</span></a>} {<a id="A:195" class="idref" href="#A:195"><span class="id" title="binder">A</span></a> <a id="B:196" class="idref" href="#B:196"><span class="id" title="binder">B</span></a>} (<a id="f:197" class="idref" href="#f:197"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#W:193"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:195"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:196"><span class="id" title="variable">B</span></a>) : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:191"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:195"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:191"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:196"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:191"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:197"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#F:191"><span class="id" title="variable">F</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab135"></a><h2 class="section">Specification for <code>fmap</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="decoratedfunctor_suboperations" class="idref" href="#decoratedfunctor_suboperations"><span class="id" title="section">decoratedfunctor_suboperations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:198" class="idref" href="#F:198"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:204" class="idref" href="#H1:204"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:204" class="idref" href="#H1:204"><span class="id" title="binder">W</span></a> <a id="H1:204" class="idref" href="#H1:204"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab136"></a><h3 class="section"><span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="projection">fmap</span></a></span> as a special case of <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a></span></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="fmap_to_fmapd" class="idref" href="#fmap_to_fmapd"><span class="id" title="lemma">fmap_to_fmapd</span></a> {<a id="A:205" class="idref" href="#A:205"><span class="id" title="binder">A</span></a> <a id="B:206" class="idref" href="#B:206"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:207" class="idref" href="#f:207"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:205"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:206"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:207"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:207"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_suboperations"><span class="id" title="section">decoratedfunctor_suboperations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab137"></a><h2 class="section">Interaction of <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="projection">dec</span></a></span> and <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a></span>, <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="projection">fmap</span></a></span></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="decoratedfunctor_dec_fmapd" class="idref" href="#decoratedfunctor_dec_fmapd"><span class="id" title="section">decoratedfunctor_dec_fmapd</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:208" class="idref" href="#F:208"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:214" class="idref" href="#H1:214"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:214" class="idref" href="#H1:214"><span class="id" title="binder">W</span></a> <a id="H1:214" class="idref" href="#H1:214"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_fmapd" class="idref" href="#dec_fmapd"><span class="id" title="lemma">dec_fmapd</span></a> {<a id="A:215" class="idref" href="#A:215"><span class="id" title="binder">A</span></a> <a id="B:216" class="idref" href="#B:216"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">forall</span> (<a id="f:217" class="idref" href="#f:217"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:215"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:216"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:217"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:217"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transparent</span> <span class="id" title="var">tcs</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_fmap" class="idref" href="#dec_fmap"><span class="id" title="lemma">dec_fmap</span></a> {<a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> <a id="B:219" class="idref" href="#B:219"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">forall</span> (<a id="f:220" class="idref" href="#f:220"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:219"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:220"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#decoratedfunctor_dec_fmapd"><span class="id" title="section">decoratedfunctor_dec_fmapd</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab138"></a><h2 class="section">Functoriality of <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a></span></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="fmapd_functoriality" class="idref" href="#fmapd_functoriality"><span class="id" title="section">fmapd_functoriality</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:221" class="idref" href="#F:221"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:227" class="idref" href="#H1:227"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:227" class="idref" href="#H1:227"><span class="id" title="binder">W</span></a> <a id="H1:227" class="idref" href="#H1:227"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab139"></a><h2 class="section">Functor laws for <span class="inlinecode"><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="fmapd_id" class="idref" href="#fmapd_id"><span class="id" title="lemma">fmapd_id</span></a> {<a id="A:228" class="idref" href="#A:228"><span class="id" title="binder">A</span></a>} : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:228"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="fmapd_fmapd" class="idref" href="#fmapd_fmapd"><span class="id" title="lemma">fmapd_fmapd</span></a> {<a id="A:229" class="idref" href="#A:229"><span class="id" title="binder">A</span></a> <a id="B:230" class="idref" href="#B:230"><span class="id" title="binder">B</span></a> <a id="C:231" class="idref" href="#C:231"><span class="id" title="binder">C</span></a>} (<a id="f:232" class="idref" href="#f:232"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:229"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:230"><span class="id" title="variable">B</span></a>) (<a id="g:233" class="idref" href="#g:233"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:230"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#C:231"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#g:233"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:232"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#g:233"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">co</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">⋆</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:232"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transparent</span> <span class="id" title="var">tcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_functoriality"><span class="id" title="section">fmapd_functoriality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab140"></a><h2 class="section">Composition laws for <code>fmapd</code>/<code>fmap</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="fmapd_suboperation_composition" class="idref" href="#fmapd_suboperation_composition"><span class="id" title="section">fmapd_suboperation_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:234" class="idref" href="#F:234"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:240" class="idref" href="#H1:240"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:240" class="idref" href="#H1:240"><span class="id" title="binder">W</span></a> <a id="H1:240" class="idref" href="#H1:240"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="fmap_fmapd" class="idref" href="#fmap_fmapd"><span class="id" title="lemma">fmap_fmapd</span></a> {<a id="A:241" class="idref" href="#A:241"><span class="id" title="binder">A</span></a> <a id="B:242" class="idref" href="#B:242"><span class="id" title="binder">B</span></a> <a id="C:243" class="idref" href="#C:243"><span class="id" title="binder">C</span></a>} : <span class="id" title="keyword">forall</span> (<a id="g:244" class="idref" href="#g:244"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:242"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#C:243"><span class="id" title="variable">C</span></a>) (<a id="f:245" class="idref" href="#f:245"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:241"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:242"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#g:244"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:245"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#g:244"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:245"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmap_to_fmapd"><span class="id" title="lemma">fmap_to_fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a>), (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_fmapd"><span class="id" title="lemma">fmapd_fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="fmapd_fmap" class="idref" href="#fmapd_fmap"><span class="id" title="lemma">fmapd_fmap</span></a> {<a id="A:246" class="idref" href="#A:246"><span class="id" title="binder">A</span></a> <a id="B:247" class="idref" href="#B:247"><span class="id" title="binder">B</span></a> <a id="C:248" class="idref" href="#C:248"><span class="id" title="binder">C</span></a>} : <span class="id" title="keyword">forall</span> (<a id="g:249" class="idref" href="#g:249"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:247"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#C:248"><span class="id" title="variable">C</span></a>) (<a id="f:250" class="idref" href="#f:250"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#A:246"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#B:247"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#g:249"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:250"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#g:249"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Theory.Product.html#map_snd"><span class="id" title="definition">map_snd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#f:250"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmap_to_fmapd"><span class="id" title="lemma">fmap_to_fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a>), (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_fmapd"><span class="id" title="lemma">fmapd_fmapd</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_suboperation_composition"><span class="id" title="section">fmapd_suboperation_composition</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
