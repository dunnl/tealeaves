<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Simplification.Tests.SystemF_Targeted</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#"><span class="id" title="library">Examples.SystemF.Syntax</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.Support.html#"><span class="id" title="library">Simplification.Tests.Support</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.MBinddt.html#"><span class="id" title="library">Simplification.MBinddt</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Binddt.html#"><span class="id" title="library">Simplification.Tests.SystemF_Binddt</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">G</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Multisorted.DecoratedTraversableMonad.html#mbinddt"><span class="id" title="definition">mbinddt</span></a> {<span class="id" title="var">ix</span>} {<span class="id" title="var">W</span>}%<span class="id" title="var">type_scope</span> {<span class="id" title="var">T</span>} <span class="id" title="var">U</span>%<span class="id" title="var">function_scope</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">MBind</span>} {<span class="id" title="var">F</span>}%<span class="id" title="var">function_scope</span> {<span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">F</span> <span class="id" title="var">W</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">K</span> <span class="id" title="var">M</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="local_lemmas_needed" class="idref" href="#local_lemmas_needed"><span class="id" title="section">local_lemmas_needed</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="U:1" class="idref" href="#U:1"><span class="id" title="binder">U</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">MultiDecoratedTraversablePreModule</span></a> <a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">W</span></a> <a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">T</span></a> <a id="H0:10" class="idref" href="#H0:10"><span class="id" title="binder">U</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="MultiDecoratedTraversableMonad0:11" class="idref" href="#MultiDecoratedTraversableMonad0:11"><span class="id" title="binder">!</span></a> <a id="MultiDecoratedTraversableMonad0:11" class="idref" href="#MultiDecoratedTraversableMonad0:11"><span class="id" title="binder">MultiDecoratedTraversableMonad</span></a> <a id="MultiDecoratedTraversableMonad0:11" class="idref" href="#MultiDecoratedTraversableMonad0:11"><span class="id" title="binder">W</span></a> <a id="MultiDecoratedTraversableMonad0:11" class="idref" href="#MultiDecoratedTraversableMonad0:11"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_to_mbindd" class="idref" href="#kbindd_to_mbindd"><span class="id" title="lemma">kbindd_to_mbindd</span></a>: <span class="id" title="keyword">∀</span> <a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> (<a id="k:13" class="idref" href="#k:13"><span class="id" title="binder">k</span></a>: <a class="idref" href="Tealeaves.Categories.TypeFamily.html#K"><span class="id" title="method">K</span></a>) (<a id="f:14" class="idref" href="#f:14"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:12"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:13"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:12"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.U"><span class="id" title="variable">U</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:13"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="Tealeaves.Classes.Multisorted.DecoratedTraversableMonad.html#mbindd"><span class="id" title="definition">mbindd</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.U"><span class="id" title="variable">U</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btgd"><span class="id" title="definition">btgd</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:13"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:14"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_to_mbind" class="idref" href="#kbind_to_mbind"><span class="id" title="lemma">kbind_to_mbind</span></a>: <span class="id" title="keyword">∀</span> <a id="A:15" class="idref" href="#A:15"><span class="id" title="binder">A</span></a> (<a id="k:16" class="idref" href="#k:16"><span class="id" title="binder">k</span></a>: <a class="idref" href="Tealeaves.Categories.TypeFamily.html#K"><span class="id" title="method">K</span></a>) (<a id="f:17" class="idref" href="#f:17"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:15"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:16"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:15"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.U"><span class="id" title="variable">U</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:16"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="Tealeaves.Classes.Multisorted.DecoratedTraversableMonad.html#mbind"><span class="id" title="definition">mbind</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.U"><span class="id" title="variable">U</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btg"><span class="id" title="definition">btg</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:16"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:17"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="btgd_compose_incr" class="idref" href="#btgd_compose_incr"><span class="id" title="lemma">btgd_compose_incr</span></a>: <span class="id" title="keyword">∀</span> <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> (<a id="k:19" class="idref" href="#k:19"><span class="id" title="binder">k</span></a>: <a class="idref" href="Tealeaves.Categories.TypeFamily.html#K"><span class="id" title="method">K</span></a>) (<a id="f:20" class="idref" href="#f:20"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#SystemF"><span class="id" title="definition">SystemF</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:19"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:18"><span class="id" title="variable">A</span></a>) <a id="w:21" class="idref" href="#w:21"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btgd"><span class="id" title="definition">btgd</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:19"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#220507b818767551b87430f96eda63fb"><span class="id" title="notation">◻</span></a> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#allK"><span class="id" title="definition">allK</span></a> (<a class="idref" href="Tealeaves.Classes.Monoid.html#incr"><span class="id" title="definition">incr</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#w:21"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btgd"><span class="id" title="definition">btgd</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:19"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#w:21"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#allK"><span class="id" title="definition">allK</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#vec_compose"><span class="id" title="definition">vec_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">k</span> <span class="id" title="var">and</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_tgt_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_tgt_neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Writer.html#extract_incr"><span class="id" title="lemma">extract_incr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tgtdt_compose_incr" class="idref" href="#tgtdt_compose_incr"><span class="id" title="lemma">tgtdt_compose_incr</span></a> `{<a id="H4:26" class="idref" href="#H4:26"><span class="id" title="binder">Applicative</span></a> <a id="H4:26" class="idref" href="#H4:26"><span class="id" title="binder">G</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a> (<a id="k:28" class="idref" href="#k:28"><span class="id" title="binder">k</span></a>: <a class="idref" href="Tealeaves.Categories.TypeFamily.html#K"><span class="id" title="method">K</span></a>) (<a id="f:29" class="idref" href="#f:29"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:27"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#G:22"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:27"><span class="id" title="variable">A</span></a>) <a id="w:30" class="idref" href="#w:30"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#tgtdt"><span class="id" title="definition">tgtdt</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:28"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:29"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#220507b818767551b87430f96eda63fb"><span class="id" title="notation">◻</span></a> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#allK"><span class="id" title="definition">allK</span></a> (<a class="idref" href="Tealeaves.Classes.Monoid.html#incr"><span class="id" title="definition">incr</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#w:30"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#tgtdt"><span class="id" title="definition">tgtdt</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:28"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f:29"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#w:30"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#allK"><span class="id" title="definition">allK</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Categories.TypeFamily.html#vec_compose"><span class="id" title="definition">vec_compose</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#tgtdt"><span class="id" title="definition">tgtdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">k</span> <span class="id" title="var">and</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#local_lemmas_needed"><span class="id" title="section">local_lemmas_needed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kbindd_pre_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#btgd_compose_incr"><span class="id" title="lemma">btgd_compose_incr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kbindd_post_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kbindd</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#kbindd_to_mbindd"><span class="id" title="lemma">kbindd_to_mbindd</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_mbindd</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kbindd_pre_refold_hook</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#kbindd_to_mbindd"><span class="id" title="lemma">kbindd_to_mbindd</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_kbindd_post_refold_hook</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1159"></a><h2 class="section"><code>kbindd</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="rw_kbindd" class="idref" href="#rw_kbindd"><span class="id" title="section">rw_kbindd</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:32" class="idref" href="#k:32"><span class="id" title="binder">k</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:33" class="idref" href="#f:33"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:31"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#SystemF"><span class="id" title="definition">SystemF</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:32"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:31"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tactic_being_tested</span> ::= <span class="id" title="var">simplify_kbindd</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_type_rw1" class="idref" href="#kbindd_type_rw1"><span class="id" title="lemma">kbindd_type_rw1</span></a> : <span class="id" title="keyword">∀</span> <a id="c:34" class="idref" href="#c:34"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:34"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:34"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_type_rw2_neq" class="idref" href="#kbindd_type_rw2_neq"><span class="id" title="lemma">kbindd_type_rw2_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:35"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:35"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kbindd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btgd_neq"><span class="id" title="lemma">btgd_neq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;kbindd_type_neq_rw2_eq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A)&nbsp;(Heq:&nbsp;k&nbsp;=&nbsp;ktyp),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kbindd&nbsp;typ&nbsp;k&nbsp;f&nbsp;(ty_v&nbsp;a)&nbsp;=&nbsp;rew&nbsp;Heq&nbsp;in&nbsp;(f&nbsp;(<span class="inlinecode"></span>,&nbsp;a)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simplify_kbindd.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_eq.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_type_rw3" class="idref" href="#kbindd_type_rw3"><span class="id" title="lemma">kbindd_type_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:36" class="idref" href="#t1:36"><span class="id" title="binder">t1</span></a> <a id="t2:37" class="idref" href="#t2:37"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:36"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:37"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:36"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:37"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_type_rw4" class="idref" href="#kbindd_type_rw4"><span class="id" title="lemma">kbindd_type_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="body:38" class="idref" href="#body:38"><span class="id" title="binder">body</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:38"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:38"><span class="id" title="variable">body</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_term_rw1_neq" class="idref" href="#kbindd_term_rw1_neq"><span class="id" title="lemma">kbindd_term_rw1_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:39"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:39"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kbindd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btgd_neq"><span class="id" title="lemma">btgd_neq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_term_rw2" class="idref" href="#kbindd_term_rw2"><span class="id" title="lemma">kbindd_term_rw2</span></a> : <span class="id" title="keyword">∀</span> (<a id="cc5f76da241037f0ec906098a81cdec1" class="idref" href="#cc5f76da241037f0ec906098a81cdec1"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>) (<a id="t:41" class="idref" href="#t:41"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#cc5f76da241037f0ec906098a81cdec1"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:41"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#cc5f76da241037f0ec906098a81cdec1"><span class="id" title="variable">τ</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:41"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_term_rw3" class="idref" href="#kbindd_term_rw3"><span class="id" title="lemma">kbindd_term_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:42" class="idref" href="#t1:42"><span class="id" title="binder">t1</span></a> <a id="t2:43" class="idref" href="#t2:43"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:42"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:43"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:42"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:43"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_term_rw4" class="idref" href="#kbindd_term_rw4"><span class="id" title="lemma">kbindd_term_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:44"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:44"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbindd_term_rw5" class="idref" href="#kbindd_term_rw5"><span class="id" title="lemma">kbindd_term_rw5</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>) (<a id="8dfc097153aafc09b67bbe132f0f695e" class="idref" href="#8dfc097153aafc09b67bbe132f0f695e"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#8dfc097153aafc09b67bbe132f0f695e"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:45"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbindd"><span class="id" title="definition">kbindd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#8dfc097153aafc09b67bbe132f0f695e"><span class="id" title="variable">τ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbindd"><span class="id" title="section">rw_kbindd</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kbind_pre_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#btgd_compose_incr"><span class="id" title="lemma">btgd_compose_incr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kbind_post_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kbind</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#kbind_to_mbind"><span class="id" title="lemma">kbind_to_mbind</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_mbind</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_kbind_pre_refold_hook</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#kbind_to_mbind"><span class="id" title="lemma">kbind_to_mbind</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_kbind_post_refold_hook</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1160"></a><h2 class="section"><code>kbind</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="rw_kbind" class="idref" href="#rw_kbind"><span class="id" title="section">rw_kbind</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:47" class="idref" href="#A:47"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:48" class="idref" href="#k:48"><span class="id" title="binder">k</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:49" class="idref" href="#f:49"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#SystemF"><span class="id" title="definition">SystemF</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#k:48"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:47"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tactic_being_tested</span> ::= <span class="id" title="var">simplify_kbind</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_type_rw1" class="idref" href="#kbind_type_rw1"><span class="id" title="lemma">kbind_type_rw1</span></a> : <span class="id" title="keyword">∀</span> <a id="c:50" class="idref" href="#c:50"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:50"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:50"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_type_rw2_neq" class="idref" href="#kbind_type_rw2_neq"><span class="id" title="lemma">kbind_type_rw2_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:51" class="idref" href="#a:51"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:51"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:51"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#kbind_to_mbind"><span class="id" title="lemma">kbind_to_mbind</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_mbind</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_kbind_pre_refold_hook</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#kbind_to_mbind"><span class="id" title="lemma">kbind_to_mbind</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_kbind_post_refold_hook</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btg_neq"><span class="id" title="lemma">btg_neq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_type_rw3" class="idref" href="#kbind_type_rw3"><span class="id" title="lemma">kbind_type_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:52" class="idref" href="#t1:52"><span class="id" title="binder">t1</span></a> <a id="t2:53" class="idref" href="#t2:53"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:52"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:53"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:52"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:53"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_type_rw4" class="idref" href="#kbind_type_rw4"><span class="id" title="lemma">kbind_type_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="body:54" class="idref" href="#body:54"><span class="id" title="binder">body</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:54"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:54"><span class="id" title="variable">body</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_term_rw1_neq" class="idref" href="#kbind_term_rw1_neq"><span class="id" title="lemma">kbind_term_rw1_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:55" class="idref" href="#a:55"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:55"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:55"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kbind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btg_neq"><span class="id" title="lemma">btg_neq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_term_rw2" class="idref" href="#kbind_term_rw2"><span class="id" title="lemma">kbind_term_rw2</span></a> : <span class="id" title="keyword">∀</span> (<a id="3da9477dfc1b3652a94a129e2c00bce5" class="idref" href="#3da9477dfc1b3652a94a129e2c00bce5"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>) (<a id="t:57" class="idref" href="#t:57"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#3da9477dfc1b3652a94a129e2c00bce5"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:57"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#3da9477dfc1b3652a94a129e2c00bce5"><span class="id" title="variable">τ</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:57"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_term_rw3" class="idref" href="#kbind_term_rw3"><span class="id" title="lemma">kbind_term_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:58" class="idref" href="#t1:58"><span class="id" title="binder">t1</span></a> <a id="t2:59" class="idref" href="#t2:59"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:58"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:59"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:58"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:59"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_term_rw4" class="idref" href="#kbind_term_rw4"><span class="id" title="lemma">kbind_term_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:60" class="idref" href="#t:60"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:60"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:60"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kbind_term_rw5" class="idref" href="#kbind_term_rw5"><span class="id" title="lemma">kbind_term_rw5</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:61" class="idref" href="#t:61"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>) (<a id="0b1aa97a995d3fe663463203b44dc450" class="idref" href="#0b1aa97a995d3fe663463203b44dc450"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:61"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#0b1aa97a995d3fe663463203b44dc450"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:61"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kbind"><span class="id" title="definition">kbind</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#0b1aa97a995d3fe663463203b44dc450"><span class="id" title="variable">τ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kbind"><span class="id" title="section">rw_kbind</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kmapdt_pre_refold_hook</span> <span class="id" title="var">ix</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#tgtdt_compose_incr"><span class="id" title="lemma">tgtdt_compose_incr</span></a> (<span class="id" title="var">ix</span> := <span class="id" title="var">ix</span>)).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kmapdt_post_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_kmapdt</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> (<span class="id" title="var">W</span> := ?<span class="id" title="var">W</span>) (<span class="id" title="var">T</span> := ?<span class="id" title="var">T</span>) (<span class="id" title="var">ix</span> := ?<span class="id" title="var">ix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">U</span> ?<span class="id" title="var">k</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">t</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt_to_mmapdt"><span class="id" title="lemma">kmapdt_to_mmapdt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_mmapdt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kmapdt_pre_refold_hook</span> <span class="id" title="var">ix</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt_to_mmapdt"><span class="id" title="lemma">kmapdt_to_mmapdt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kmapdt_post_refold_hook</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1161"></a><h2 class="section"><code>kmapdt</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="rw_kmapdt" class="idref" href="#rw_kmapdt"><span class="id" title="section">rw_kmapdt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:68" class="idref" href="#H2:68"><span class="id" title="binder">Applicative</span></a> <a id="H2:68" class="idref" href="#H2:68"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:69" class="idref" href="#k:69"><span class="id" title="binder">k</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:70" class="idref" href="#f:70"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#G:64"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:63"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tactic_being_tested</span> ::= <span class="id" title="var">simplify_kmapdt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_type_rw1" class="idref" href="#kmapdt_type_rw1"><span class="id" title="lemma">kmapdt_type_rw1</span></a> : <span class="id" title="keyword">∀</span> <a id="c:71" class="idref" href="#c:71"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:71"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:71"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_type_rw2_neq" class="idref" href="#kmapdt_type_rw2_neq"><span class="id" title="lemma">kmapdt_type_rw2_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:72" class="idref" href="#a:72"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:72"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:72"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_kmapdt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;kmapdt_type_neq_rw2_eq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A)&nbsp;(Heq:&nbsp;k&nbsp;=&nbsp;ktyp),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kmapdt&nbsp;typ&nbsp;k&nbsp;f&nbsp;(ty_v&nbsp;a)&nbsp;=&nbsp;rew&nbsp;Heq&nbsp;in&nbsp;(f&nbsp;(<span class="inlinecode"></span>,&nbsp;a)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simplify_kmapdt.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_eq.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_type_rw3" class="idref" href="#kmapdt_type_rw3"><span class="id" title="lemma">kmapdt_type_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:73" class="idref" href="#t1:73"><span class="id" title="binder">t1</span></a> <a id="t2:74" class="idref" href="#t2:74"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:73"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:74"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:73"><span class="id" title="variable">t1</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:74"><span class="id" title="variable">t2</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_type_rw4" class="idref" href="#kmapdt_type_rw4"><span class="id" title="lemma">kmapdt_type_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="body:75" class="idref" href="#body:75"><span class="id" title="binder">body</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:75"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:75"><span class="id" title="variable">body</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Lemma&nbsp;kmapdt_term_rw1_neq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&lt;&gt;&nbsp;ktrm&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kmapdt&nbsp;term&nbsp;k&nbsp;f&nbsp;(tm_var&nbsp;a)&nbsp;=&nbsp;tm_var&nbsp;a.<br/>
&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;simplify_kmapdt.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_neq;&nbsp;auto.<br/>
&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_term_rw2" class="idref" href="#kmapdt_term_rw2"><span class="id" title="lemma">kmapdt_term_rw2</span></a> : <span class="id" title="keyword">∀</span> (<a id="579ee7e271bda935400ada50bf93a209" class="idref" href="#579ee7e271bda935400ada50bf93a209"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>) (<a id="t:77" class="idref" href="#t:77"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#579ee7e271bda935400ada50bf93a209"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:77"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#579ee7e271bda935400ada50bf93a209"><span class="id" title="variable">τ</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:77"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_term_rw3" class="idref" href="#kmapdt_term_rw3"><span class="id" title="lemma">kmapdt_term_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:78" class="idref" href="#t1:78"><span class="id" title="binder">t1</span></a> <a id="t2:79" class="idref" href="#t2:79"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:78"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:79"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:78"><span class="id" title="variable">t1</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:79"><span class="id" title="variable">t2</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_term_rw4" class="idref" href="#kmapdt_term_rw4"><span class="id" title="lemma">kmapdt_term_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:80" class="idref" href="#t:80"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:80"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:80"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kmapdt_term_rw5" class="idref" href="#kmapdt_term_rw5"><span class="id" title="lemma">kmapdt_term_rw5</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:81" class="idref" href="#t:81"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>) (<a id="e17c0902c02dcc8956f5ecef020ce2bc" class="idref" href="#e17c0902c02dcc8956f5ecef020ce2bc"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:81"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#e17c0902c02dcc8956f5ecef020ce2bc"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:81"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#kmapdt"><span class="id" title="definition">kmapdt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#e17c0902c02dcc8956f5ecef020ce2bc"><span class="id" title="variable">τ</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_kmapdt"><span class="id" title="section">rw_kmapdt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_foldMapkd_pre_refold_hook</span> <span class="id" title="var">ix</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_foldMapkd_post_refold_hook</span> <span class="id" title="var">M</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simplify_applicative_const</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simplify_monoid_units</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="keyword">Type</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">M</span> ?<span class="id" title="var">anything</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">M</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_foldMapkd</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> (<span class="id" title="var">W</span> := ?<span class="id" title="var">W</span>) (<span class="id" title="var">T</span> := ?<span class="id" title="var">T</span>) (<span class="id" title="var">ix</span> := ?<span class="id" title="var">ix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M</span> := ?<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">U</span> ?<span class="id" title="var">k</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">t</span>] ⇒<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd_to_kmapdt"><span class="id" title="lemma">foldMapkd_to_kmapdt</span></a> <span class="id" title="var">U</span> (<span class="id" title="var">M</span> := <span class="id" title="var">M</span>));<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_kmapdt</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapkd_pre_refold_hook</span> <span class="id" title="var">ix</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?(<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd_to_kmapdt"><span class="id" title="lemma">foldMapkd_to_kmapdt</span></a> <span class="id" title="var">U</span> (<span class="id" title="var">M</span> := <span class="id" title="var">M</span>));<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?(<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd_to_kmapdt"><span class="id" title="lemma">foldMapkd_to_kmapdt</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">M</span> := <span class="id" title="var">M</span>));<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;This&nbsp;is&nbsp;used&nbsp;because&nbsp;"_"&nbsp;might&nbsp;not&nbsp;match&nbsp;the&nbsp;U&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapkd_post_refold_hook</span> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1162"></a><h2 class="section"><code>foldMapkd</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="rw_foldMapkd" class="idref" href="#rw_foldMapkd"><span class="id" title="section">rw_foldMapkd</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:83" class="idref" href="#A:83"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:87" class="idref" href="#H:87"><span class="id" title="binder">Monoid</span></a> <a id="H:87" class="idref" href="#H:87"><span class="id" title="binder">M</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:88" class="idref" href="#k:88"><span class="id" title="binder">k</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:89" class="idref" href="#f:89"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:83"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#M:84"><span class="id" title="variable">M</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tactic_being_tested</span> ::= <span class="id" title="var">simplify_foldMapkd</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_type_rw1" class="idref" href="#foldMapkd_type_rw1"><span class="id" title="lemma">foldMapkd_type_rw1</span></a> : <span class="id" title="keyword">∀</span> <a id="c:90" class="idref" href="#c:90"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:90"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_type_rw2_neq" class="idref" href="#foldMapkd_type_rw2_neq"><span class="id" title="lemma">foldMapkd_type_rw2_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:91" class="idref" href="#a:91"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:91"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:91"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapkd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;foldMapkd_type_neq_rw2_eq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A)&nbsp;(Heq:&nbsp;k&nbsp;=&nbsp;ktyp),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foldMapkd&nbsp;typ&nbsp;k&nbsp;f&nbsp;(ty_v&nbsp;a)&nbsp;=&nbsp;rew&nbsp;Heq&nbsp;in&nbsp;(f&nbsp;(<span class="inlinecode"></span>,&nbsp;a)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simplify_foldMapkd.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_eq.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_type_rw3" class="idref" href="#foldMapkd_type_rw3"><span class="id" title="lemma">foldMapkd_type_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:92" class="idref" href="#t1:92"><span class="id" title="binder">t1</span></a> <a id="t2:93" class="idref" href="#t2:93"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:92"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:93"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:92"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:93"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_type_rw4" class="idref" href="#foldMapkd_type_rw4"><span class="id" title="lemma">foldMapkd_type_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="body:94" class="idref" href="#body:94"><span class="id" title="binder">body</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:94"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:94"><span class="id" title="variable">body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Lemma&nbsp;foldMapkd_term_rw1_neq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&lt;&gt;&nbsp;ktrm&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foldMapkd&nbsp;term&nbsp;k&nbsp;f&nbsp;(tm_var&nbsp;a)&nbsp;=&nbsp;tm_var&nbsp;a.<br/>
&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;simplify_foldMapkd.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_neq;&nbsp;auto.<br/>
&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_term_rw2" class="idref" href="#foldMapkd_term_rw2"><span class="id" title="lemma">foldMapkd_term_rw2</span></a> : <span class="id" title="keyword">∀</span> (<a id="b74111b7ef8c82e3be453cfd3aa1d5f7" class="idref" href="#b74111b7ef8c82e3be453cfd3aa1d5f7"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>) (<a id="t:96" class="idref" href="#t:96"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#b74111b7ef8c82e3be453cfd3aa1d5f7"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:96"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#b74111b7ef8c82e3be453cfd3aa1d5f7"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:96"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_term_rw3" class="idref" href="#foldMapkd_term_rw3"><span class="id" title="lemma">foldMapkd_term_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:97" class="idref" href="#t1:97"><span class="id" title="binder">t1</span></a> <a id="t2:98" class="idref" href="#t2:98"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:97"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:98"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:97"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:98"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_term_rw4" class="idref" href="#foldMapkd_term_rw4"><span class="id" title="lemma">foldMapkd_term_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:99"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:99"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapkd_term_rw5" class="idref" href="#foldMapkd_term_rw5"><span class="id" title="lemma">foldMapkd_term_rw5</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:100" class="idref" href="#t:100"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>) (<a id="8b7b0276f71bb459804d3caed6db47c1" class="idref" href="#8b7b0276f71bb459804d3caed6db47c1"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:100"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#8b7b0276f71bb459804d3caed6db47c1"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:100"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapkd"><span class="id" title="definition">foldMapkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#8b7b0276f71bb459804d3caed6db47c1"><span class="id" title="variable">τ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapkd"><span class="id" title="section">rw_foldMapkd</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_Forallkd_pre_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_Forallkd_post_refold_hook</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Misc.Prop.html#Monoid_op_and"><span class="id" title="instance">Monoid_op_and</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Misc.Prop.html#Monoid_unit_true"><span class="id" title="instance">Monoid_unit_true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_Forallkd</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> (<span class="id" title="var">W</span> := ?<span class="id" title="var">W</span>) (<span class="id" title="var">T</span> := ?<span class="id" title="var">T</span>) (<span class="id" title="var">ix</span> := ?<span class="id" title="var">ix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">U</span> ?<span class="id" title="var">k</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">t</span>] ⇒<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd_to_foldMapkd"><span class="id" title="lemma">Forallkd_to_foldMapkd</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapkd</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_Forallkd_pre_refold_hook</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd_to_foldMapkd"><span class="id" title="lemma">Forallkd_to_foldMapkd</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_Forallkd_post_refold_hook</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1163"></a><h2 class="section"><code>Forallkd</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="rw_Forallkd" class="idref" href="#rw_Forallkd"><span class="id" title="section">rw_Forallkd</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:102" class="idref" href="#A:102"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:106" class="idref" href="#H:106"><span class="id" title="binder">Monoid</span></a> <a id="H:106" class="idref" href="#H:106"><span class="id" title="binder">M</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:107" class="idref" href="#k:107"><span class="id" title="binder">k</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:108" class="idref" href="#f:108"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:102"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tactic_being_tested</span> ::= <span class="id" title="var">simplify_Forallkd</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_type_rw1" class="idref" href="#Forallkd_type_rw1"><span class="id" title="lemma">Forallkd_type_rw1</span></a> : <span class="id" title="keyword">∀</span> <a id="c:109" class="idref" href="#c:109"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:109"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_type_rw2_neq" class="idref" href="#Forallkd_type_rw2_neq"><span class="id" title="lemma">Forallkd_type_rw2_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:110" class="idref" href="#a:110"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:110"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_Forallkd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;Forallkd_type_neq_rw2_eq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A)&nbsp;(Heq:&nbsp;k&nbsp;=&nbsp;ktyp),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Forallkd&nbsp;typ&nbsp;k&nbsp;f&nbsp;(ty_v&nbsp;a)&nbsp;=&nbsp;rew&nbsp;Heq&nbsp;in&nbsp;(f&nbsp;(<span class="inlinecode"></span>,&nbsp;a)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simplify_Forallkd.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_eq.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_type_rw3" class="idref" href="#Forallkd_type_rw3"><span class="id" title="lemma">Forallkd_type_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:111" class="idref" href="#t1:111"><span class="id" title="binder">t1</span></a> <a id="t2:112" class="idref" href="#t2:112"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:111"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:112"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:111"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:112"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_type_rw4" class="idref" href="#Forallkd_type_rw4"><span class="id" title="lemma">Forallkd_type_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="body:113" class="idref" href="#body:113"><span class="id" title="binder">body</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:113"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:113"><span class="id" title="variable">body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Lemma&nbsp;Forallkd_term_rw1_neq&nbsp;:&nbsp;forall&nbsp;(a&nbsp;:&nbsp;A),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&lt;&gt;&nbsp;ktrm&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Forallkd&nbsp;term&nbsp;k&nbsp;f&nbsp;(tm_var&nbsp;a)&nbsp;=&nbsp;tm_var&nbsp;a.<br/>
&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;simplify_Forallkd.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;btgd_neq;&nbsp;auto.<br/>
&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_term_rw2" class="idref" href="#Forallkd_term_rw2"><span class="id" title="lemma">Forallkd_term_rw2</span></a> : <span class="id" title="keyword">∀</span> (<a id="8742ea2bfbdcd808fbb21a4ca632ef1b" class="idref" href="#8742ea2bfbdcd808fbb21a4ca632ef1b"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>) (<a id="t:115" class="idref" href="#t:115"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#8742ea2bfbdcd808fbb21a4ca632ef1b"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:115"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#8742ea2bfbdcd808fbb21a4ca632ef1b"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:115"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_term_rw3" class="idref" href="#Forallkd_term_rw3"><span class="id" title="lemma">Forallkd_term_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:116" class="idref" href="#t1:116"><span class="id" title="binder">t1</span></a> <a id="t2:117" class="idref" href="#t2:117"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:116"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:117"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:116"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:117"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_term_rw4" class="idref" href="#Forallkd_term_rw4"><span class="id" title="lemma">Forallkd_term_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:118" class="idref" href="#t:118"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:118"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:118"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Forallkd_term_rw5" class="idref" href="#Forallkd_term_rw5"><span class="id" title="lemma">Forallkd_term_rw5</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:119" class="idref" href="#t:119"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>) (<a id="f2a7027ec2ee1b518695e2be28ace88b" class="idref" href="#f2a7027ec2ee1b518695e2be28ace88b"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f2a7027ec2ee1b518695e2be28ace88b"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#Forallkd"><span class="id" title="definition">Forallkd</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#f2a7027ec2ee1b518695e2be28ace88b"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_Forallkd"><span class="id" title="section">rw_Forallkd</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_foldMapk_pre_refold_hook</span> <span class="id" title="var">ix</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">push_preincr_into_fn</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_foldMapk_post_refold_hook</span> <span class="id" title="var">M</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_foldMapk</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> (<span class="id" title="var">W</span> := ?<span class="id" title="var">W</span>) (<span class="id" title="var">T</span> := ?<span class="id" title="var">T</span>) (<span class="id" title="var">ix</span> := ?<span class="id" title="var">ix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M</span> := ?<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">U</span> ?<span class="id" title="var">k</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">t</span>] ⇒<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk_to_foldMapkd"><span class="id" title="lemma">foldMapk_to_foldMapkd</span></a> (<span class="id" title="var">ix</span> := <span class="id" title="var">ix</span>) <span class="id" title="var">U</span> (<span class="id" title="var">M</span> := <span class="id" title="var">M</span>));<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapkd</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapk_pre_refold_hook</span> <span class="id" title="var">ix</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?(<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk_to_foldMapkd"><span class="id" title="lemma">foldMapk_to_foldMapkd</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">M</span> := <span class="id" title="var">M</span>));<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapk_post_refold_hook</span> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1164"></a><h2 class="section"><code>foldMapk</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="rw_foldMapk" class="idref" href="#rw_foldMapk"><span class="id" title="section">rw_foldMapk</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:121" class="idref" href="#A:121"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">Monoid</span></a> <a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">M</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:126" class="idref" href="#k:126"><span class="id" title="binder">k</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#K2"><span class="id" title="inductive">K2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#A:121"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#M:122"><span class="id" title="variable">M</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tactic_being_tested</span> ::= <span class="id" title="var">simplify_foldMapk</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_type_rw1" class="idref" href="#foldMapk_type_rw1"><span class="id" title="lemma">foldMapk_type_rw1</span></a> : <span class="id" title="keyword">∀</span> <a id="c:128" class="idref" href="#c:128"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_c"><span class="id" title="constructor">ty_c</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#c:128"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_type_rw2_neq" class="idref" href="#foldMapk_type_rw2_neq"><span class="id" title="lemma">foldMapk_type_rw2_neq</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:129" class="idref" href="#a:129"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#a:129"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_foldMapk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_type_rw3" class="idref" href="#foldMapk_type_rw3"><span class="id" title="lemma">foldMapk_type_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:130" class="idref" href="#t1:130"><span class="id" title="binder">t1</span></a> <a id="t2:131" class="idref" href="#t2:131"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:130"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:131"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:130"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:131"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_type_rw4" class="idref" href="#foldMapk_type_rw4"><span class="id" title="lemma">foldMapk_type_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="body:132" class="idref" href="#body:132"><span class="id" title="binder">body</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:132"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#body:132"><span class="id" title="variable">body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_term_rw2" class="idref" href="#foldMapk_term_rw2"><span class="id" title="lemma">foldMapk_term_rw2</span></a> : <span class="id" title="keyword">∀</span> (<a id="cade8d7f769b82684b3389ae1ce8b184" class="idref" href="#cade8d7f769b82684b3389ae1ce8b184"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>) (<a id="t:134" class="idref" href="#t:134"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_abs"><span class="id" title="constructor">tm_abs</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#cade8d7f769b82684b3389ae1ce8b184"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:134"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#cade8d7f769b82684b3389ae1ce8b184"><span class="id" title="variable">τ</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:134"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_term_rw3" class="idref" href="#foldMapk_term_rw3"><span class="id" title="lemma">foldMapk_term_rw3</span></a> : <span class="id" title="keyword">∀</span> (<a id="t1:135" class="idref" href="#t1:135"><span class="id" title="binder">t1</span></a> <a id="t2:136" class="idref" href="#t2:136"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_app"><span class="id" title="constructor">tm_app</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:135"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:136"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t1:135"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t2:136"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_term_rw4" class="idref" href="#foldMapk_term_rw4"><span class="id" title="lemma">foldMapk_term_rw4</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:137" class="idref" href="#t:137"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tab"><span class="id" title="constructor">tm_tab</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:137"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:137"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapk_term_rw5" class="idref" href="#foldMapk_term_rw5"><span class="id" title="lemma">foldMapk_term_rw5</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>) (<a id="b28d17fdf8b23785d70d634c62f23f40" class="idref" href="#b28d17fdf8b23785d70d634c62f23f40"><span class="id" title="binder">τ</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_tap"><span class="id" title="constructor">tm_tap</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#b28d17fdf8b23785d70d634c62f23f40"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Foldmap.html#foldMapk"><span class="id" title="definition">foldMapk</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#b28d17fdf8b23785d70d634c62f23f40"><span class="id" title="variable">τ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">test_simplification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Simplification.Tests.SystemF_Targeted.html#rw_foldMapk"><span class="id" title="section">rw_foldMapk</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
