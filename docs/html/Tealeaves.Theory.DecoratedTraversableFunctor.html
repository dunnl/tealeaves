<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Theory.DecoratedTraversableFunctor</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#"><span class="id" title="library">Functors.Batch</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#"><span class="id" title="library">Classes.Kleisli.DecoratedTraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#"><span class="id" title="library">Classes.Kleisli.DecoratedContainerFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#"><span class="id" title="library">Classes.Kleisli.DecoratedShapelyFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#"><span class="id" title="library">Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Environment.html#"><span class="id" title="library">Functors.Environment</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#"><span class="id" title="library">Theory.TraversableFunctor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Misc.Product.html#Notations"><span class="id" title="module">Product.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Notations"><span class="id" title="module">Batch.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">List.ListNotations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Misc.Subset.html#Notations"><span class="id" title="module">Subset.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#Notations"><span class="id" title="module">ContainerFunctor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#Notations"><span class="id" title="module">DecoratedContainerFunctor.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">F</span> <span class="id" title="var">M</span> <span class="id" title="var">E</span> <span class="id" title="var">T</span> <span class="id" title="var">G</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">type_scope</span> {<span class="id" title="var">F</span>}%<span class="id" title="var">function_scope</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>} <span class="id" title="var">ϕ</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">C</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">b</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="decorated_traversable_functor_theory" class="idref" href="#decorated_traversable_functor_theory"><span class="id" title="section">decorated_traversable_functor_theory</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:4" class="idref" href="#H0:4"><span class="id" title="binder">DecoratedTraversableFunctor</span></a> <a id="H0:4" class="idref" href="#H0:4"><span class="id" title="binder">E</span></a> <a id="H0:4" class="idref" href="#H0:4"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:5" class="idref" href="#H1:5"><span class="id" title="binder">Map</span></a> <a id="H1:5" class="idref" href="#H1:5"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:6" class="idref" href="#H2:6"><span class="id" title="binder">Mapd</span></a> <a id="H2:6" class="idref" href="#H2:6"><span class="id" title="binder">E</span></a> <a id="H2:6" class="idref" href="#H2:6"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H3:7" class="idref" href="#H3:7"><span class="id" title="binder">!</span></a> <a id="H3:7" class="idref" href="#H3:7"><span class="id" title="binder">Compat_Map_Mapdt</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H4:8" class="idref" href="#H4:8"><span class="id" title="binder">!</span></a> <a id="H4:8" class="idref" href="#H4:8"><span class="id" title="binder">Compat_Mapd_Mapdt</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab742"></a><h2 class="section">Characterizing <code>∈d</code> and <code>mapd</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="ind_mapd_iff_core" class="idref" href="#ind_mapd_iff_core"><span class="id" title="lemma">ind_mapd_iff_core</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a id="A:9" class="idref" href="#A:9"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B:10" class="idref" href="#B:10"><span class="id" title="binder">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:11"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#toctxset"><span class="id" title="definition">toctxset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#toctxset"><span class="id" title="definition">toctxset</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:11"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxset_through_toctxlist"><span class="id" title="lemma">toctxset_through_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxset_through_toctxlist"><span class="id" title="lemma">toctxset_through_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> ?<span class="id" title="var">E</span> ?<span class="id" title="var">X</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.Environment.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <span class="id" title="var">X</span>). <span class="comment">(*&nbsp;hidden&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#mapd_toctxlist"><span class="id" title="lemma">mapd_toctxlist</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Environment.html#env_mapd_spec"><span class="id" title="lemma">env_mapd_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Ctxset.html#ctxset_mapd_spec"><span class="id" title="lemma">ctxset_mapd_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Environment.html#env"><span class="id" title="definition">env</span></a> ?<span class="id" title="var">E</span> ?<span class="id" title="var">X</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <span class="id" title="var">X</span>)). <span class="comment">(*&nbsp;hidden&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Ctxset.html#ctxset"><span class="id" title="definition">ctxset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#tosubset"><span class="id" title="definition">tosubset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_respectful" class="idref" href="#mapdt_respectful"><span class="id" title="lemma">mapdt_respectful</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> <a id="B:13" class="idref" href="#B:13"><span class="id" title="binder">B</span></a> `{<a id="H8:18" class="idref" href="#H8:18"><span class="id" title="binder">Applicative</span></a> <a id="H8:18" class="idref" href="#H8:18"><span class="id" title="binder">G</span></a>} (<a id="t:19" class="idref" href="#t:19"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:12"><span class="id" title="variable">A</span></a>) (<a id="f:20" class="idref" href="#f:20"><span class="id" title="binder">f</span></a> <a id="g:21" class="idref" href="#g:21"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:12"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:14"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:13"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:22" class="idref" href="#e:22"><span class="id" title="binder">e</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:12"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:22"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:23"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:19"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:22"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:23"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:21"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:22"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:23"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:19"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:21"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:19"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Happl</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#element_ctx_of"><span class="id" title="definition">element_ctx_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toctxset_through_runBatch2"><span class="id" title="lemma">toctxset_through_runBatch2</span></a> (<span class="id" title="var">tag</span> := <span class="id" title="var">B</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapdt_purity1" class="idref" href="#mapdt_purity1"><span class="id" title="lemma">mapdt_purity1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `{<a id="H8:28" class="idref" href="#H8:28"><span class="id" title="binder">Applicative</span></a> <a id="H8:28" class="idref" href="#H8:28"><span class="id" title="binder">G</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:24"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:24"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtfun_morph"><span class="id" title="method">kdtfun_morph</span></a> (<span class="id" title="var">G1</span> := <span class="id" title="keyword">fun</span> <a id="A:32" class="idref" href="#A:32"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:30"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">G2</span> := <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtfun_mapdt1"><span class="id" title="method">kdtfun_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="mapdt_respectful_pure" class="idref" href="#mapdt_respectful_pure"><span class="id" title="lemma">mapdt_respectful_pure</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> `{<a id="H8:38" class="idref" href="#H8:38"><span class="id" title="binder">Applicative</span></a> <a id="H8:38" class="idref" href="#H8:38"><span class="id" title="binder">G</span></a>} (<a id="t:39" class="idref" href="#t:39"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:33"><span class="id" title="variable">A</span></a>) (<a id="f:40" class="idref" href="#f:40"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:33"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:34"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:33"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:41" class="idref" href="#e:41"><span class="id" title="binder">e</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:33"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:41"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:42"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:39"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:40"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:41"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:42"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:34"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:42"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:40"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:39"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:39"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_purity1"><span class="id" title="lemma">mapdt_purity1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_respectful"><span class="id" title="lemma">mapdt_respectful</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="mapdt_respectful_id" class="idref" href="#mapdt_respectful_id"><span class="id" title="lemma">mapdt_respectful_id</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:43" class="idref" href="#A:43"><span class="id" title="binder">A</span></a> (<a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:43"><span class="id" title="variable">A</span></a>) (<a id="f:45" class="idref" href="#f:45"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:43"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:43"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:46" class="idref" href="#e:46"><span class="id" title="binder">e</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:47" class="idref" href="#a:47"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:43"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:46"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:47"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:45"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:46"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:47"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:47"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="A:48" class="idref" href="#A:48"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:48"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:45"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:44"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">t</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtfun_mapdt1"><span class="id" title="method">kdtfun_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_respectful"><span class="id" title="lemma">mapdt_respectful</span></a> <span class="id" title="var">A</span> <span class="id" title="var">A</span> (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="A:50" class="idref" href="#A:50"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:49"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_respectful" class="idref" href="#mapd_respectful"><span class="id" title="lemma">mapd_respectful</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:51" class="idref" href="#A:51"><span class="id" title="binder">A</span></a> <a id="B:52" class="idref" href="#B:52"><span class="id" title="binder">B</span></a> (<a id="t:53" class="idref" href="#t:53"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:51"><span class="id" title="variable">A</span></a>) (<a id="f:54" class="idref" href="#f:54"><span class="id" title="binder">f</span></a> <a id="g:55" class="idref" href="#g:55"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:51"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:52"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:56" class="idref" href="#e:56"><span class="id" title="binder">e</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:57" class="idref" href="#a:57"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:51"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:56"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:57"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:56"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:57"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:55"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:56"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:57"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:55"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:53"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#mapd_through_runBatch"><span class="id" title="lemma">mapd_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#element_ctx_of"><span class="id" title="definition">element_ctx_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toctxset_through_runBatch2"><span class="id" title="lemma">toctxset_through_runBatch2</span></a> (<span class="id" title="var">tag</span> := <span class="id" title="var">B</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#DecoratedContainerFunctor"><span class="id" title="class">DecoratedContainerFunctor</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#ind_mapd_iff_core"><span class="id" title="lemma">ind_mapd_iff_core</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_respectful"><span class="id" title="lemma">mapd_respectful</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#decorated_traversable_functor_theory"><span class="id" title="section">decorated_traversable_functor_theory</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab743"></a><h1 class="section">Shapeliness</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="shapeliness" class="idref" href="#shapeliness"><span class="id" title="section">shapeliness</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">DecoratedTraversableFunctor</span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">E</span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:62" class="idref" href="#H1:62"><span class="id" title="binder">Map</span></a> <a id="H1:62" class="idref" href="#H1:62"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:63" class="idref" href="#H2:63"><span class="id" title="binder">Mapd</span></a> <a id="H2:63" class="idref" href="#H2:63"><span class="id" title="binder">E</span></a> <a id="H2:63" class="idref" href="#H2:63"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H3:64" class="idref" href="#H3:64"><span class="id" title="binder">Traverse</span></a> <a id="H3:64" class="idref" href="#H3:64"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H4:65" class="idref" href="#H4:65"><span class="id" title="binder">ToBatch</span></a> <a id="H4:65" class="idref" href="#H4:65"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H5:66" class="idref" href="#H5:66"><span class="id" title="binder">!</span></a> <a id="H5:66" class="idref" href="#H5:66"><span class="id" title="binder">Compat_Map_Mapd</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_Map_Traverse0:67" class="idref" href="#Compat_Map_Traverse0:67"><span class="id" title="binder">!</span></a> <a id="Compat_Map_Traverse0:67" class="idref" href="#Compat_Map_Traverse0:67"><span class="id" title="binder">Compat_Map_Traverse</span></a> <a id="Compat_Map_Traverse0:67" class="idref" href="#Compat_Map_Traverse0:67"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H6:68" class="idref" href="#H6:68"><span class="id" title="binder">!</span></a> <a id="H6:68" class="idref" href="#H6:68"><span class="id" title="binder">Compat_Mapd_Mapdt</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H7:69" class="idref" href="#H7:69"><span class="id" title="binder">!</span></a> <a id="H7:69" class="idref" href="#H7:69"><span class="id" title="binder">Compat_ToBatch_Traverse</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H8:70" class="idref" href="#H8:70"><span class="id" title="binder">!</span></a> <a id="H8:70" class="idref" href="#H8:70"><span class="id" title="binder">Compat_Traverse_Mapdt</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_shape" class="idref" href="#mapd_shape"><span class="id" title="lemma">mapd_shape</span></a> {<a id="A:71" class="idref" href="#A:71"><span class="id" title="binder">A</span></a> <a id="B:72" class="idref" href="#B:72"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">∀</span> (<a id="f:73" class="idref" href="#f:73"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#shapeliness.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:71"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:72"><span class="id" title="variable">B</span></a>) <a id="t:74" class="idref" href="#t:74"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:73"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:74"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:74"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#map_mapd"><span class="id" title="lemma">map_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#map_to_mapd"><span class="id" title="lemma">DecoratedFunctor.map_to_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapd_injective1" class="idref" href="#mapd_injective1"><span class="id" title="lemma">mapd_injective1</span></a> {<a id="A:75" class="idref" href="#A:75"><span class="id" title="binder">A</span></a> <a id="B:76" class="idref" href="#B:76"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">∀</span> (<a id="f:77" class="idref" href="#f:77"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#shapeliness.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:75"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:76"><span class="id" title="variable">B</span></a>) (<a id="t1:78" class="idref" href="#t1:78"><span class="id" title="binder">t1</span></a> <a id="t2:79" class="idref" href="#t2:79"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#shapeliness.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:75"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:80" class="idref" href="#p:80"><span class="id" title="binder">p</span></a> <a id="q:81" class="idref" href="#q:81"><span class="id" title="binder">q</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:81"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:81"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:78"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:79"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:78"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:79"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">cut</span>: <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#mapd_toctxlist"><span class="id" title="lemma">mapd_toctxlist</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#shapeliness"><span class="id" title="lemma">shapeliness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">enough</span> (<span class="id" title="var">cut2</span>: <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_shape"><span class="id" title="lemma">mapd_shape</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cut2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#tolist_to_toctxlist"><span class="id" title="lemma">tolist_to_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t1</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">otherlist</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> (<span class="id" title="var">otherlist</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">otherlist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e''</span> <span class="id" title="var">a'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">H11</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinj</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapd_injective2" class="idref" href="#mapd_injective2"><span class="id" title="lemma">mapd_injective2</span></a> {<a id="A:82" class="idref" href="#A:82"><span class="id" title="binder">A</span></a> <a id="B:83" class="idref" href="#B:83"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">∀</span> (<a id="f:84" class="idref" href="#f:84"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#shapeliness.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:82"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:83"><span class="id" title="variable">B</span></a>) (<a id="t1:85" class="idref" href="#t1:85"><span class="id" title="binder">t1</span></a> <a id="t2:86" class="idref" href="#t2:86"><span class="id" title="binder">t2</span></a> : <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#shapeliness.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:82"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a> <a id="a1:88" class="idref" href="#a1:88"><span class="id" title="binder">a1</span></a> <a id="a2:89" class="idref" href="#a2:89"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:87"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:88"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:85"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:87"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:89"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:86"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:87"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:88"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:87"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:89"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:88"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:89"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:85"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:86"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:85"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:86"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#ind_iff_in_toctxlist1"><span class="id" title="lemma">ind_iff_in_toctxlist1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq2</span>: <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#mapd_toctxlist"><span class="id" title="lemma">mapd_toctxlist</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#shapeliness"><span class="id" title="lemma">shapeliness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">enough</span> (<span class="id" title="var">cut2</span>: <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_shape"><span class="id" title="lemma">mapd_shape</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cut2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#tolist_to_toctxlist"><span class="id" title="lemma">tolist_to_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">otherlist</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">Heq_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> (<span class="id" title="var">otherlist</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">otherlist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e''</span> <span class="id" title="var">a'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq_list</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#element_of_list_cons"><span class="id" title="lemma">element_of_list_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#element_of_list_cons"><span class="id" title="lemma">element_of_list_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#shapeliness"><span class="id" title="section">shapeliness</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab744"></a><h1 class="section">Deconstructing with refinement-type vectors</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="deconstruction" class="idref" href="#deconstruction"><span class="id" title="section">deconstruction</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:93" class="idref" href="#H0:93"><span class="id" title="binder">DecoratedTraversableFunctor</span></a> <a id="H0:93" class="idref" href="#H0:93"><span class="id" title="binder">E</span></a> <a id="H0:93" class="idref" href="#H0:93"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:94" class="idref" href="#H1:94"><span class="id" title="binder">Traverse</span></a> <a id="H1:94" class="idref" href="#H1:94"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:95" class="idref" href="#H2:95"><span class="id" title="binder">Map</span></a> <a id="H2:95" class="idref" href="#H2:95"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="toBatch_inst:96" class="idref" href="#toBatch_inst:96"><span class="id" title="binder">toBatch_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#ToBatch"><span class="id" title="class">ToBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:91"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H3:97" class="idref" href="#H3:97"><span class="id" title="binder">ToSubset</span></a> <a id="H3:97" class="idref" href="#H3:97"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="TraversableFunctor0:98" class="idref" href="#TraversableFunctor0:98"><span class="id" title="binder">!</span></a> <a id="TraversableFunctor0:98" class="idref" href="#TraversableFunctor0:98"><span class="id" title="binder">TraversableFunctor</span></a> <a id="TraversableFunctor0:98" class="idref" href="#TraversableFunctor0:98"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H4:99" class="idref" href="#H4:99"><span class="id" title="binder">!</span></a> <a id="H4:99" class="idref" href="#H4:99"><span class="id" title="binder">Compat_Map_Mapdt</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H5:100" class="idref" href="#H5:100"><span class="id" title="binder">!</span></a> <a id="H5:100" class="idref" href="#H5:100"><span class="id" title="binder">Compat_ToBatch_Traverse</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_ToSubset_Traverse0:101" class="idref" href="#Compat_ToSubset_Traverse0:101"><span class="id" title="binder">!</span></a> <a id="Compat_ToSubset_Traverse0:101" class="idref" href="#Compat_ToSubset_Traverse0:101"><span class="id" title="binder">Compat_ToSubset_Traverse</span></a> <a id="Compat_ToSubset_Traverse0:101" class="idref" href="#Compat_ToSubset_Traverse0:101"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H6:102" class="idref" href="#H6:102"><span class="id" title="binder">!</span></a> <a id="H6:102" class="idref" href="#H6:102"><span class="id" title="binder">Compat_Traverse_Mapdt</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">v</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="plength_toBatch6" class="idref" href="#plength_toBatch6"><span class="id" title="lemma">plength_toBatch6</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:103" class="idref" href="#A:103"><span class="id" title="binder">A</span></a>} {<a id="B:104" class="idref" href="#B:104"><span class="id" title="binder">B</span></a>} (<a id="t:105" class="idref" href="#t:105"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:103"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:105"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:103"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:104"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:105"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.TraversableFunctor.html#foldMap_through_runBatch2"><span class="id" title="lemma">foldMap_through_runBatch2</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch6_toBatch"><span class="id" title="lemma">toBatch6_toBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Misc.NaturalNumbers.html#Monoid_op_plus"><span class="id" title="instance">NaturalNumbers.Monoid_op_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="plength_toBatch6'" class="idref" href="#plength_toBatch6'"><span class="id" title="lemma">plength_toBatch6'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:106" class="idref" href="#A:106"><span class="id" title="binder">A</span></a> <a id="B:107" class="idref" href="#B:107"><span class="id" title="binder">B</span></a>} (<a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:106"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:106"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:107"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:108"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:108"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#plength_toBatch6"><span class="id" title="lemma">plength_toBatch6</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="length_toBatch6_toBatch" class="idref" href="#length_toBatch6_toBatch"><span class="id" title="lemma">length_toBatch6_toBatch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> <a id="B:110" class="idref" href="#B:110"><span class="id" title="binder">B</span></a>} (<a id="t:111" class="idref" href="#t:111"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:109"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:109"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:110"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:111"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:109"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:110"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:111"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch6_toBatch"><span class="id" title="lemma">toBatch6_toBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mapdt_contents" class="idref" href="#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> {<a id="A:112" class="idref" href="#A:112"><span class="id" title="binder">A</span></a>} (<a id="t:113" class="idref" href="#t:113"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:112"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:113"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:112"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:114" class="idref" href="#v:114"><span class="id" title="binder">v</span></a> : <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:112"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:113"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:112"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="Tealeaves.Theory.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:113"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#coerce_Vector_length"><span class="id" title="definition">coerce_Vector_length</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#plength_toBatch6'"><span class="id" title="lemma">plength_toBatch6'</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:113"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:114"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mapdt_make" class="idref" href="#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> {<a id="A:115" class="idref" href="#A:115"><span class="id" title="binder">A</span></a> <a id="B:116" class="idref" href="#B:116"><span class="id" title="binder">B</span></a>} (<a id="t:117" class="idref" href="#t:117"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:115"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:117"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:116"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:116"><span class="id" title="variable">B</span></a> := <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make"><span class="id" title="definition">trav_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:117"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(fun&nbsp;v&nbsp;=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;v'&nbsp;:=&nbsp;coerce_Vector_length&nbsp;(eq_sym&nbsp;(plength_eq_length&nbsp;t))&nbsp;v<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;Batch_make&nbsp;(toBatch&nbsp;t)&nbsp;v').<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_contents_toctxlist" class="idref" href="#Batch_contents_toctxlist"><span class="id" title="lemma">Batch_contents_toctxlist</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:118" class="idref" href="#A:118"><span class="id" title="binder">A</span></a> <a id="B:119" class="idref" href="#B:119"><span class="id" title="binder">B</span></a>} (<a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:118"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.E"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:118"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Theory.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:119"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:120"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:120"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#ToCtxlist_Mapdt"><span class="id" title="instance">ToCtxlist_Mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#foldMapd_through_runBatch2"><span class="id" title="lemma">foldMapd_through_runBatch2</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list_vcons"><span class="id" title="lemma">Vector_to_list_vcons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Misc.List.html#Monoid_op_list"><span class="id" title="instance">Monoid_op_list</span></a> @<a class="idref" href="Tealeaves.Functors.List.html#Return_list"><span class="id" title="instance">Return_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">List.rev_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_contents_toBatch6_sim" class="idref" href="#Batch_contents_toBatch6_sim"><span class="id" title="lemma">Batch_contents_toBatch6_sim</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:121" class="idref" href="#A:121"><span class="id" title="binder">A</span></a> <a id="B:122" class="idref" href="#B:122"><span class="id" title="binder">B</span></a> <a id="B':123" class="idref" href="#B':123"><span class="id" title="binder">B'</span></a>} (<a id="t:124" class="idref" href="#t:124"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:121"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:122"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:124"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#835af27ef0dc085449c365a6846fa0f7"><span class="id" title="notation">~~</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B':123"><span class="id" title="variable">B'</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:124"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_sim"><span class="id" title="definition">Vector_sim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> ?<span class="id" title="var">v</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch_contents_toctxlist"><span class="id" title="lemma">Batch_contents_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch_contents_toctxlist"><span class="id" title="lemma">Batch_contents_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_make6" class="idref" href="#Batch_make6"><span class="id" title="lemma">Batch_make6</span></a> {<a id="A:125" class="idref" href="#A:125"><span class="id" title="binder">A</span></a> <a id="B:126" class="idref" href="#B:126"><span class="id" title="binder">B</span></a>} (<a id="t:127" class="idref" href="#t:127"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:125"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.Batch.html#Batch_make"><span class="id" title="definition">Batch_make</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:127"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="v:128" class="idref" href="#v:128"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.Batch.html#Batch_make"><span class="id" title="definition">Batch_make</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:126"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:127"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">coerce</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#length_toBatch6_toBatch"><span class="id" title="lemma">length_toBatch6_toBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:127"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">in</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:128"><span class="id" title="variable">v</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#length_toBatch6_toBatch"><span class="id" title="lemma">length_toBatch6_toBatch</span></a> (<span class="id" title="var">B</span>:=<span class="id" title="var">B</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.Batch.html#Batch_make_sim3"><span class="id" title="lemma">Batch_make_sim3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">vector_sim</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch6_toBatch"><span class="id" title="lemma">toBatch6_toBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab745"></a><h2 class="section">Lemmas regarding <code>trav_make</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Section&nbsp;trav_make_lemmas.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Context<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{A&nbsp;B&nbsp;:&nbsp;Type}.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;trav_make_sim1:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;(t&nbsp;:&nbsp;T&nbsp;A)&nbsp;`{v1&nbsp;~~&nbsp;v2},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trav_make&nbsp;(B&nbsp;:=&nbsp;B)&nbsp;t&nbsp;v1&nbsp;=&nbsp;trav_make&nbsp;t&nbsp;v2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;trav_make.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;Batch_make_sim1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector_sim.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;trav_make_sim2:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;`(t1&nbsp;:&nbsp;T&nbsp;A)&nbsp;(t2:&nbsp;T&nbsp;A)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(v1:&nbsp;Vector&nbsp;(plength&nbsp;t1)&nbsp;B)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(v2:&nbsp;Vector&nbsp;(plength&nbsp;t2)&nbsp;B),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;=&nbsp;t2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector_sim&nbsp;v1&nbsp;v2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trav_make&nbsp;t1&nbsp;v1&nbsp;=&nbsp;trav_make&nbsp;t2&nbsp;v2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;apply&nbsp;trav_make_sim1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;End&nbsp;trav_make_lemmas.<br/>
&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab746"></a><h2 class="section">Miscellaneous</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="deconstruction.ctxlist" class="idref" href="#deconstruction.ctxlist"><span class="id" title="section">ctxlist</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tolist_trav_contents" class="idref" href="#tolist_trav_contents"><span class="id" title="lemma">tolist_trav_contents</span></a> `{<a id="t:130" class="idref" href="#t:130"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a id="A:129" class="idref" href="#A:129"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:129"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:130"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:130"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.ctxlist"><span class="id" title="section">ctxlist</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab747"></a><h2 class="section">Lens-like laws</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="deconstruction.lens_laws" class="idref" href="#deconstruction.lens_laws"><span class="id" title="section">lens_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab748"></a><h3 class="section">get-put</h3>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_get_put" class="idref" href="#mapdt_get_put"><span class="id" title="lemma">mapdt_get_put</span></a> `{<a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a id="A:131" class="idref" href="#A:131"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:132"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:132"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:132"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a>, <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make"><span class="id" title="definition">trav_make</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">t</span>) <span class="id" title="tactic">at</span> 13.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#trf_extract"><span class="id" title="method">trf_extract</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Theory.Batch.html#Batch_make_contents"><span class="id" title="lemma">Batch_make_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.Batch.html#Batch_make_sim1"><span class="id" title="lemma">Batch_make_sim1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_coerce_sim_l'"><span class="id" title="lemma">Vector_coerce_sim_l'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch6_toBatch"><span class="id" title="lemma">toBatch6_toBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#transitive_Vector_sim"><span class="id" title="lemma">transitive_Vector_sim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">v2</span> := <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="Tealeaves.Theory.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch6"><span class="id" title="definition">toBatch6</span></a> <span class="id" title="var">t</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">vec_symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#map_coerce_Vector"><span class="id" title="lemma">map_coerce_Vector</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_sim"><span class="id" title="definition">Vector_sim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.Batch.html#Batch_contents_natural"><span class="id" title="lemma">Batch_contents_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch6_toBatch"><span class="id" title="lemma">toBatch6_toBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#Batch_contents_toBatch_sim"><span class="id" title="lemma">Batch_contents_toBatch_sim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch_mapdt_make" class="idref" href="#toBatch_mapdt_make"><span class="id" title="lemma">toBatch_mapdt_make</span></a> {<a id="A:133" class="idref" href="#A:133"><span class="id" title="binder">A</span></a> <a id="A':134" class="idref" href="#A':134"><span class="id" title="binder">A'</span></a> <a id="B:135" class="idref" href="#B:135"><span class="id" title="binder">B</span></a>} {<a id="t:136" class="idref" href="#t:136"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:133"><span class="id" title="variable">A</span></a>} {<a id="v:137" class="idref" href="#v:137"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:136"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:135"><span class="id" title="variable">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':134"><span class="id" title="variable">A'</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:136"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:137"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.Batch.html#Batch_replace_contents"><span class="id" title="definition">Batch_replace_contents</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':134"><span class="id" title="variable">A'</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:136"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">coerce</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> (<a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#plength_eq_length"><span class="id" title="lemma">plength_eq_length</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:136"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">in</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:137"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#toBatch_trav_make"><span class="id" title="lemma">toBatch_trav_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab749"></a><h3 class="section">put-get</h3>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;mapdt_contents_make&nbsp;{A}&nbsp;{t:&nbsp;T&nbsp;A}&nbsp;{v:&nbsp;Vector&nbsp;(plength&nbsp;t)&nbsp;A}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapdt_contents&nbsp;(trav_make&nbsp;t&nbsp;v)&nbsp;~~&nbsp;v.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;trav_contents.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector_sim.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;toBatch_trav_make.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Batch_put_get.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector_sim.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab750"></a><h3 class="section">put-put</h3>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_make_make" class="idref" href="#mapdt_make_make"><span class="id" title="lemma">mapdt_make_make</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="t:139" class="idref" href="#t:139"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a>) `(<a id="v:141" class="idref" href="#v:141"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:139"><span class="id" title="variable">t</span></a>) <a id="B:140" class="idref" href="#B:140"><span class="id" title="binder">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="v1:143" class="idref" href="#v1:143"><span class="id" title="binder">v1</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> <span class="id" title="var">_</span> <a id="B':142" class="idref" href="#B':142"><span class="id" title="binder">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v2:144" class="idref" href="#v2:144"><span class="id" title="binder">v2</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B':142"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:145" class="idref" href="#pf:145"><span class="id" title="binder">pf</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v1:143"><span class="id" title="variable">v1</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#835af27ef0dc085449c365a6846fa0f7"><span class="id" title="notation">~~</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v2:144"><span class="id" title="variable">v2</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:139"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:141"><span class="id" title="variable">v</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v1:143"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:139"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v2:144"><span class="id" title="variable">v2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <span class="id" title="tactic">at</span> 1 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make_make"><span class="id" title="lemma">trav_make_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="deconstruction.lens_laws.:::'precoerce'_x_'in'_x" class="idref" href="#deconstruction.lens_laws.:::'precoerce'_x_'in'_x"><span class="id" title="notation">&quot;</span></a>'precoerce' Hlen 'in' F" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#coerce_Vector_length"><span class="id" title="definition">coerce_Vector_length</span></a> <span class="id" title="var">Hlen</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">F</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_same_shape" class="idref" href="#mapdt_same_shape"><span class="id" title="lemma">mapdt_same_shape</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="t1:147" class="idref" href="#t1:147"><span class="id" title="binder">t1</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a id="A:146" class="idref" href="#A:146"><span class="id" title="binder">A</span></a>) `(<a id="t2:149" class="idref" href="#t2:149"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a id="A':148" class="idref" href="#A':148"><span class="id" title="binder">A'</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:147"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:149"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="B:150" class="idref" href="#B:150"><span class="id" title="binder">B</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:150"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:147"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#7ad275f9c7d3d9469cfa6fc77617779f"><span class="id" title="notation">~!~</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:149"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_same_shape"><span class="id" title="lemma">trav_same_shape</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.lens_laws"><span class="id" title="section">lens_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab751"></a><h2 class="section">Representation theorems</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_repr" class="idref" href="#mapdt_repr"><span class="id" title="lemma">mapdt_repr</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `{<a id="H10:155" class="idref" href="#H10:155"><span class="id" title="binder">Applicative</span></a> <a id="H10:155" class="idref" href="#H10:155"><span class="id" title="binder">G</span></a>} (<a id="A:156" class="idref" href="#A:156"><span class="id" title="binder">A</span></a> <a id="B:157" class="idref" href="#B:157"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="t:158" class="idref" href="#t:158"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:156"><span class="id" title="variable">A</span></a>) (<a id="f:159" class="idref" href="#f:159"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:156"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:151"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:157"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:159"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:158"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:158"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Backwards.html#mkBackwards"><span class="id" title="constructor">mkBackwards</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:159"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:158"><span class="id" title="variable">t</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make"><span class="id" title="definition">trav_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span>  (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> ?<span class="id" title="var">g</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> <span class="id" title="var">G</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">f</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> ?<span class="id" title="var">x</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#traverse_Vector_coerce_natural"><span class="id" title="lemma">traverse_Vector_coerce_natural</span></a>;[|<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.Batch.html#runBatch_repr2"><span class="id" title="lemma">runBatch_repr2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">f</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> ?<span class="id" title="var">x</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch_make6"><span class="id" title="lemma">Batch_make6</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span>  (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> ?<span class="id" title="var">g</span>) ?<span class="id" title="var">t</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Backwards.html#Backwards"><span class="id" title="record">Backwards</span></a> <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#traverse_Vector_coerce_natural"><span class="id" title="lemma">traverse_Vector_coerce_natural</span></a>;[|<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_eq"><span class="id" title="lemma">Vector_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_coerce_sim_l'"><span class="id" title="lemma">Vector_coerce_sim_l'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_coerce_sim_r'"><span class="id" title="lemma">Vector_coerce_sim_r'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_coerce_sim_r'"><span class="id" title="lemma">Vector_coerce_sim_r'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch_contents_toBatch6_sim"><span class="id" title="lemma">Batch_contents_toBatch6_sim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab752"></a><h2 class="section">Lemmas regarding <code>plength</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="plength_trav_make" class="idref" href="#plength_trav_make"><span class="id" title="lemma">plength_trav_make</span></a>: <span class="id" title="keyword">∀</span> `(<a id="t:161" class="idref" href="#t:161"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction.T"><span class="id" title="variable">T</span></a> <a id="A:160" class="idref" href="#A:160"><span class="id" title="binder">A</span></a>) `(<a id="v:163" class="idref" href="#v:163"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> <span class="id" title="var">_</span> <a id="B:162" class="idref" href="#B:162"><span class="id" title="binder">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:161"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:161"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:163"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#plength_trav_make"><span class="id" title="lemma">plength_trav_make</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#deconstruction"><span class="id" title="section">deconstruction</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
