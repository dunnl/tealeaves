<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Examples.SystemF.TypeSoundness</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#"><span class="id" title="library">Examples.SystemF.Syntax</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#"><span class="id" title="library">Examples.SystemF.Contexts</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Simplification.Tests.SystemF_LN.html#"><span class="id" title="library">Simplification.Tests.SystemF_LN</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Sorting.Permutation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">x</span> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>).<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1204"></a><h1 class="section">Properties of the typing judgment <code>Δ ; Γ ⊢ t : τ</code></h1>

<div class="paragraph"> </div>

<a id="lab1205"></a><h2 class="section">Structural properties <code>Δ ; Γ ⊢ t : τ</code> in <code>Δ</code></h2>

<div class="paragraph"> </div>

<a id="lab1206"></a><h3 class="section"><code>Δ</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_kind_ctx_wf" class="idref" href="#j_kind_ctx_wf"><span class="id" title="lemma">j_kind_ctx_wf</span></a> : <span class="id" title="keyword">∀</span> <a id="4b0442310608d6c6902dc1aeb53fec93" class="idref" href="#4b0442310608d6c6902dc1aeb53fec93"><span class="id" title="binder">Δ</span></a> <a id="da7a5918a812e0216f4a54d21f7406c4" class="idref" href="#da7a5918a812e0216f4a54d21f7406c4"><span class="id" title="binder">Γ</span></a> <a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a> <a id="65faccb9927426674f231a4ba73a17f8" class="idref" href="#65faccb9927426674f231a4ba73a17f8"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4b0442310608d6c6902dc1aeb53fec93"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#da7a5918a812e0216f4a54d21f7406c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:3"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#65faccb9927426674f231a4ba73a17f8"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_kind_ctx"><span class="id" title="definition">ok_kind_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4b0442310608d6c6902dc1aeb53fec93"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_kind_ctx"><span class="id" title="definition">ok_kind_ctx</span></a>; <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cleanup_cofinite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: (<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_uniq</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1207"></a><h3 class="section">Permutation</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_perm" class="idref" href="#j_kind_ctx_perm"><span class="id" title="lemma">j_kind_ctx_perm</span></a> : <span class="id" title="keyword">∀</span> <a id="a1addadc2b98e8e727be0f2e2f5704a3" class="idref" href="#a1addadc2b98e8e727be0f2e2f5704a3"><span class="id" title="binder">Δ1</span></a> <a id="873f7e0b75aeb9dbbde54592f4813c59" class="idref" href="#873f7e0b75aeb9dbbde54592f4813c59"><span class="id" title="binder">Δ2</span></a> <a id="de9bdb4e9c2be34cf9b5e2f20d66b06e" class="idref" href="#de9bdb4e9c2be34cf9b5e2f20d66b06e"><span class="id" title="binder">Γ</span></a> <a id="t:8" class="idref" href="#t:8"><span class="id" title="binder">t</span></a> <a id="c52054b06e8cafb4cf84056150a40650" class="idref" href="#c52054b06e8cafb4cf84056150a40650"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a1addadc2b98e8e727be0f2e2f5704a3"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#873f7e0b75aeb9dbbde54592f4813c59"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a1addadc2b98e8e727be0f2e2f5704a3"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#de9bdb4e9c2be34cf9b5e2f20d66b06e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:8"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c52054b06e8cafb4cf84056150a40650"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#873f7e0b75aeb9dbbde54592f4813c59"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#de9bdb4e9c2be34cf9b5e2f20d66b06e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:8"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c52054b06e8cafb4cf84056150a40650"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">perm</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Δ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hperm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_sym"><span class="id" title="lemma">Permutation_sym</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_app_tail"><span class="id" title="lemma">Permutation_app_tail</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_perm1"><span class="id" title="lemma">ok_type_perm1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_kind_ctx_perm1" class="idref" href="#j_kind_ctx_perm1"><span class="id" title="lemma">j_kind_ctx_perm1</span></a> : <span class="id" title="keyword">∀</span> <a id="8c155d930badb713b133b5417c6663d8" class="idref" href="#8c155d930badb713b133b5417c6663d8"><span class="id" title="binder">Δ1</span></a> <a id="f3f41a0a12120b0303326a0118f767f6" class="idref" href="#f3f41a0a12120b0303326a0118f767f6"><span class="id" title="binder">Δ2</span></a> <a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> <a id="a57704a48aaf9a67d8a3df75d6eea365" class="idref" href="#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="binder">Γ</span></a> <a id="t:14" class="idref" href="#t:14"><span class="id" title="binder">t</span></a> <a id="8386e35dda34fed27cb28fc91360cb4d" class="idref" href="#8386e35dda34fed27cb28fc91360cb4d"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8c155d930badb713b133b5417c6663d8"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:12"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f3f41a0a12120b0303326a0118f767f6"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:14"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8386e35dda34fed27cb28fc91360cb4d"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8c155d930badb713b133b5417c6663d8"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f3f41a0a12120b0303326a0118f767f6"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:12"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:14"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8386e35dda34fed27cb28fc91360cb4d"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_perm"><span class="id" title="lemma">j_kind_ctx_perm</span></a>. 2:{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">simpl_alist</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_app"><span class="id" title="lemma">Permutation_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_refl"><span class="id" title="lemma">Permutation_refl</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1208"></a><h3 class="section">Weakening</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_weak" class="idref" href="#j_kind_ctx_weak"><span class="id" title="lemma">j_kind_ctx_weak</span></a> : <span class="id" title="keyword">∀</span> <a id="d7105d6ad08953a1f7ea5cd6615c6214" class="idref" href="#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="binder">Δ1</span></a> <a id="14239f35b62cb1970fbd6bb4131255f6" class="idref" href="#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="binder">Δ2</span></a> <a id="f0fc26962fbc1476a5f5245f565ffb72" class="idref" href="#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="binder">Γ</span></a> <a id="t:19" class="idref" href="#t:19"><span class="id" title="binder">t</span></a> <a id="907126252b08f9c3290d4f6ce74e8576" class="idref" href="#907126252b08f9c3290d4f6ce74e8576"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_kind_ctx"><span class="id" title="definition">ok_kind_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:19"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#907126252b08f9c3290d4f6ce74e8576"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:19"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#907126252b08f9c3290d4f6ce74e8576"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ok</span> <span class="id" title="var">disj</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_var"><span class="id" title="constructor">j_var</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a> <span class="id" title="keyword">with</span> (τ1 := τ1); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ2</span><a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_perm1"><span class="id" title="lemma">j_kind_ctx_perm1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1209"></a><h3 class="section">Substitution</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_subst" class="idref" href="#j_kind_ctx_subst"><span class="id" title="lemma">j_kind_ctx_subst</span></a> : <span class="id" title="keyword">∀</span> <a id="2cabff355fa8a5563a96bdd47181666b" class="idref" href="#2cabff355fa8a5563a96bdd47181666b"><span class="id" title="binder">Δ1</span></a> <a id="x:22" class="idref" href="#x:22"><span class="id" title="binder">x</span></a> <a id="f759f81ce9e3f23e546ebf6e97c4e515" class="idref" href="#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="binder">Δ2</span></a> <a id="c14c0b2265abf3ec26ac01165fe38870" class="idref" href="#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="binder">Γ</span></a> <a id="t:25" class="idref" href="#t:25"><span class="id" title="binder">t</span></a> <a id="625295a83607c4158cc0b7caec18ea6a" class="idref" href="#625295a83607c4158cc0b7caec18ea6a"><span class="id" title="binder">τ</span></a> <a id="35cf9db38cc8a1620f66b64e0430fd8d" class="idref" href="#35cf9db38cc8a1620f66b64e0430fd8d"><span class="id" title="binder">τ'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2cabff355fa8a5563a96bdd47181666b"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="variable">Δ2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#35cf9db38cc8a1620f66b64e0430fd8d"><span class="id" title="variable">τ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2cabff355fa8a5563a96bdd47181666b"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:25"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#625295a83607c4158cc0b7caec18ea6a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2cabff355fa8a5563a96bdd47181666b"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap"><span class="id" title="definition">envmap</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#35cf9db38cc8a1620f66b64e0430fd8d"><span class="id" title="variable">τ'</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#35cf9db38cc8a1620f66b64e0430fd8d"><span class="id" title="variable">τ'</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:25"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#35cf9db38cc8a1620f66b64e0430fd8d"><span class="id" title="variable">τ'</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#625295a83607c4158cc0b7caec18ea6a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hok</span> <span class="id" title="var">j</span>. <span class="id" title="var">remember</span> (<span class="id" title="var">Δ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Δ2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">rem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Δ2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_sub"><span class="id" title="lemma">ok_type_ctx_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#in_envmap_iff"><span class="id" title="lemma">in_envmap_iff</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_open_neq"><span class="id" title="lemma">subst_open_neq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">discriminate</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#LC_typ_trm"><span class="id" title="lemma">LC_typ_trm</span></a> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#rw_subst_term_var_neq"><span class="id" title="lemma">rw_subst_term_var_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap_app"><span class="id" title="lemma">envmap_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a> <span class="id" title="keyword">with</span> (τ1 := (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <span class="id" title="var">x</span> τ' τ1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHj1</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHj2</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a><span class="id" title="var">x</span><a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>. <span class="id" title="var">simpl_alist</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">e</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="var">inverts</span> <span class="id" title="var">Hok</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="var">inverts</span> <span class="id" title="var">Hok</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#rw_subst_type_var_neq"><span class="id" title="lemma">rw_subst_type_var_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">change_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Δ2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_weak_r"><span class="id" title="lemma">ok_type_weak_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <span class="id" title="var">x</span> τ' (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> τ2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <span class="id" title="var">x</span> τ' τ2)) <span class="id" title="tactic">in</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="var">simplify_subst</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">clear</span> <span class="id" title="var">IHj</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_subst1" class="idref" href="#j_kind_ctx_subst1"><span class="id" title="lemma">j_kind_ctx_subst1</span></a> : <span class="id" title="keyword">∀</span> <a id="429bde08aec4510dd7c009bdb80fa47b" class="idref" href="#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="binder">Δ</span></a> <a id="x:29" class="idref" href="#x:29"><span class="id" title="binder">x</span></a> <a id="a84750bab259aa2f16170b25727bba3f" class="idref" href="#a84750bab259aa2f16170b25727bba3f"><span class="id" title="binder">Γ</span></a> <a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a> <a id="2a046109bdcd234cf1f1caa02c0d4a23" class="idref" href="#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="binder">τ</span></a> <a id="d0ca41ffaa38c093ee451d4e66fed913" class="idref" href="#d0ca41ffaa38c093ee451d4e66fed913"><span class="id" title="binder">τ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d0ca41ffaa38c093ee451d4e66fed913"><span class="id" title="variable">τ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap"><span class="id" title="definition">envmap</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d0ca41ffaa38c093ee451d4e66fed913"><span class="id" title="variable">τ2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d0ca41ffaa38c093ee451d4e66fed913"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d0ca41ffaa38c093ee451d4e66fed913"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>τ <span class="id" title="var">jt</span>. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">jt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">change_alist</span> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">j</span>τ. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_subst"><span class="id" title="lemma">j_kind_ctx_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1210"></a><h2 class="section">Properties of <code>Δ ; Γ ⊢ t : τ</code> in <code>Γ</code></h2>

<div class="paragraph"> </div>

<a id="lab1211"></a><h3 class="section"><code>Γ</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_type_ctx_wf" class="idref" href="#j_type_ctx_wf"><span class="id" title="lemma">j_type_ctx_wf</span></a> : <span class="id" title="keyword">∀</span> <a id="aa433282953bfe1853d4096d66b72ef4" class="idref" href="#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="binder">Δ</span></a> <a id="a0f0bd398ad1ac70bdd831a240f6dcbd" class="idref" href="#a0f0bd398ad1ac70bdd831a240f6dcbd"><span class="id" title="binder">Γ</span></a> <a id="t:36" class="idref" href="#t:36"><span class="id" title="binder">t</span></a> <a id="562bcef1e85b7d300980f858cfa270ef" class="idref" href="#562bcef1e85b7d300980f858cfa270ef"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a0f0bd398ad1ac70bdd831a240f6dcbd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:36"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#562bcef1e85b7d300980f858cfa270ef"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type_ctx"><span class="id" title="definition">ok_type_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a0f0bd398ad1ac70bdd831a240f6dcbd"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cleanup_cofinite</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_inv_app_l"><span class="id" title="lemma">ok_type_ctx_inv_app_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#atoms"><span class="id" title="definition">atoms</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<span class="id" title="keyword">fun</span> '<a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">(</span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">x</span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">,</span></a> <a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">t</span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:38"><span class="id" title="variable">t</span></a>) <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_stren1"><span class="id" title="lemma">ok_type_ctx_stren1</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">lemma</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#element_of"><span class="id" title="definition">element_of</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) <span class="id" title="var">e</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<span class="id" title="keyword">fun</span> '<a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">(</span></a><a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">x</span></a><a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">,</span></a> <a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">t</span></a><a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:44"><span class="id" title="variable">t</span></a>) <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.ContainerMonad.html#in_bind_iff"><span class="id" title="lemma">in_bind_iff</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lemma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#in_range_iff"><span class="id" title="lemma">in_range_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">lemma</span>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#free_iff_FV"><span class="id" title="lemma">free_iff_FV</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#in_atoms_iff"><span class="id" title="lemma">in_atoms_iff</span></a>. <span class="id" title="var">fsetdec</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1212"></a><h3 class="section">Tactical corollaries</h3>

</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx1" class="idref" href="#j_type_ctx1"><span class="id" title="lemma">j_type_ctx1</span></a> : <span class="id" title="keyword">∀</span> <a id="c6d5196eeaa0fc95074e568550748e9f" class="idref" href="#c6d5196eeaa0fc95074e568550748e9f"><span class="id" title="binder">Δ</span></a> <a id="f82dd08e39371d88da60b669e12500e0" class="idref" href="#f82dd08e39371d88da60b669e12500e0"><span class="id" title="binder">Γ</span></a> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> <a id="a443a2b9be9ee5328583aebe49d8a531" class="idref" href="#a443a2b9be9ee5328583aebe49d8a531"><span class="id" title="binder">τ</span></a> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a> <a id="0804d71b875cd1c0304489e29d7c6809" class="idref" href="#0804d71b875cd1c0304489e29d7c6809"><span class="id" title="binder">τ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c6d5196eeaa0fc95074e568550748e9f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a443a2b9be9ee5328583aebe49d8a531"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:54"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0804d71b875cd1c0304489e29d7c6809"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">_</span>)<a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c6d5196eeaa0fc95074e568550748e9f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0804d71b875cd1c0304489e29d7c6809"><span class="id" title="variable">τ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_binds"><span class="id" title="lemma">ok_type_ctx_binds</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_wf"><span class="id" title="lemma">j_type_ctx_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx2" class="idref" href="#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> : <span class="id" title="keyword">∀</span> <a id="b1a57856048453fcdbc9d8258f6ba85e" class="idref" href="#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="binder">Δ</span></a> <a id="3877cd1a601e385130a2a78a6f978e97" class="idref" href="#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="binder">Γ</span></a> <a id="t:58" class="idref" href="#t:58"><span class="id" title="binder">t</span></a> <a id="e0d4d01a2bc7f35ba921cf242e2f693b" class="idref" href="#e0d4d01a2bc7f35ba921cf242e2f693b"><span class="id" title="binder">τ1</span></a> <a id="e4e21b2c22ca04e00e820ffe0bc5ba38" class="idref" href="#e4e21b2c22ca04e00e820ffe0bc5ba38"><span class="id" title="binder">τ2</span></a> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#e4e21b2c22ca04e00e820ffe0bc5ba38"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:58"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#e0d4d01a2bc7f35ba921cf242e2f693b"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#e4e21b2c22ca04e00e820ffe0bc5ba38"><span class="id" title="variable">τ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx1"><span class="id" title="lemma">j_type_ctx1</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_list</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1213"></a><h3 class="section">Permutation</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_type_ctx_perm" class="idref" href="#j_type_ctx_perm"><span class="id" title="lemma">j_type_ctx_perm</span></a> : <span class="id" title="keyword">∀</span> <a id="97af74f2224adb28944935e537df98f3" class="idref" href="#97af74f2224adb28944935e537df98f3"><span class="id" title="binder">Δ</span></a> <a id="ed7e6884604ed5b7d0389cd81eeb1e26" class="idref" href="#ed7e6884604ed5b7d0389cd81eeb1e26"><span class="id" title="binder">Γ1</span></a> <a id="729678dc2c50970c5227f09948413c3e" class="idref" href="#729678dc2c50970c5227f09948413c3e"><span class="id" title="binder">Γ2</span></a> <a id="t:65" class="idref" href="#t:65"><span class="id" title="binder">t</span></a> <a id="007b6a56cc499e993d111cb8d1f98954" class="idref" href="#007b6a56cc499e993d111cb8d1f98954"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#97af74f2224adb28944935e537df98f3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ed7e6884604ed5b7d0389cd81eeb1e26"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:65"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#007b6a56cc499e993d111cb8d1f98954"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ed7e6884604ed5b7d0389cd81eeb1e26"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#729678dc2c50970c5227f09948413c3e"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#97af74f2224adb28944935e537df98f3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#729678dc2c50970c5227f09948413c3e"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:65"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#007b6a56cc499e993d111cb8d1f98954"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Γ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hperm</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_perm"><span class="id" title="lemma">ok_kind_ctx_perm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_perm_gamma"><span class="id" title="lemma">ok_type_ctx_perm_gamma</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_sym"><span class="id" title="lemma">Permutation_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#permutation_spec"><span class="id" title="lemma">List.permutation_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_app_tail"><span class="id" title="lemma">Permutation_app_tail</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx_perm_iff" class="idref" href="#j_type_ctx_perm_iff"><span class="id" title="lemma">j_type_ctx_perm_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="7e3627dd3a2403746b83b58e438b6bc7" class="idref" href="#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="binder">Δ</span></a> <a id="68968e171973101f2a767855f9e35d8d" class="idref" href="#68968e171973101f2a767855f9e35d8d"><span class="id" title="binder">Γ1</span></a> <a id="5546318f4408c49dbf38f4ce0ddaf9e1" class="idref" href="#5546318f4408c49dbf38f4ce0ddaf9e1"><span class="id" title="binder">Γ2</span></a> <a id="t:70" class="idref" href="#t:70"><span class="id" title="binder">t</span></a> <a id="6aa7a4999578aa1556e14427cf737b8f" class="idref" href="#6aa7a4999578aa1556e14427cf737b8f"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#68968e171973101f2a767855f9e35d8d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5546318f4408c49dbf38f4ce0ddaf9e1"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#68968e171973101f2a767855f9e35d8d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:70"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6aa7a4999578aa1556e14427cf737b8f"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5546318f4408c49dbf38f4ce0ddaf9e1"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:70"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6aa7a4999578aa1556e14427cf737b8f"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hperm</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <span class="id" title="var">Γ2</span> <span class="id" title="var">Γ1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_perm"><span class="id" title="lemma">j_type_ctx_perm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx_perm1" class="idref" href="#j_type_ctx_perm1"><span class="id" title="lemma">j_type_ctx_perm1</span></a> : <span class="id" title="keyword">∀</span> <a id="33e0d2a17b1f5f128ba8e5f7aec60f82" class="idref" href="#33e0d2a17b1f5f128ba8e5f7aec60f82"><span class="id" title="binder">Δ</span></a> <a id="93b0597e9ae352fba29d392ea31e56e3" class="idref" href="#93b0597e9ae352fba29d392ea31e56e3"><span class="id" title="binder">Γ1</span></a> <a id="661a0b7425df9e7f28ef6e83738d445c" class="idref" href="#661a0b7425df9e7f28ef6e83738d445c"><span class="id" title="binder">Γ2</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a> <a id="81709667730057812fb57b8909a87f8e" class="idref" href="#81709667730057812fb57b8909a87f8e"><span class="id" title="binder">τ2</span></a> <a id="t:77" class="idref" href="#t:77"><span class="id" title="binder">t</span></a> <a id="f8b2612e3761ec8868374ae3e67e3ae1" class="idref" href="#f8b2612e3761ec8868374ae3e67e3ae1"><span class="id" title="binder">τ1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#33e0d2a17b1f5f128ba8e5f7aec60f82"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#93b0597e9ae352fba29d392ea31e56e3"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#81709667730057812fb57b8909a87f8e"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#661a0b7425df9e7f28ef6e83738d445c"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:77"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f8b2612e3761ec8868374ae3e67e3ae1"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#33e0d2a17b1f5f128ba8e5f7aec60f82"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#93b0597e9ae352fba29d392ea31e56e3"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#661a0b7425df9e7f28ef6e83738d445c"><span class="id" title="variable">Γ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#81709667730057812fb57b8909a87f8e"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:77"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f8b2612e3761ec8868374ae3e67e3ae1"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_perm_iff"><span class="id" title="lemma">j_type_ctx_perm_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simpl_alist</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_app"><span class="id" title="lemma">Permutation_app</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1214"></a><h3 class="section">Weakening</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_type_ctx_weak" class="idref" href="#j_type_ctx_weak"><span class="id" title="lemma">j_type_ctx_weak</span></a> : <span class="id" title="keyword">∀</span> <a id="70ada6cfa53da45d0d20dee4fc20e60a" class="idref" href="#70ada6cfa53da45d0d20dee4fc20e60a"><span class="id" title="binder">Δ</span></a> <a id="dd46f30d344c3b2fcfbf8220bee6079d" class="idref" href="#dd46f30d344c3b2fcfbf8220bee6079d"><span class="id" title="binder">Γ1</span></a> <a id="4af47a5be1772fb4c89f786970eafcb0" class="idref" href="#4af47a5be1772fb4c89f786970eafcb0"><span class="id" title="binder">Γ2</span></a> <a id="t:82" class="idref" href="#t:82"><span class="id" title="binder">t</span></a> <a id="fc0ed5ab85cf8679dc3689b37c55988a" class="idref" href="#fc0ed5ab85cf8679dc3689b37c55988a"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type_ctx"><span class="id" title="definition">ok_type_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#70ada6cfa53da45d0d20dee4fc20e60a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4af47a5be1772fb4c89f786970eafcb0"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#dd46f30d344c3b2fcfbf8220bee6079d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4af47a5be1772fb4c89f786970eafcb0"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#70ada6cfa53da45d0d20dee4fc20e60a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#dd46f30d344c3b2fcfbf8220bee6079d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:82"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#fc0ed5ab85cf8679dc3689b37c55988a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#70ada6cfa53da45d0d20dee4fc20e60a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#dd46f30d344c3b2fcfbf8220bee6079d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4af47a5be1772fb4c89f786970eafcb0"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:82"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#fc0ed5ab85cf8679dc3689b37c55988a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ok</span> <span class="id" title="var">disj</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;save&nbsp;knowledge&nbsp;that&nbsp;Δ&nbsp;is&nbsp;uniq&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">j_inst</span></span>&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">okΔ</span> := <span class="id" title="var">j</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_wf"><span class="id" title="lemma">j_kind_ctx_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">okΔ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_var"><span class="id" title="constructor">j_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_app"><span class="id" title="lemma">ok_type_ctx_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_list</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="comment">(*&nbsp;todo&nbsp;need&nbsp;better&nbsp;automation&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_perm1"><span class="id" title="lemma">j_type_ctx_perm1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a> <span class="id" title="keyword">with</span> (τ1 := τ1); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>). <span class="id" title="var">intros_cof</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_weak_r"><span class="id" title="lemma">ok_type_ctx_weak_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_app"><span class="id" title="lemma">ok_kind_ctx_app</span></a>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>; <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_one"><span class="id" title="lemma">ok_kind_ctx_one</span></a>; <span class="id" title="var">fsetdec</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHj</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1215"></a><h3 class="section">Substitution</h3>

<div class="paragraph"> </div>

<a id="lab1216"></a><h2 class="section">Properties in τ of <code>(Δ ; Γ ⊢ t : τ</code></h2>

<div class="paragraph"> </div>

<a id="lab1217"></a><h3 class="section"><code>τ</code> is always locally closed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_lc_type" class="idref" href="#j_lc_type"><span class="id" title="lemma">j_lc_type</span></a> : <span class="id" title="keyword">∀</span> <a id="ab3ff2ba3c56ce3a2f18a08c2828309d" class="idref" href="#ab3ff2ba3c56ce3a2f18a08c2828309d"><span class="id" title="binder">Δ</span></a> <a id="0a4794764b8a16aa65ad2a2793212d90" class="idref" href="#0a4794764b8a16aa65ad2a2793212d90"><span class="id" title="binder">Γ</span></a> <a id="t:86" class="idref" href="#t:86"><span class="id" title="binder">t</span></a> <a id="36509124fdbe40610877e12609600002" class="idref" href="#36509124fdbe40610877e12609600002"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ab3ff2ba3c56ce3a2f18a08c2828309d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0a4794764b8a16aa65ad2a2793212d90"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#36509124fdbe40610877e12609600002"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#36509124fdbe40610877e12609600002"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_binds"><span class="id" title="lemma">ok_type_ctx_binds</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> τ1 τ2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ2) <span class="id" title="tactic">in</span> <span class="id" title="var">IHj1</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> τ2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LCn"><span class="id" title="definition">LCn</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> 1 τ2) <span class="id" title="tactic">in</span> <span class="id" title="var">IHj</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1218"></a><h3 class="section"><code>τ</code> is always well-formed</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ok_type_rw_ty_ar" class="idref" href="#ok_type_rw_ty_ar"><span class="id" title="lemma">ok_type_rw_ty_ar</span></a>: <span class="id" title="keyword">∀</span> <a id="5b55d9954f13445153d0be72bc4f0b10" class="idref" href="#5b55d9954f13445153d0be72bc4f0b10"><span class="id" title="binder">Δ</span></a> <a id="c5bd18104c7dd50cee57711603dab034" class="idref" href="#c5bd18104c7dd50cee57711603dab034"><span class="id" title="binder">τ1</span></a> <a id="db8926cc6cd4c2410a44da8e8eb59fda" class="idref" href="#db8926cc6cd4c2410a44da8e8eb59fda"><span class="id" title="binder">τ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5b55d9954f13445153d0be72bc4f0b10"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_ar"><span class="id" title="constructor">ty_ar</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c5bd18104c7dd50cee57711603dab034"><span class="id" title="variable">τ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#db8926cc6cd4c2410a44da8e8eb59fda"><span class="id" title="variable">τ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5b55d9954f13445153d0be72bc4f0b10"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c5bd18104c7dd50cee57711603dab034"><span class="id" title="variable">τ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5b55d9954f13445153d0be72bc4f0b10"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#db8926cc6cd4c2410a44da8e8eb59fda"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a>, <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">propext</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#atoms_app"><span class="id" title="lemma">atoms_app</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ok_type_rw_ty_univ" class="idref" href="#ok_type_rw_ty_univ"><span class="id" title="lemma">ok_type_rw_ty_univ</span></a>: <span class="id" title="keyword">∀</span> <a id="a3e1418c08ba6f3ef660e501f29833a3" class="idref" href="#a3e1418c08ba6f3ef660e501f29833a3"><span class="id" title="binder">Δ</span></a> <a id="98eb530d8fbd3084f102108832d3edfc" class="idref" href="#98eb530d8fbd3084f102108832d3edfc"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a3e1418c08ba6f3ef660e501f29833a3"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#98eb530d8fbd3084f102108832d3edfc"><span class="id" title="variable">τ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#98eb530d8fbd3084f102108832d3edfc"><span class="id" title="variable">τ</span></a>) (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a3e1418c08ba6f3ef660e501f29833a3"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LCn"><span class="id" title="definition">LCn</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> 1 <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#98eb530d8fbd3084f102108832d3edfc"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a>, <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="j_ok_type" class="idref" href="#j_ok_type"><span class="id" title="lemma">j_ok_type</span></a> : <span class="id" title="keyword">∀</span> <a id="3ff1e561568544b545e41e60915f68b2" class="idref" href="#3ff1e561568544b545e41e60915f68b2"><span class="id" title="binder">Δ</span></a> <a id="f0f0bdeb0c7a80e2c119a43408a6c4b2" class="idref" href="#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="binder">Γ</span></a> <a id="t:95" class="idref" href="#t:95"><span class="id" title="binder">t</span></a> <a id="9fbd529b4837ddcf5bcd4ea0dbdb021f" class="idref" href="#9fbd529b4837ddcf5bcd4ea0dbdb021f"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3ff1e561568544b545e41e60915f68b2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f0f0bdeb0c7a80e2c119a43408a6c4b2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:95"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#9fbd529b4837ddcf5bcd4ea0dbdb021f"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3ff1e561568544b545e41e60915f68b2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#9fbd529b4837ddcf5bcd4ea0dbdb021f"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_binds"><span class="id" title="lemma">ok_type_ctx_binds</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ok_type_rw_ty_ar"><span class="id" title="lemma">ok_type_rw_ty_ar</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ok_type_rw_ty_ar"><span class="id" title="lemma">ok_type_rw_ty_ar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHj1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ok_type_rw_ty_univ"><span class="id" title="lemma">ok_type_rw_ty_univ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHsc</span> <span class="id" title="var">IHlc</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a>, <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="tactic">cut</span>: <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Axioms.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV_open_lower"><span class="id" title="lemma">FV_open_lower</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHj_FV</span> <span class="id" title="var">IHj_LC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ1 <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV_open_upper_eq"><span class="id" title="lemma">FV_open_upper_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> τ2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ2) <span class="id" title="tactic">in</span> <span class="id" title="var">IHj_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="var">now</span> <span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_univ"><span class="id" title="constructor">ty_univ</span></a> τ2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LCn"><span class="id" title="definition">LCn</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> 1 τ2) <span class="id" title="tactic">in</span> <span class="id" title="var">IHj_LC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1219"></a><h2 class="section">Properties in t of <code>(Δ ; Γ ⊢ t : τ</code></h2>

<div class="paragraph"> </div>

<a id="lab1220"></a><h3 class="section"><code>t</code> is always locally closed w.r.t. term variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_lc_KTerm_term" class="idref" href="#j_lc_KTerm_term"><span class="id" title="lemma">j_lc_KTerm_term</span></a> : <span class="id" title="keyword">∀</span> <a id="74bd379b0166d4d087baacf1d44b04c9" class="idref" href="#74bd379b0166d4d087baacf1d44b04c9"><span class="id" title="binder">Δ</span></a> <a id="878757e82380a219aa75a7453ddf1b39" class="idref" href="#878757e82380a219aa75a7453ddf1b39"><span class="id" title="binder">Γ</span></a> <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a> <a id="78349fce1e15be42658aa44df5ae358a" class="idref" href="#78349fce1e15be42658aa44df5ae358a"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#74bd379b0166d4d087baacf1d44b04c9"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#878757e82380a219aa75a7453ddf1b39"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:99"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#78349fce1e15be42658aa44df5ae358a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:99"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#LC_typ_trm"><span class="id" title="lemma">LC_typ_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_neq_var"><span class="id" title="lemma">open_lc_gap_neq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_LC</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#LC_typ_trm"><span class="id" title="lemma">LC_typ_trm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1221"></a><h3 class="section"><code>t</code> is always locally closed w.r.t. type variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_lc_ktyp_term" class="idref" href="#j_lc_ktyp_term"><span class="id" title="lemma">j_lc_ktyp_term</span></a> : <span class="id" title="keyword">∀</span> <a id="221c1aaa62dce03a81da09831f639e1d" class="idref" href="#221c1aaa62dce03a81da09831f639e1d"><span class="id" title="binder">Δ</span></a> <a id="16cf05dce72d654f34695685c2af4841" class="idref" href="#16cf05dce72d654f34695685c2af4841"><span class="id" title="binder">Γ</span></a> <a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> <a id="0b5706a4c06c8a9c4703704ae7978c55" class="idref" href="#0b5706a4c06c8a9c4703704ae7978c55"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#221c1aaa62dce03a81da09831f639e1d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#16cf05dce72d654f34695685c2af4841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:103"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0b5706a4c06c8a9c4703704ae7978c55"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:103"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">e</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Multisorted.DecoratedTraversableMonad.html#mret"><span class="id" title="definition">mret</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#SystemF"><span class="id" title="definition">SystemF</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">e</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_neq_var"><span class="id" title="lemma">open_lc_gap_neq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_LC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_LC</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1222"></a><h3 class="section"><code>t</code> is always well-scoped w.r.t. type variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_sc_ktyp_term" class="idref" href="#j_sc_ktyp_term"><span class="id" title="lemma">j_sc_ktyp_term</span></a> : <span class="id" title="keyword">∀</span> <a id="f9984910b3dfe016133ce06768010329" class="idref" href="#f9984910b3dfe016133ce06768010329"><span class="id" title="binder">Δ</span></a> <a id="b3c7ccaae8c465e07e25793f53653087" class="idref" href="#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="binder">Γ</span></a> <a id="t:107" class="idref" href="#t:107"><span class="id" title="binder">t</span></a> <a id="30d40d2c4abd611469db684bc6366f08" class="idref" href="#30d40d2c4abd611469db684bc6366f08"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f9984910b3dfe016133ce06768010329"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:107"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#30d40d2c4abd611469db684bc6366f08"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:107"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f9984910b3dfe016133ce06768010329"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a>. <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ1 <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV_open_lower"><span class="id" title="lemma">FV_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">x</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV_open_lower"><span class="id" title="lemma">FV_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#scoped_stren_r"><span class="id" title="lemma">scoped_stren_r</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ1 <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1223"></a><h3 class="section"><code>t</code> is always well-scoped w.r.t. term variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_sc_KTerm_term" class="idref" href="#j_sc_KTerm_term"><span class="id" title="lemma">j_sc_KTerm_term</span></a> : <span class="id" title="keyword">∀</span> <a id="0e4e67a000225aadb90ca5b34d624592" class="idref" href="#0e4e67a000225aadb90ca5b34d624592"><span class="id" title="binder">Δ</span></a> <a id="0c008a6713a52fb035051d000ccb99e7" class="idref" href="#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="binder">Γ</span></a> <a id="t:111" class="idref" href="#t:111"><span class="id" title="binder">t</span></a> <a id="09b54b33ffd6759566ab283b2c79e2ae" class="idref" href="#09b54b33ffd6759566ab283b2c79e2ae"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0e4e67a000225aadb90ca5b34d624592"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:111"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#09b54b33ffd6759566ab283b2c79e2ae"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:111"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H1</span> <span class="id" title="var">into</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#in_in_domset"><span class="id" title="lemma">in_in_domset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <span class="id" title="var">t</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">x</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV_open_lower"><span class="id" title="lemma">FV_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#scoped_stren_r"><span class="id" title="lemma">scoped_stren_r</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">fsetdec</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#FV_trm_type_empty"><span class="id" title="lemma">FV_trm_type_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cc</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">lemma</span> := <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV_open_lower"><span class="id" title="lemma">FV_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> : <a class="idref" href="Tealeaves.Categories.TypeFamily.html#K"><span class="id" title="method">K</span></a>) (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> : <a class="idref" href="Tealeaves.Categories.TypeFamily.html#K"><span class="id" title="method">K</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">lemma</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> τ1 <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">fsetdec</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#FV_trm_type_empty"><span class="id" title="lemma">FV_trm_type_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1224"></a><h3 class="section"><code>t</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_ok_term" class="idref" href="#j_ok_term"><span class="id" title="lemma">j_ok_term</span></a> : <span class="id" title="keyword">∀</span> <a id="d98860d4b8965bb75e257bb2be223db8" class="idref" href="#d98860d4b8965bb75e257bb2be223db8"><span class="id" title="binder">Δ</span></a> <a id="23ab5ed32668b5e43a79a9e7f0f8314c" class="idref" href="#23ab5ed32668b5e43a79a9e7f0f8314c"><span class="id" title="binder">Γ</span></a> <a id="t:115" class="idref" href="#t:115"><span class="id" title="binder">t</span></a> <a id="7959a1a58ec2ab4a68e0c6d2cc07c8fc" class="idref" href="#7959a1a58ec2ab4a68e0c6d2cc07c8fc"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d98860d4b8965bb75e257bb2be223db8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#23ab5ed32668b5e43a79a9e7f0f8314c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:115"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7959a1a58ec2ab4a68e0c6d2cc07c8fc"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_term"><span class="id" title="definition">ok_term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d98860d4b8965bb75e257bb2be223db8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#23ab5ed32668b5e43a79a9e7f0f8314c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:115"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_term"><span class="id" title="definition">ok_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_sc_KTerm_term"><span class="id" title="lemma">j_sc_KTerm_term</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_sc_ktyp_term"><span class="id" title="lemma">j_sc_ktyp_term</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_lc_KTerm_term"><span class="id" title="lemma">j_lc_KTerm_term</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_lc_ktyp_term"><span class="id" title="lemma">j_lc_ktyp_term</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1225"></a><h3 class="section">Substitution</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_type_ctx_subst" class="idref" href="#j_type_ctx_subst"><span class="id" title="lemma">j_type_ctx_subst</span></a> : <span class="id" title="keyword">∀</span> <a id="822d01a139bb816c6ecc3e14a3ea3d66" class="idref" href="#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="binder">Δ</span></a> <a id="34a003cffa6cb3da5a4c8d5f959a18e4" class="idref" href="#34a003cffa6cb3da5a4c8d5f959a18e4"><span class="id" title="binder">Γ1</span></a> <a id="a7ad5e7af3190453d1e79a8045efe395" class="idref" href="#a7ad5e7af3190453d1e79a8045efe395"><span class="id" title="binder">Γ2</span></a> <a id="x:120" class="idref" href="#x:120"><span class="id" title="binder">x</span></a> <a id="561aa8609278512c57cc038265515a1f" class="idref" href="#561aa8609278512c57cc038265515a1f"><span class="id" title="binder">τ2</span></a> <a id="t:122" class="idref" href="#t:122"><span class="id" title="binder">t</span></a> <a id="u:123" class="idref" href="#u:123"><span class="id" title="binder">u</span></a> <a id="ea56a8ef4f2df6d8b4b7c1a8bb16ab8e" class="idref" href="#ea56a8ef4f2df6d8b4b7c1a8bb16ab8e"><span class="id" title="binder">τ1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#34a003cffa6cb3da5a4c8d5f959a18e4"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#561aa8609278512c57cc038265515a1f"><span class="id" title="variable">τ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a7ad5e7af3190453d1e79a8045efe395"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ea56a8ef4f2df6d8b4b7c1a8bb16ab8e"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#34a003cffa6cb3da5a4c8d5f959a18e4"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a7ad5e7af3190453d1e79a8045efe395"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:123"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#561aa8609278512c57cc038265515a1f"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#822d01a139bb816c6ecc3e14a3ea3d66"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#34a003cffa6cb3da5a4c8d5f959a18e4"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a7ad5e7af3190453d1e79a8045efe395"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:123"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ea56a8ef4f2df6d8b4b7c1a8bb16ab8e"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">jt</span> <span class="id" title="var">ju</span>. <span class="id" title="var">remember</span> (<span class="id" title="var">Γ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> τ2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Γ2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">jt</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H1</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">u</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x0</span>))) <span class="id" title="keyword">with</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btg_eq"><span class="id" title="lemma">btg_eq</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">destruct_eq_args</span> <span class="id" title="var">x0</span> <span class="id" title="var">x0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (τ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> τ2) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#binds_mid_eq"><span class="id" title="lemma">binds_mid_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvar</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x0</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Multisorted.Theory.Targeted.html#btg_eq"><span class="id" title="lemma">btg_eq</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">destruct_eq_args</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_var"><span class="id" title="constructor">j_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#binds_remove_mid"><span class="id" title="lemma">binds_remove_mid</span></a>. }<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#subst_in_type_id"><span class="id" title="lemma">subst_in_type_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ1</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_lc_KTerm_term"><span class="id" title="lemma">j_lc_KTerm_term</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#free"><span class="id" title="definition">free</span></a> (<span class="id" title="var">ix</span> := <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#I2"><span class="id" title="instance">I2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">e</span>))) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_list</span>. <span class="id" title="var">fsetdec</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_alist</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> τ1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_weak"><span class="id" title="lemma">j_type_ctx_weak</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_one"><span class="id" title="lemma">ok_type_ctx_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">H</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_subst</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst_open_neq"><span class="id" title="lemma">subst_open_neq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_ok_term"><span class="id" title="lemma">j_ok_term</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_weak"><span class="id" title="lemma">j_kind_ctx_weak</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_one"><span class="id" title="lemma">ok_kind_ctx_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#subst_in_type_id"><span class="id" title="lemma">subst_in_type_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx_subst1" class="idref" href="#j_type_ctx_subst1"><span class="id" title="lemma">j_type_ctx_subst1</span></a> : <span class="id" title="keyword">∀</span> <a id="92104104f14da77ec1939fbcb727971d" class="idref" href="#92104104f14da77ec1939fbcb727971d"><span class="id" title="binder">Δ</span></a> <a id="5495a10c804f1658d630c88ad892ac98" class="idref" href="#5495a10c804f1658d630c88ad892ac98"><span class="id" title="binder">Γ</span></a> <a id="x:127" class="idref" href="#x:127"><span class="id" title="binder">x</span></a> <a id="03db864c2bf06b2032aaafe539a0333e" class="idref" href="#03db864c2bf06b2032aaafe539a0333e"><span class="id" title="binder">τ2</span></a> <a id="t:129" class="idref" href="#t:129"><span class="id" title="binder">t</span></a> <a id="u:130" class="idref" href="#u:130"><span class="id" title="binder">u</span></a> <a id="c77586ceb8b5f7d2109f94fb9537b4bc" class="idref" href="#c77586ceb8b5f7d2109f94fb9537b4bc"><span class="id" title="binder">τ1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#92104104f14da77ec1939fbcb727971d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5495a10c804f1658d630c88ad892ac98"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#03db864c2bf06b2032aaafe539a0333e"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:129"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c77586ceb8b5f7d2109f94fb9537b4bc"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#92104104f14da77ec1939fbcb727971d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5495a10c804f1658d630c88ad892ac98"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:130"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#03db864c2bf06b2032aaafe539a0333e"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#92104104f14da77ec1939fbcb727971d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5495a10c804f1658d630c88ad892ac98"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:130"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:129"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c77586ceb8b5f7d2109f94fb9537b4bc"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">jt</span> <span class="id" title="var">ju</span>. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">¬</span></a> τ2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">jt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">change_alist</span> (<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">ju</span>. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_subst"><span class="id" title="lemma">j_type_ctx_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1226"></a><h1 class="section">Progress and preservation</h1>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="preservation_theorem" class="idref" href="#preservation_theorem"><span class="id" title="lemma">preservation_theorem</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#preservation"><span class="id" title="definition">preservation</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Axioms.html#unit"><span class="id" title="inductive">unit</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Delta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Gamma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">j1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H4</span> <span class="id" title="var">into</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktrm"><span class="id" title="constructor">ktrm</span></a> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>); [| <span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_subst1"><span class="id" title="lemma">j_type_ctx_subst1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <span class="id" title="var">t0</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> τ2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>); [|<span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>); [|<span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap"><span class="id" title="definition">envmap</span></a> (<a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ktyp"><span class="id" title="constructor">ktyp</span></a> <span class="id" title="var">e</span> τ1) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_subst1"><span class="id" title="lemma">j_kind_ctx_subst1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>. <span class="id" title="var">fsetdec</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="progress_theorem" class="idref" href="#progress_theorem"><span class="id" title="lemma">progress_theorem</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#progress"><span class="id" title="definition">progress</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Axioms.html#unit"><span class="id" title="inductive">unit</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Delta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Backends.Multisorted.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Gamma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#value"><span class="id" title="inductive">value</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHj1</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHj2</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">false</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">j1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#value"><span class="id" title="inductive">value</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">inverts</span> <span class="id" title="var">j1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#value"><span class="id" title="inductive">value</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHj</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">inverts</span> <span class="id" title="var">j</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#progress_theorem"><span class="id" title="lemma">progress_theorem</span></a>.<br/>
<span class="comment">(*&nbsp;Axioms:<br/>
base_typ&nbsp;:&nbsp;Type<br/>
*)</span><br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#preservation_theorem"><span class="id" title="lemma">preservation_theorem</span></a>.<br/>
<span class="comment">(*<br/>
Axioms:<br/>
propositional_extensionality&nbsp;:&nbsp;forall&nbsp;P&nbsp;Q&nbsp;:&nbsp;Prop,&nbsp;P&nbsp;&lt;-&gt;&nbsp;Q&nbsp;-&gt;&nbsp;P&nbsp;=&nbsp;Q<br/>
functional_extensionality_dep<br/>
&nbsp;&nbsp;:&nbsp;forall&nbsp;(A&nbsp;:&nbsp;Type)&nbsp;(B&nbsp;:&nbsp;A&nbsp;-&gt;&nbsp;Type)&nbsp;(f&nbsp;g&nbsp;:&nbsp;forall&nbsp;x&nbsp;:&nbsp;A,&nbsp;B&nbsp;x),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(forall&nbsp;x&nbsp;:&nbsp;A,&nbsp;f&nbsp;x&nbsp;=&nbsp;g&nbsp;x)&nbsp;-&gt;&nbsp;f&nbsp;=&nbsp;g<br/>
Eqdep.Eq_rect_eq.eq_rect_eq<br/>
&nbsp;&nbsp;:&nbsp;forall&nbsp;(U&nbsp;:&nbsp;Type)&nbsp;(p&nbsp;:&nbsp;U)&nbsp;(Q&nbsp;:&nbsp;U&nbsp;-&gt;&nbsp;Type)&nbsp;(x&nbsp;:&nbsp;Q&nbsp;p)&nbsp;(h&nbsp;:&nbsp;p&nbsp;=&nbsp;p),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;rew&nbsp;<span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;h&nbsp;in&nbsp;x<br/>
base_typ&nbsp;:&nbsp;Type<br/>
*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
