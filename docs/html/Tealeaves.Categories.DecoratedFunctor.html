<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Categories.DecoratedFunctor</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#"><span class="id" title="library">Classes.Categorical.DecoratedFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.RightComodule.html#"><span class="id" title="library">Classes.Categorical.RightComodule</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">E</span> <span class="id" title="var">T</span> <span class="id" title="var">W</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#Notations"><span class="id" title="module">Monad.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Misc.Strength.html#Notations"><span class="id" title="module">Strength.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Misc.Product.html#Notations"><span class="id" title="module">Product.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">F</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Map</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">f</span>%<span class="id" title="var">function_scope</span> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> {<span class="id" title="var">E</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">F</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Decorate</span>} {<span class="id" title="var">A</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <span class="id" title="var">T</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Return</span>} (<span class="id" title="var">A</span>)%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">T</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Join</span>} {<span class="id" title="var">A</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab349"></a><h1 class="section">A decorated functor is precisely a right comodule of <code>prod E</code></h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="RightComodule_DecoratedFunctor" class="idref" href="#RightComodule_DecoratedFunctor"><span class="id" title="definition">RightComodule_DecoratedFunctor</span></a><br/>
&nbsp;&nbsp;`{<a id="H1:5" class="idref" href="#H1:5"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:5" class="idref" href="#H1:5"><span class="id" title="binder">E</span></a> <a id="H1:5" class="idref" href="#H1:5"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="Tealeaves.Classes.Categorical.RightComodule.html#RightComodule"><span class="id" title="class">RightComodule</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#F:2"><span class="id" title="variable">F</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#E:1"><span class="id" title="variable">E</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Categorical.RightComodule.html#rcom_coaction_coaction"><span class="id" title="method">rcom_coaction_coaction</span></a> := <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.RightComodule.html#rcom_map_extr_coaction"><span class="id" title="method">rcom_map_extr_coaction</span></a> := <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a>;<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="DecoratedFunctor_RightComodule" class="idref" href="#DecoratedFunctor_RightComodule"><span class="id" title="definition">DecoratedFunctor_RightComodule</span></a><br/>
&nbsp;&nbsp;`{<a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">Map</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">F</span></a>} `{<a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">RightCoaction</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">F</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">(</span></a><a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">prod</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">E</span></a><a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">!</span></a> <a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">RightComodule</span></a> <a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">F</span></a> <a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">(</span></a><a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">prod</span></a> <a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">E</span></a><a id="RightComodule0:10" class="idref" href="#RightComodule0:10"><span class="id" title="binder">)</span></a>} `{<a id="H1:13" class="idref" href="#H1:13"><span class="id" title="binder">Monoid</span></a> <a id="H1:13" class="idref" href="#H1:13"><span class="id" title="binder">E</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#E:8"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#F:6"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := <a class="idref" href="Tealeaves.Classes.Categorical.RightComodule.html#rcom_coaction_coaction"><span class="id" title="method">rcom_coaction_coaction</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := <a class="idref" href="Tealeaves.Classes.Categorical.RightComodule.html#rcom_map_extr_coaction"><span class="id" title="method">rcom_map_extr_coaction</span></a>;<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab350"></a><h1 class="section">Decorated functors form a monoidal category</h1>

<div class="paragraph"> </div>

<a id="lab351"></a><h2 class="section">Null-decorated functors</h2>
 Every functor is trivially decorated using the operation that
    pairs each leaf with the unit of the monoid. We call such functors
    null-decorated. This allows us to see <i>all</i> functors as (maybe
    trivially) decorated. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_Zero" class="idref" href="#DecoratedFunctor_Zero"><span class="id" title="section">DecoratedFunctor_Zero</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:17" class="idref" href="#H:17"><span class="id" title="binder">Monoid</span></a> <a id="H:17" class="idref" href="#H:17"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:20" class="idref" href="#H0:20"><span class="id" title="binder">Functor</span></a> <a id="H0:20" class="idref" href="#H0:20"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Decorate_zero" class="idref" href="#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:21" class="idref" href="#A:21"><span class="id" title="binder">A</span></a> ⇒ @<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:21"><span class="id" title="variable">A</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:21"><span class="id" title="variable">A</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Natural_dec_zero" class="idref" href="#Natural_dec_zero"><span class="id" title="instance">Natural_dec_zero</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_zero" class="idref" href="#dec_dec_zero"><span class="id" title="lemma">dec_dec_zero</span></a> {<a id="A:22" class="idref" href="#A:22"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:22"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<span class="id" title="var">W</span> :=<a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_extract_zero" class="idref" href="#dec_extract_zero"><span class="id" title="lemma">dec_extract_zero</span></a> {<a id="A:23" class="idref" href="#A:23"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:23"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_zero" class="idref" href="#DecoratedFunctor_zero"><span class="id" title="instance">DecoratedFunctor_zero</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Natural_dec_zero"><span class="id" title="instance">Natural_dec_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_zero"><span class="id" title="lemma">dec_dec_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_extract_zero"><span class="id" title="lemma">dec_extract_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_Zero"><span class="id" title="section">DecoratedFunctor_Zero</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab352"></a><h2 class="section">The identity (zero-)decorated functor</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_I" class="idref" href="#DecoratedFunctor_I"><span class="id" title="section">DecoratedFunctor_I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">Monoid</span></a> <a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dec_I" class="idref" href="#dec_I"><span class="id" title="definition">dec_I</span></a> : <span class="id" title="keyword">∀</span> <a id="A:28" class="idref" href="#A:28"><span class="id" title="binder">A</span></a>, <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:28"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> ⇒ @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:29"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_I" class="idref" href="#Decorate_I"><span class="id" title="instance">Decorate_I</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> (<span class="id" title="keyword">fun</span> <a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:30"><span class="id" title="variable">A</span></a>) := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_I"><span class="id" title="definition">dec_I</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Natural_dec_I" class="idref" href="#Natural_dec_I"><span class="id" title="instance">Natural_dec_I</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:31"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_I" class="idref" href="#dec_dec_I"><span class="id" title="lemma">dec_dec_I</span></a> {<a id="A:32" class="idref" href="#A:32"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:33"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:32"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:34"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="A:38" class="idref" href="#A:38"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:38"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> '<a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">(</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">n</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">,</span></a> <a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">a</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#n:36"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#n:36"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#a:35"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:39" class="idref" href="#A:39"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:39"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_extract_I" class="idref" href="#dec_extract_I"><span class="id" title="lemma">dec_extract_I</span></a> {<a id="A:40" class="idref" href="#A:40"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:41"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:42" class="idref" href="#A:42"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:42"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:40"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_I" class="idref" href="#DecoratedFunctor_I"><span class="id" title="instance">DecoratedFunctor_I</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> (<span class="id" title="keyword">fun</span> <a id="A:43" class="idref" href="#A:43"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:43"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Natural_dec_I"><span class="id" title="instance">Natural_dec_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_I"><span class="id" title="lemma">dec_dec_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_extract_I"><span class="id" title="lemma">dec_extract_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_I"><span class="id" title="section">DecoratedFunctor_I</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab353"></a><h2 class="section">Decorated functors are closed under composition</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="Decoratedfunctor_composition" class="idref" href="#Decoratedfunctor_composition"><span class="id" title="section">Decoratedfunctor_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:47" class="idref" href="#H:47"><span class="id" title="binder">Monoid</span></a> <a id="H:47" class="idref" href="#H:47"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:49" class="idref" href="#H0:49"><span class="id" title="binder">Map</span></a> <a id="H0:49" class="idref" href="#H0:49"><span class="id" title="binder">F</span></a>} `{<a id="H1:51" class="idref" href="#H1:51"><span class="id" title="binder">Map</span></a> <a id="H1:51" class="idref" href="#H1:51"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:52" class="idref" href="#H2:52"><span class="id" title="binder">Decorate</span></a> <a id="H2:52" class="idref" href="#H2:52"><span class="id" title="binder">W</span></a> <a id="H2:52" class="idref" href="#H2:52"><span class="id" title="binder">F</span></a>} `{<a id="H3:53" class="idref" href="#H3:53"><span class="id" title="binder">Decorate</span></a> <a id="H3:53" class="idref" href="#H3:53"><span class="id" title="binder">W</span></a> <a id="H3:53" class="idref" href="#H3:53"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:54" class="idref" href="#DecoratedFunctor0:54"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:54" class="idref" href="#DecoratedFunctor0:54"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:54" class="idref" href="#DecoratedFunctor0:54"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:54" class="idref" href="#DecoratedFunctor0:54"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor1:55" class="idref" href="#DecoratedFunctor1:55"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor1:55" class="idref" href="#DecoratedFunctor1:55"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor1:55" class="idref" href="#DecoratedFunctor1:55"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor1:55" class="idref" href="#DecoratedFunctor1:55"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_compose" class="idref" href="#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:56" class="idref" href="#A:56"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Natural_dec_compose" class="idref" href="#Natural_dec_compose"><span class="id" title="instance">Natural_dec_compose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<span class="id" title="keyword">fun</span> <a id="A:57" class="idref" href="#A:57"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:57"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">E</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;&nbsp;F&nbsp;(shift&nbsp;G)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;(G&nbsp;∘&nbsp;F)&nbsp;f&gt;&gt;.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_compose_in_compose</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> <span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift_map2"><span class="id" title="lemma">shift_map2</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;mov&nbsp;&lt;&lt;dec&nbsp;F&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;∘&nbsp;W&nbsp;∘&nbsp;G&nbsp;∘&nbsp;W&nbsp;f&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> -&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;move&nbsp;&lt;&lt;F&nbsp;(dec&nbsp;G)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((G&nbsp;∘&nbsp;W)&nbsp;f)&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The next few lemmas are used to build up a proof of the
   "double decoration law", <span class="inlinecode"><a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="projection">dfun_dec_dec</span></a></span> <span class="inlinecode">(<span class="id" title="var">F</span></span> <span class="inlinecode">∘</span> <span class="inlinecode"><span class="id" title="var">G</span>)</span> 
<div class="paragraph"> </div>

 Split the decoration wire on <code>G</code> into two wires with
      <code>dfun_dec_dec G</code> law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_1" class="idref" href="#dec_dec_compose_1"><span class="id" title="lemma">dec_dec_compose_1</span></a> {<a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>))<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>))<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:58"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;F&nbsp;(strength)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((W&nbsp;○&nbsp;G)&nbsp;(cojoin&nbsp;(prod&nbsp;W)))&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;dec&nbsp;F&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((W&nbsp;○&nbsp;G)&nbsp;(cojoin&nbsp;(prod&nbsp;W)))&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="strength_cojoin_r" class="idref" href="#strength_cojoin_r"><span class="id" title="lemma">strength_cojoin_r</span></a> {<a id="A:59" class="idref" href="#A:59"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>))<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:59"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Split the decoration wire on <code>F</code> into two wires with
     <code>dfun_dec_dec F</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_2" class="idref" href="#dec_dec_compose_2"><span class="id" title="lemma">dec_dec_compose_2</span></a> {<a id="A:60" class="idref" href="#A:60"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>)<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:60"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#strength_cojoin_r"><span class="id" title="lemma">strength_cojoin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">A</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Slide the upper decoration wire on <code>G</code> past the lower
  decoration wire on <code>F</code>, which requires crossing them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_3" class="idref" href="#dec_dec_compose_3"><span class="id" title="lemma">dec_dec_compose_3</span></a> {<a id="A:61" class="idref" href="#A:61"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:61"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#BeckDistribution_strength"><span class="id" title="instance">BeckDistribution_strength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>. <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)). <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">x</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Re-arrange using naturality 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_5" class="idref" href="#dec_dec_compose_5"><span class="id" title="lemma">dec_dec_compose_5</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:62" class="idref" href="#A:62"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:62"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.H2"><span class="id" title="variable">H2</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">A</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_dec_compose" class="idref" href="#dec_dec_compose"><span class="id" title="lemma">dec_dec_compose</span></a> {<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:63"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;RHS&nbsp;with&nbsp;the&nbsp;butterfly&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#incr_spec"><span class="id" title="lemma">incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#bimonad_butterfly"><span class="id" title="lemma">Writer.bimonad_butterfly</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;outer&nbsp;(prod&nbsp;W)&nbsp;wire&nbsp;with&nbsp;the&nbsp;&lt;&lt;dfun_dec_dec&gt;&gt;&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)). <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_compose_1"><span class="id" title="lemma">dec_dec_compose_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;outer&nbsp;(prod&nbsp;W)&nbsp;wire&nbsp;with&nbsp;the&nbsp;&lt;&lt;dfun_dec_dec&gt;&gt;&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)). <span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)). <span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_compose_2"><span class="id" title="lemma">dec_dec_compose_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Slide&nbsp;a&nbsp;decoration&nbsp;on&nbsp;&lt;&lt;F&gt;&gt;&nbsp;and&nbsp;one&nbsp;on&nbsp;&lt;&lt;G&gt;&gt;&nbsp;past&nbsp;each&nbsp;other&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)). <span class="id" title="tactic">do</span> 4 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">g</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_compose_3"><span class="id" title="lemma">dec_dec_compose_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Flatten&nbsp;out&nbsp;a&nbsp;distribution&nbsp;bubble.&nbsp;Move&nbsp;the&nbsp;second&nbsp;decoration&nbsp;on&nbsp;&lt;&lt;F&gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;of&nbsp;the&nbsp;way&nbsp;to&nbsp;juxtapose&nbsp;the&nbsp;two&nbsp;distributions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>(@<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">))</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (@<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">))</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#writer_dist_involution"><span class="id" title="lemma">writer_dist_involution</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;final&nbsp;cleanup&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#incr_spec"><span class="id" title="lemma">incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_compose_5"><span class="id" title="lemma">dec_dec_compose_5</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_extract_compose" class="idref" href="#dec_extract_compose"><span class="id" title="lemma">dec_extract_compose</span></a> {<a id="A:64" class="idref" href="#A:64"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:64"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;-. <span class="id" title="var">unfold_compose_in_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift_extract"><span class="id" title="lemma">shift_extract</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>)) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_compose" class="idref" href="#DecoratedFunctor_compose"><span class="id" title="instance">DecoratedFunctor_compose</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Natural_dec_compose"><span class="id" title="instance">Natural_dec_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_dec_compose"><span class="id" title="lemma">dec_dec_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#dec_extract_compose"><span class="id" title="lemma">dec_extract_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decoratedfunctor_composition"><span class="id" title="section">Decoratedfunctor_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab354"></a><h2 class="section">Category laws for composition of decorated functors</h2>
 Next we prove that composition of decorated functors satisfies the
    laws of a category, i.e. that composition with the identity
    decorated functor on the left or is the identity, and that
    composition is associative. This is not immediately obvious
    because in each case we must verify that the <code>dec</code> operation is
    the same for both sides. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws" class="idref" href="#DecoratedFunctor_composition_laws"><span class="id" title="section">DecoratedFunctor_composition_laws</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws.identity_laws" class="idref" href="#DecoratedFunctor_composition_laws.identity_laws"><span class="id" title="section">identity_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <code>T</code> be a decorated functor. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:67" class="idref" href="#H:67"><span class="id" title="binder">Functor</span></a> <a id="H:67" class="idref" href="#H:67"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T:69" class="idref" href="#dec_T:69"><span class="id" title="binder">dec_T</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a id="W:68" class="idref" href="#W:68"><span class="id" title="binder">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#T:65"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="op:70" class="idref" href="#op:70"><span class="id" title="binder">op</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_op"><span class="id" title="class">Monoid_op</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#W:68"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="unit:71" class="idref" href="#unit:71"><span class="id" title="binder">unit</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_unit"><span class="id" title="class">Monoid_unit</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#W:68"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:72" class="idref" href="#DecoratedFunctor0:72"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:72" class="idref" href="#DecoratedFunctor0:72"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:72" class="idref" href="#DecoratedFunctor0:72"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:72" class="idref" href="#DecoratedFunctor0:72"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Monoid0:73" class="idref" href="#Monoid0:73"><span class="id" title="binder">!</span></a> <a id="Monoid0:73" class="idref" href="#Monoid0:73"><span class="id" title="binder">Monoid</span></a> <a id="Monoid0:73" class="idref" href="#Monoid0:73"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab355"></a><h3 class="section">Composition with a zero-decorated functor</h3>
 When <code>F</code> has a trivial decoration,
        <code>dec (F ∘T)</code> and <code>dec (T ∘ F)</code> have a special form. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition" class="idref" href="#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition"><span class="id" title="section">zero_decorated_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <code>F</code> be a functor, which we will treat as zero-decorated. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:74" class="idref" href="#F:74"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">Functor</span></a> <a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Composition with a zero-decorated functor on the left returns <code>T</code>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose_l" class="idref" href="#decorate_zero_compose_l"><span class="id" title="lemma">decorate_zero_compose_l</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:77" class="idref" href="#A:77"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>) (@<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:77"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength_2"><span class="id" title="lemma">strength_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#incr_spec"><span class="id" title="lemma">incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#mon_join_ret"><span class="id" title="method">mon_join_ret</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Composition with the identity functor on the left returns <code>T</code>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose_r" class="idref" href="#decorate_zero_compose_r"><span class="id" title="lemma">decorate_zero_compose_r</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>) (@<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:78"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-. <span class="id" title="var">fequal</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">t</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>)). <span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition"><span class="id" title="section">zero_decorated_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab356"></a><h3 class="section">Composition with the identity decorated functor</h3>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_identity_compose_l" class="idref" href="#decorate_identity_compose_l"><span class="id" title="lemma">decorate_identity_compose_l</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:79" class="idref" href="#A:79"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="A:80" class="idref" href="#A:80"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:80"><span class="id" title="variable">A</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>) (@<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> (<span class="id" title="keyword">fun</span> <a id="A:81" class="idref" href="#A:81"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:81"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:79"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#decorate_zero_compose_l"><span class="id" title="lemma">decorate_zero_compose_l</span></a> (<span class="id" title="keyword">fun</span> <a id="A:84" class="idref" href="#A:84"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:82"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_identity_compose_r" class="idref" href="#decorate_identity_compose_r"><span class="id" title="lemma">decorate_identity_compose_r</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:85" class="idref" href="#A:85"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="A:86" class="idref" href="#A:86"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:86"><span class="id" title="variable">A</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) (@<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:87" class="idref" href="#A:87"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:87"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:85"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#decorate_zero_compose_r"><span class="id" title="lemma">decorate_zero_compose_r</span></a> (<span class="id" title="keyword">fun</span> <a id="A:90" class="idref" href="#A:90"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:88"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength_I"><span class="id" title="lemma">strength_I</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.identity_laws"><span class="id" title="section">identity_laws</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws.associativity_law" class="idref" href="#DecoratedFunctor_composition_laws.associativity_law"><span class="id" title="section">associativity_law</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="op:92" class="idref" href="#op:92"><span class="id" title="binder">op</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_op"><span class="id" title="class">Monoid_op</span></a> <a id="W:91" class="idref" href="#W:91"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="unit:93" class="idref" href="#unit:93"><span class="id" title="binder">unit</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_unit"><span class="id" title="class">Monoid_unit</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#W:91"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Monoid0:94" class="idref" href="#Monoid0:94"><span class="id" title="binder">!</span></a> <a id="Monoid0:94" class="idref" href="#Monoid0:94"><span class="id" title="binder">Monoid</span></a> <a id="Monoid0:94" class="idref" href="#Monoid0:94"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:96" class="idref" href="#H:96"><span class="id" title="binder">Map</span></a> <a id="H:96" class="idref" href="#H:96"><span class="id" title="binder">T1</span></a>} `{<a id="H0:98" class="idref" href="#H0:98"><span class="id" title="binder">Map</span></a> <a id="H0:98" class="idref" href="#H0:98"><span class="id" title="binder">T2</span></a>} `{<a id="H1:100" class="idref" href="#H1:100"><span class="id" title="binder">Map</span></a> <a id="H1:100" class="idref" href="#H1:100"><span class="id" title="binder">T3</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T1:101" class="idref" href="#dec_T1:101"><span class="id" title="binder">dec_T1</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#W:91"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#T1:95"><span class="id" title="variable">T1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T2:102" class="idref" href="#dec_T2:102"><span class="id" title="binder">dec_T2</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#W:91"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#T2:97"><span class="id" title="variable">T2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T3:103" class="idref" href="#dec_T3:103"><span class="id" title="binder">dec_T3</span></a> : <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#W:91"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#T3:99"><span class="id" title="variable">T3</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:104" class="idref" href="#DecoratedFunctor0:104"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:104" class="idref" href="#DecoratedFunctor0:104"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:104" class="idref" href="#DecoratedFunctor0:104"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:104" class="idref" href="#DecoratedFunctor0:104"><span class="id" title="binder">T1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor1:105" class="idref" href="#DecoratedFunctor1:105"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor1:105" class="idref" href="#DecoratedFunctor1:105"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor1:105" class="idref" href="#DecoratedFunctor1:105"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor1:105" class="idref" href="#DecoratedFunctor1:105"><span class="id" title="binder">T2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor2:106" class="idref" href="#DecoratedFunctor2:106"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor2:106" class="idref" href="#DecoratedFunctor2:106"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor2:106" class="idref" href="#DecoratedFunctor2:106"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor2:106" class="idref" href="#DecoratedFunctor2:106"><span class="id" title="binder">T3</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decorate_compose_assoc1" class="idref" href="#decorate_compose_assoc1"><span class="id" title="lemma">decorate_compose_assoc1</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">:=</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">×)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">×)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w1</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w2</span> <span class="id" title="var">t2</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t2</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">rewrite</span> 1(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w3</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_assoc"><span class="id" title="method">monoid_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_compose_assoc" class="idref" href="#decorate_compose_assoc"><span class="id" title="lemma">decorate_compose_assoc</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:108" class="idref" href="#A:108"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.op"><span class="id" title="variable">op</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.dec_T1"><span class="id" title="variable">dec_T1</span></a>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:108"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.dec_T3"><span class="id" title="variable">dec_T3</span></a> <span class="id" title="var">_</span>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:108"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="tactic">at</span> 1 6.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#incr_spec"><span class="id" title="lemma">incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#decorate_compose_assoc1"><span class="id" title="lemma">decorate_compose_assoc1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">:=?</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">:=</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.H0"><span class="id" title="variable">H0</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^^&nbsp;not&nbsp;sure&nbsp;why&nbsp;this&nbsp;guy&nbsp;got&nbsp;unfolded&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#incr_spec"><span class="id" title="lemma">incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Misc.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Misc.Strength.html#strength_compose"><span class="id" title="lemma">strength_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws.associativity_law"><span class="id" title="section">associativity_law</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_composition_laws"><span class="id" title="section">DecoratedFunctor_composition_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab357"></a><h2 class="section">Composition with zero-decorated functors</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_zero_composition" class="idref" href="#DecoratedFunctor_zero_composition"><span class="id" title="section">DecoratedFunctor_zero_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:109" class="idref" href="#F:109"><span class="id" title="binder">F</span></a> <a id="G:110" class="idref" href="#G:110"><span class="id" title="binder">G</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:114" class="idref" href="#H:114"><span class="id" title="binder">Monoid</span></a> <a id="H:114" class="idref" href="#H:114"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:116" class="idref" href="#H0:116"><span class="id" title="binder">Functor</span></a> <a id="H0:116" class="idref" href="#H0:116"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H3:119" class="idref" href="#H3:119"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H3:119" class="idref" href="#H3:119"><span class="id" title="binder">W</span></a> <a id="H3:119" class="idref" href="#H3:119"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span>: <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose" class="idref" href="#decorate_zero_compose"><span class="id" title="lemma">decorate_zero_compose</span></a> {<a id="A:120" class="idref" href="#A:120"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:120"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_instance_0"><span class="id" title="instance">Decorate_instance_0</span></a> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="a:122" class="idref" href="#a:122"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#a:121"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift_zero"><span class="id" title="lemma">shift_zero</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedFunctor_zero_composition"><span class="id" title="section">DecoratedFunctor_zero_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab358"></a><h1 class="section">Decorated monads in terms of monad homomorphisms</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedMonad_characterization" class="idref" href="#DecoratedMonad_characterization"><span class="id" title="section">DecoratedMonad_characterization</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:127" class="idref" href="#H2:127"><span class="id" title="binder">Categorical.Monad.Monad</span></a> <a id="H2:127" class="idref" href="#H2:127"><span class="id" title="binder">T</span></a>} `{<a id="H3:129" class="idref" href="#H3:129"><span class="id" title="binder">Decorate</span></a> <a id="H3:129" class="idref" href="#H3:129"><span class="id" title="binder">W</span></a> <a id="H3:129" class="idref" href="#H3:129"><span class="id" title="binder">T</span></a>} `{<a id="H4:132" class="idref" href="#H4:132"><span class="id" title="binder">Monoid</span></a> <a id="H4:132" class="idref" href="#H4:132"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H5:133" class="idref" href="#H5:133"><span class="id" title="binder">!</span></a> <a id="H5:133" class="idref" href="#H5:133"><span class="id" title="binder">Categorical.DecoratedFunctor.DecoratedFunctor</span></a> <a id="H5:133" class="idref" href="#H5:133"><span class="id" title="binder">W</span></a> <a id="H5:133" class="idref" href="#H5:133"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<code>ret T</code> commutes with decoration if and only if <code>dec T</code> maps
     <code>ret T</code> to <code>ret (T ∘ W)</code> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_ret_iff" class="idref" href="#dec_ret_iff"><span class="id" title="lemma">dec_ret_iff</span></a> {<a id="A:134" class="idref" href="#A:134"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:134"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:134"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#x:135"><span class="id" title="variable">x</span></a>) (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:134"><span class="id" title="variable">A</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:134"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:134"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<code>join T</code> commutes with decoration if and only if <code>dec T</code>
     maps <code>join T</code> to <code>join (T ∘ prod W)</code> of <code>dec T ∘ map T (dec T)</code>
     (in other words iff <code>dec T</code> commutes with <code>join</code>). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_join_iff" class="idref" href="#dec_join_iff"><span class="id" title="lemma">dec_join_iff</span></a> {<a id="A:136" class="idref" href="#A:136"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:136"><span class="id" title="variable">A</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#A:136"><span class="id" title="variable">A</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">Heq</span> : <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span> := <span class="id" title="var">A</span>) (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">hyp</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hyp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Categorical.BeckDistributiveLaw.html#Join_Beck"><span class="id" title="instance">Join_Beck</span></a> @<a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> @<a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#BeckDistribution_strength"><span class="id" title="instance">BeckDistribution_strength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;-. <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Map_compose"><span class="id" title="instance">Map_compose</span></a>. <span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_compose_in_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization.T"><span class="id" title="variable">T</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Categorical.Writer.html#incr_spec"><span class="id" title="lemma">incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;Prove&nbsp;(T&nbsp;∘&nbsp;prod&nbsp;W)&nbsp;is&nbsp;a&nbsp;monad&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Theorem&nbsp;decorated_monad_compatibility_spec&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Monad_Hom&nbsp;T&nbsp;(T&nbsp;∘&nbsp;prod&nbsp;W)&nbsp;(@dec&nbsp;W&nbsp;T&nbsp;_)&nbsp;&lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;DecoratePreservingTransformation&nbsp;(fun&nbsp;A&nbsp;=&gt;&nbsp;A)&nbsp;T&nbsp;(ret&nbsp;T)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;DecoratePreservingTransformation&nbsp;(T&nbsp;∘&nbsp;T)&nbsp;T&nbsp;(@join&nbsp;T&nbsp;_).<br/>
&nbsp;&nbsp;Proof&nbsp;with&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;split.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;introv&nbsp;mhom.&nbsp;inverts&nbsp;mhom.&nbsp;inverts&nbsp;mhom_domain.&nbsp;split.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;constructor...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;introv.&nbsp;symmetry.&nbsp;rewrite&nbsp;dec_ret_iff.&nbsp;apply&nbsp;mhom_ret.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;constructor...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;introv.&nbsp;symmetry.&nbsp;rewrite&nbsp;dec_join_iff.&nbsp;apply&nbsp;mhom_join.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">h1</span></span> <span class="inlinecode"><span class="id" title="var">h2</span></span>.&nbsp;inverts&nbsp;h1.&nbsp;inverts&nbsp;h2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor;&nbsp;try&nbsp;typeclasses&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;admit.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;admit.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;introv&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;dec_ret_iff...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;introv.&nbsp;rewrite&nbsp;&lt;-&nbsp;dec_join_iff...<br/>
&nbsp;&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;Theorem&nbsp;decorated_monad_spec&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Categorical.DecoratedMonad.DecoratedMonad&nbsp;W&nbsp;T&nbsp;&lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monad_Hom&nbsp;T&nbsp;(T&nbsp;∘&nbsp;prod&nbsp;W)&nbsp;(@dec&nbsp;W&nbsp;T&nbsp;_).<br/>
&nbsp;&nbsp;Proof&nbsp;with&nbsp;try&nbsp;typeclasses&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;decorated_monad_compatibility_spec.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;split;&nbsp;intro&nbsp;hyp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;inversion&nbsp;hyp.&nbsp;constructor...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;constructor...&nbsp;intros.&nbsp;now&nbsp;rewrite&nbsp;(dmon_ret&nbsp;(W&nbsp;:=&nbsp;W)&nbsp;(T&nbsp;:=&nbsp;T)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;constructor...&nbsp;intros.&nbsp;now&nbsp;rewrite&nbsp;(dmon_join&nbsp;(W&nbsp;:=&nbsp;W)&nbsp;(T&nbsp;:=&nbsp;T)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;destruct&nbsp;hyp&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">hyp1</span></span> <span class="inlinecode"><span class="id" title="var">hyp2</span></span>.&nbsp;constructor...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;intros.&nbsp;inversion&nbsp;hyp1.&nbsp;now&nbsp;rewrite&nbsp;dectrans_commute.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;intros.&nbsp;inversion&nbsp;hyp2.&nbsp;now&nbsp;rewrite&nbsp;&lt;-&nbsp;dectrans_commute.<br/>
&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Categories.DecoratedFunctor.html#DecoratedMonad_characterization"><span class="id" title="section">DecoratedMonad_characterization</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
