<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.LN.Singlesorted.Theory</h1>

<div class="code">
</div>

<div class="doc">
This files contains metatheorems for the locally nameless variables
 that closely parallel those of Metalib. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Leaf.html#"><span class="id" title="library">LN.Leaf</span></a> <a class="idref" href="Tealeaves.LN.Atom.html#"><span class="id" title="library">LN.Atom</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#"><span class="id" title="library">LN.AtomSet</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#"><span class="id" title="library">LN.Singlesorted.Operations</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedTraversableModule.html#"><span class="id" title="library">Singlesorted.Classes.DecoratedTraversableModule</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">LN.AtomSet.Notations</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Operations.Notations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">DecoratedTraversableMonad.Notations</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">tealeaves_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab422"></a><h1 class="section">Lemmas for local reasoning</h1>

</div>
<div class="code">
<span class="id" title="var">Create</span> <span class="id" title="var">HintDb</span> <span class="id" title="var">tea_local</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "unfold_monoid" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_op"><span class="id" title="definition">monoid_op</span></a>, <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#Monoid_op_plus"><span class="id" title="instance">Monoid_op_plus</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_unit"><span class="id" title="definition">monoid_unit</span></a>, <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#Monoid_unit_zero"><span class="id" title="instance">Monoid_unit_zero</span></a> <span class="id" title="tactic">in</span> *.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "unfold_lia" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_monoid</span>; <span class="id" title="var">lia</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab423"></a><h1 class="section">Locally nameless metatheory</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="locally_nameless_metatheory" class="idref" href="#locally_nameless_metatheory"><span class="id" title="section">locally_nameless_metatheory</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">RightAction_Join</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">DecoratedTraversableModule</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">nat</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">(</span></a><a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">op</span></a><a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">:=</span></a><a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">plus</span></a><a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">)</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">(</span></a><a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">unit</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">:=</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">0)</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">F</span></a> <a id="H8:12" class="idref" href="#H8:12"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span>: <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedTraversableModule.html#DecoratedTraversableModule"><span class="id" title="class">DecoratedTraversableModule</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<span class="id" title="var">op</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#plus"><span class="id" title="abbreviation">plus</span></a>) (<span class="id" title="var">unit</span> := 0) <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedTraversableModule.html#DecoratedTraversableModule_Monad"><span class="id" title="instance">DecoratedTraversableModule_Monad</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedTraversableModule.html#dtmod_monad"><span class="id" title="method">dtmod_monad</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_in_ret" class="idref" href="#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a> : <span class="id" title="keyword">forall</span> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a> <a id="l:14" class="idref" href="#l:14"><span class="id" title="binder">l</span></a> (<a id="u:15" class="idref" href="#u:15"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:14"><span class="id" title="variable">l</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:15"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:15"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:14"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">l</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#bind_comp_ret"><span class="id" title="lemma">bind_comp_ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> : <a class="idref" href="Tealeaves.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab424"></a><h2 class="section">Leaf analysis: substitution with contexts</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inr_subst_loc_iff" class="idref" href="#inr_subst_loc_iff"><span class="id" title="lemma">inr_subst_loc_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> <a id="w:17" class="idref" href="#w:17"><span class="id" title="binder">w</span></a> <a id="p:18" class="idref" href="#p:18"><span class="id" title="binder">p</span></a> (<a id="u:19" class="idref" href="#u:19"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:20" class="idref" href="#x:20"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:17"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#p:18"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:20"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:19"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:20"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:17"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#p:18"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="comment">(*&nbsp;l&nbsp;is&nbsp;not&nbsp;replaced&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:20"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:17"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#p:18"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:19"><span class="id" title="variable">u</span></a>. <span class="comment">(*&nbsp;l&nbsp;is&nbsp;replaced&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="var">simpl_local</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="inr_subst_iff" class="idref" href="#inr_subst_iff"><span class="id" title="lemma">inr_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="w:21" class="idref" href="#w:21"><span class="id" title="binder">w</span></a> <a id="t:22" class="idref" href="#t:22"><span class="id" title="binder">t</span></a> <a id="u:23" class="idref" href="#u:23"><span class="id" title="binder">u</span></a> <a id="l:24" class="idref" href="#l:24"><span class="id" title="binder">l</span></a> <a id="x:25" class="idref" href="#x:25"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:21"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:24"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:22"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:25"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:23"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:21"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:24"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:22"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:24"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:25"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w1:26" class="idref" href="#w1:26"><span class="id" title="binder">w1</span></a> <a id="w2:27" class="idref" href="#w2:27"><span class="id" title="binder">w2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w1:26"><span class="id" title="variable">w1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:25"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:22"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w2:27"><span class="id" title="variable">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:24"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:23"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:21"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w1:26"><span class="id" title="variable">w1</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w2:27"><span class="id" title="variable">w2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#inr_subst_iff"><span class="id" title="lemma">inr_subst_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#inr_subst_loc_iff"><span class="id" title="lemma">inr_subst_loc_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> <span class="id" title="var">conditions</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">conditions</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c1</span> [[<span class="id" title="var">c2</span>|<span class="id" title="var">c2</span>] <span class="id" title="var">c3</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="var">destructs</span> <span class="id" title="var">c2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="var">destructs</span> <span class="id" title="var">c2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[? ?] | [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> [? [? ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>. <span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab425"></a><h2 class="section">Leaf analysis: substitution without contexts</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_subst_loc_iff" class="idref" href="#in_subst_loc_iff"><span class="id" title="lemma">in_subst_loc_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:28" class="idref" href="#l:28"><span class="id" title="binder">l</span></a> <a id="p:29" class="idref" href="#p:29"><span class="id" title="binder">p</span></a> (<a id="u:30" class="idref" href="#u:30"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:31" class="idref" href="#x:31"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#p:29"><span class="id" title="variable">p</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:31"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:30"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:28"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:28"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:31"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:28"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#p:29"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:28"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:31"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#p:29"><span class="id" title="variable">p</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:30"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">autorewrite</span>* <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="in_subst_iff" class="idref" href="#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:32" class="idref" href="#t:32"><span class="id" title="binder">t</span></a> <a id="u:33" class="idref" href="#u:33"><span class="id" title="binder">u</span></a> <a id="l:34" class="idref" href="#l:34"><span class="id" title="binder">l</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:34"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:33"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:34"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:34"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:32"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:34"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:33"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_subst_loc_iff"><span class="id" title="lemma">in_subst_loc_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? [? <span class="id" title="var">in_sub</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">in_sub</span> <span class="id" title="keyword">as</span> [[? <span class="id" title="var">heq</span>] | [<span class="id" title="var">heq</span> ?]]; <span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[? ?]|[? ?]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab426"></a><h2 class="section">Free variables after substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_subst_iff" class="idref" href="#in_free_subst_iff"><span class="id" title="lemma">in_free_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:36" class="idref" href="#t:36"><span class="id" title="binder">t</span></a> <a id="u:37" class="idref" href="#u:37"><span class="id" title="binder">u</span></a> <a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a> <a id="y:39" class="idref" href="#y:39"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:39"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:36"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:37"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:39"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:36"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:39"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:36"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:39"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:37"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_freeset_subst_iff" class="idref" href="#in_freeset_subst_iff"><span class="id" title="lemma">in_freeset_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:40" class="idref" href="#t:40"><span class="id" title="binder">t</span></a> <a id="u:41" class="idref" href="#u:41"><span class="id" title="binder">u</span></a> <a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a> <a id="y:43" class="idref" href="#y:43"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:43"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:40"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:41"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:43"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:40"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:43"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:40"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:43"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:41"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_subst_iff"><span class="id" title="lemma">in_free_subst_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab427"></a><h2 class="section">Upper and lower bounds for leaves after substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_subst_upper" class="idref" href="#in_subst_upper"><span class="id" title="lemma">in_subst_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a> <a id="u:45" class="idref" href="#u:45"><span class="id" title="binder">u</span></a> <a id="l:46" class="idref" href="#l:46"><span class="id" title="binder">l</span></a> <a id="x:47" class="idref" href="#x:47"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:47"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:45"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:47"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:45"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_subst_upper" class="idref" href="#in_free_subst_upper"><span class="id" title="lemma">in_free_subst_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:48" class="idref" href="#t:48"><span class="id" title="binder">t</span></a> <a id="u:49" class="idref" href="#u:49"><span class="id" title="binder">u</span></a> <a id="x:50" class="idref" href="#x:50"><span class="id" title="binder">x</span></a> <a id="y:51" class="idref" href="#y:51"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:51"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:48"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:50"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:49"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:51"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:48"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:51"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:50"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:51"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:49"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#Fr_injective_not_iff"><span class="id" title="lemma">Fr_injective_not_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_subst_upper" class="idref" href="#freeset_subst_upper"><span class="id" title="lemma">freeset_subst_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> <a id="u:53" class="idref" href="#u:53"><span class="id" title="binder">u</span></a> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:53"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="Tealeaves.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:54"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:53"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.union_spec"><span class="id" title="lemma">AtomSet.union_spec</span></a>, <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.diff_spec"><span class="id" title="lemma">AtomSet.diff_spec</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.singleton_spec"><span class="id" title="lemma">AtomSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_subst_upper"><span class="id" title="lemma">in_free_subst_upper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_subst_lower" class="idref" href="#in_subst_lower"><span class="id" title="lemma">in_subst_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:55" class="idref" href="#t:55"><span class="id" title="binder">t</span></a> <a id="u:56" class="idref" href="#u:56"><span class="id" title="binder">u</span></a> <a id="l:57" class="idref" href="#l:57"><span class="id" title="binder">l</span></a> <a id="x:58" class="idref" href="#x:58"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:57"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:57"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:58"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:57"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:58"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:56"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_subst_lower" class="idref" href="#in_free_subst_lower"><span class="id" title="lemma">in_free_subst_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:59" class="idref" href="#t:59"><span class="id" title="binder">t</span></a> (<a id="u:60" class="idref" href="#u:60"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> <a id="y:62" class="idref" href="#y:62"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:60"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_subst_lower"><span class="id" title="lemma">in_subst_lower</span></a>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_subst_lower" class="idref" href="#freeset_subst_lower"><span class="id" title="lemma">freeset_subst_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:63" class="idref" href="#t:63"><span class="id" title="binder">t</span></a> (<a id="u:64" class="idref" href="#u:64"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:65" class="idref" href="#x:65"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:63"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:65"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:63"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:65"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:64"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.diff_spec"><span class="id" title="lemma">AtomSet.diff_spec</span></a>, <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.singleton_spec"><span class="id" title="lemma">AtomSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_subst_lower"><span class="id" title="lemma">in_free_subst_lower</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="scoped_subst_eq" class="idref" href="#scoped_subst_eq"><span class="id" title="lemma">scoped_subst_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:66" class="idref" href="#t:66"><span class="id" title="binder">t</span></a> (<a id="u:67" class="idref" href="#u:67"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:68" class="idref" href="#x:68"><span class="id" title="binder">x</span></a> <a id="b6b04f9a7e2447a20ec47e9643cd1490" class="idref" href="#b6b04f9a7e2447a20ec47e9643cd1490"><span class="id" title="binder">γ1</span></a> <a id="745595330f9096877e03d7455240b483" class="idref" href="#745595330f9096877e03d7455240b483"><span class="id" title="binder">γ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:66"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#b6b04f9a7e2447a20ec47e9643cd1490"><span class="id" title="variable">γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:67"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#745595330f9096877e03d7455240b483"><span class="id" title="variable">γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:66"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:68"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:67"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#b6b04f9a7e2447a20ec47e9643cd1490"><span class="id" title="variable">γ1</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:68"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#745595330f9096877e03d7455240b483"><span class="id" title="variable">γ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">St</span> <span class="id" title="var">Su</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#freeset_subst_upper"><span class="id" title="lemma">freeset_subst_upper</span></a>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab428"></a><h2 class="section">Substitution of fresh variables</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_fresh" class="idref" href="#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a> : <span class="id" title="keyword">forall</span> <a id="t:71" class="idref" href="#t:71"><span class="id" title="binder">t</span></a> <a id="x:72" class="idref" href="#x:72"><span class="id" title="binder">x</span></a> <a id="u:73" class="idref" href="#u:73"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:71"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:71"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:73"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:71"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_id"><span class="id" title="lemma">subst_id</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">eapply</span> (@<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="subst_fresh_set" class="idref" href="#subst_fresh_set"><span class="id" title="lemma">subst_fresh_set</span></a> : <span class="id" title="keyword">forall</span> <a id="t:74" class="idref" href="#t:74"><span class="id" title="binder">t</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a> <a id="u:76" class="idref" href="#u:76"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:74"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:74"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:76"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:74"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_fresh_t" class="idref" href="#subst_fresh_t"><span class="id" title="lemma">subst_fresh_t</span></a> : <span class="id" title="keyword">forall</span> (<a id="t:77" class="idref" href="#t:77"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:78" class="idref" href="#x:78"><span class="id" title="binder">x</span></a> <a id="u:79" class="idref" href="#u:79"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:77"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:77"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:79"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:77"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_id"><span class="id" title="lemma">subst_id</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> (@<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="subst_fresh_set_t" class="idref" href="#subst_fresh_set_t"><span class="id" title="lemma">subst_fresh_set_t</span></a> : <span class="id" title="keyword">forall</span> (<a id="t:80" class="idref" href="#t:80"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:81" class="idref" href="#x:81"><span class="id" title="binder">x</span></a> <a id="u:82" class="idref" href="#u:82"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:80"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:80"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:82"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:80"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_fresh_t"><span class="id" title="lemma">subst_fresh_t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab429"></a><h2 class="section">Composing substitutions</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_subst_local" class="idref" href="#subst_subst_local"><span class="id" title="lemma">subst_subst_local</span></a> : <span class="id" title="keyword">forall</span> (<a id="u1:83" class="idref" href="#u1:83"><span class="id" title="binder">u1</span></a> <a id="u2:84" class="idref" href="#u2:84"><span class="id" title="binder">u2</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x1:85" class="idref" href="#x1:85"><span class="id" title="binder">x1</span></a> <a id="x2:86" class="idref" href="#x2:86"><span class="id" title="binder">x2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:85"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:84"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:85"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:86"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:86"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:84"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:85"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:83"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:85"><span class="id" title="variable">x1</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:86"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:84"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:83"><span class="id" title="variable">u1</span></a>) <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:86"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:84"><span class="id" title="variable">u2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x2</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_fresh_t"><span class="id" title="lemma">subst_fresh_t</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>, 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>), 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a>), 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>), 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a>)...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_subst" class="idref" href="#subst_subst"><span class="id" title="lemma">subst_subst</span></a> : <span class="id" title="keyword">forall</span> <a id="u1:87" class="idref" href="#u1:87"><span class="id" title="binder">u1</span></a> <a id="u2:88" class="idref" href="#u2:88"><span class="id" title="binder">u2</span></a> <a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a> (<a id="x1:90" class="idref" href="#x1:90"><span class="id" title="binder">x1</span></a> <a id="x2:91" class="idref" href="#x2:91"><span class="id" title="binder">x2</span></a> : <a class="idref" href="Tealeaves.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:90"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:88"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:90"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:91"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:90"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:87"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:91"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:88"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:91"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:88"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:90"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:87"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:91"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:88"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Singlesorted.Classes.RightModule.html#sub_sub"><span class="id" title="lemma">sub_sub</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_subst_local"><span class="id" title="lemma">subst_subst_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab430"></a><h2 class="section">Commuting two substitutions</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="subst_subst_comm" class="idref" href="#subst_subst_comm"><span class="id" title="lemma">subst_subst_comm</span></a> : <span class="id" title="keyword">forall</span> <a id="u1:92" class="idref" href="#u1:92"><span class="id" title="binder">u1</span></a> <a id="u2:93" class="idref" href="#u2:93"><span class="id" title="binder">u2</span></a> <a id="t:94" class="idref" href="#t:94"><span class="id" title="binder">t</span></a> (<a id="x1:95" class="idref" href="#x1:95"><span class="id" title="binder">x1</span></a> <a id="x2:96" class="idref" href="#x2:96"><span class="id" title="binder">x2</span></a> : <a class="idref" href="Tealeaves.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:95"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:96"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:95"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:93"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:96"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:92"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:95"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:92"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:96"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:93"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x2:96"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:93"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x1:95"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:92"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_subst"><span class="id" title="lemma">subst_subst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_fresh_t"><span class="id" title="lemma">subst_fresh_t</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab431"></a><h2 class="section">Local closure is preserved by substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_lc" class="idref" href="#subst_lc"><span class="id" title="lemma">subst_lc</span></a> : <span class="id" title="keyword">forall</span> <a id="u:97" class="idref" href="#u:97"><span class="id" title="binder">u</span></a> <a id="t:98" class="idref" href="#t:98"><span class="id" title="binder">t</span></a> <a id="x:99" class="idref" href="#x:99"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:98"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:97"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:99"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:97"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:98"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">lct</span> <span class="id" title="var">lcu</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#inr_subst_iff"><span class="id" title="lemma">inr_subst_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [[? ?] | [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> [<span class="id" title="var">h1</span> [<span class="id" title="var">h2</span> <span class="id" title="var">h3</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu</span> <span class="id" title="var">n2</span> <span class="id" title="var">l</span> <span class="id" title="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">unfold_monoid</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab432"></a><h2 class="section">Decompose substitution into closing/opening</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_spec_local" class="idref" href="#subst_spec_local"><span class="id" title="lemma">subst_spec_local</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:100" class="idref" href="#u:100"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="w:101" class="idref" href="#w:101"><span class="id" title="binder">w</span></a> <a id="l:102" class="idref" href="#l:102"><span class="id" title="binder">l</span></a> <a id="x:103" class="idref" href="#x:103"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:103"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:100"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:102"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:100"><span class="id" title="variable">u</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:103"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:101"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:102"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">autorewrite</span>* <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>. <span class="comment">(*&nbsp;todo&nbsp;fix&nbsp;fragile&nbsp;names&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_spec" class="idref" href="#subst_spec"><span class="id" title="lemma">subst_spec</span></a> : <span class="id" title="keyword">forall</span> <a id="x:104" class="idref" href="#x:104"><span class="id" title="binder">x</span></a> <a id="u:105" class="idref" href="#u:105"><span class="id" title="binder">u</span></a> <a id="t:106" class="idref" href="#t:106"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:106"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:104"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:105"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:104"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:106"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:105"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close"><span class="id" title="definition">close</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#subd_fmapd"><span class="id" title="lemma">subd_fmapd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeModule.html#subd_respectful_sub"><span class="id" title="lemma">subd_respectful_sub</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_spec_local"><span class="id" title="lemma">subst_spec_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab433"></a><h2 class="section">Substitution when <code>u</code> is a leaf</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="subst_loc_leaf" class="idref" href="#subst_loc_leaf"><span class="id" title="definition">subst_loc_leaf</span></a> <a id="x:107" class="idref" href="#x:107"><span class="id" title="binder">x</span></a> (<a id="u:108" class="idref" href="#u:108"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) : <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="l:109" class="idref" href="#l:109"><span class="id" title="binder">l</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:109"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:107"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Util.EqDec_eq.html#a6e843c62e1ac2a74737b7a9f636e026"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:108"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_by_leaf_spec" class="idref" href="#subst_by_leaf_spec"><span class="id" title="lemma">subst_by_leaf_spec</span></a> : <span class="id" title="keyword">forall</span> <a id="x:111" class="idref" href="#x:111"><span class="id" title="binder">x</span></a> <a id="l:112" class="idref" href="#l:112"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:111"><span class="id" title="variable">x</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:112"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_loc_leaf"><span class="id" title="definition">subst_loc_leaf</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:112"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a>. <span class="id" title="var">ext</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeModule.html#sub_respectful_fmap"><span class="id" title="lemma">sub_respectful_fmap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">l'in</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab434"></a><h2 class="section">Substitution by the same variable is the identity</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_same" class="idref" href="#subst_same"><span class="id" title="lemma">subst_same</span></a> : <span class="id" title="keyword">forall</span> <a id="t:113" class="idref" href="#t:113"><span class="id" title="binder">t</span></a> <a id="x:114" class="idref" href="#x:114"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:113"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:114"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:113"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_id"><span class="id" title="lemma">subst_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab435"></a><h2 class="section">Free variables after variable closing</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_free_close_iff_loc1" class="idref" href="#in_free_close_iff_loc1"><span class="id" title="lemma">in_free_close_iff_loc1</span></a> : <span class="id" title="keyword">forall</span> <a id="w:115" class="idref" href="#w:115"><span class="id" title="binder">w</span></a> <a id="l:116" class="idref" href="#l:116"><span class="id" title="binder">l</span></a> <a id="t:117" class="idref" href="#t:117"><span class="id" title="binder">t</span></a> <a id="x:118" class="idref" href="#x:118"><span class="id" title="binder">x</span></a>  <a id="y:119" class="idref" href="#y:119"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:115"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:116"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:117"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:118"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:115"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:116"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:119"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:119"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:117"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:118"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:119"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lin</span> <span class="id" title="var">heq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">la</span> | <span class="id" title="var">ln</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">heq</span>. <span class="id" title="var">destruct_eq_args</span> <span class="id" title="var">x</span> <span class="id" title="var">la</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverts</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;(in_of_inr&nbsp;F)&nbsp;in&nbsp;lin.*)</span><span class="id" title="var">skip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">heq</span>. <span class="id" title="var">compare_nats_args</span> <span class="id" title="var">ln</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_free_close_iff_loc2" class="idref" href="#in_free_close_iff_loc2"><span class="id" title="lemma">in_free_close_iff_loc2</span></a> : <span class="id" title="keyword">forall</span> <a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="y:122" class="idref" href="#y:122"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:122"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:122"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:120"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w:123" class="idref" href="#w:123"><span class="id" title="binder">w</span></a> <a id="l:124" class="idref" href="#l:124"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:123"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:124"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:120"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:123"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:124"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:122"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span> <span class="id" title="var">yin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#inr_of_in"><span class="id" title="lemma">inr_of_in</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">yin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">yin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">yin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span>). <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="in_free_close_iff" class="idref" href="#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:125" class="idref" href="#t:125"><span class="id" title="binder">t</span></a> <a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a> <a id="y:127" class="idref" href="#y:127"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:127"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:126"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:125"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:127"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:127"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_close_iff"><span class="id" title="lemma">free_close_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">introv</span> [? [? [? ?] ] ]. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_close_iff_loc1"><span class="id" title="lemma">in_free_close_iff_loc1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_close_iff_loc2"><span class="id" title="lemma">in_free_close_iff_loc2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_close_iff1" class="idref" href="#in_free_close_iff1"><span class="id" title="lemma">in_free_close_iff1</span></a> : <span class="id" title="keyword">forall</span> <a id="t:128" class="idref" href="#t:128"><span class="id" title="binder">t</span></a> <a id="x:129" class="idref" href="#x:129"><span class="id" title="binder">x</span></a> <a id="y:130" class="idref" href="#y:130"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:130"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:129"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:130"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:129"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:128"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:130"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:128"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_close" class="idref" href="#freeset_close"><span class="id" title="lemma">freeset_close</span></a> : <span class="id" title="keyword">forall</span> <a id="t:131" class="idref" href="#t:131"><span class="id" title="binder">t</span></a> <a id="x:132" class="idref" href="#x:132"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:132"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:131"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.LN.AtomSet.html#4b063f178f0ee2bd87c976d25415ff75"><span class="id" title="notation">[=]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:131"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:132"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.diff_spec"><span class="id" title="lemma">AtomSet.diff_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.singleton_spec"><span class="id" title="lemma">AtomSet.singleton_spec</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="nin_free_close" class="idref" href="#nin_free_close"><span class="id" title="lemma">nin_free_close</span></a> : <span class="id" title="keyword">forall</span> <a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:134"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:133"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="nin_freeset_close" class="idref" href="#nin_freeset_close"><span class="id" title="lemma">nin_freeset_close</span></a> : <span class="id" title="keyword">forall</span> <a id="t:135" class="idref" href="#t:135"><span class="id" title="binder">t</span></a> <a id="x:136" class="idref" href="#x:136"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:136"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:136"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:135"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#nin_free_close"><span class="id" title="lemma">nin_free_close</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab436"></a><h2 class="section">Variable closing and local closure</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="close_lc_eq" class="idref" href="#close_lc_eq"><span class="id" title="lemma">close_lc_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:137" class="idref" href="#t:137"><span class="id" title="binder">t</span></a> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:137"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> 1 (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close"><span class="id" title="definition">close</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:138"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:137"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">lct</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#inr_close_iff"><span class="id" title="lemma">inr_close_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [? ?]]. <span class="id" title="var">compare</span> <span class="id" title="var">l1</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;contradiction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">w</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lct</span>. <span class="id" title="var">now</span> <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lct</span>. <span class="id" title="var">now</span> <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab437"></a><h2 class="section">Upper and lower bounds on free variables after opening</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="free_open_upper_local" class="idref" href="#free_open_upper_local"><span class="id" title="lemma">free_open_upper_local</span></a> : <span class="id" title="keyword">forall</span> <a id="t:139" class="idref" href="#t:139"><span class="id" title="binder">t</span></a> (<a id="u:140" class="idref" href="#u:140"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="w:141" class="idref" href="#w:141"><span class="id" title="binder">w</span></a> <a id="l:142" class="idref" href="#l:142"><span class="id" title="binder">l</span></a> <a id="x:143" class="idref" href="#x:143"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:142"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:139"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:140"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:141"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:142"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:142"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:139"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:140"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lin</span> <span class="id" title="var">xin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff_T"><span class="id" title="lemma">in_free_iff_T</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> | <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">xin</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">xin</span>. <span class="id" title="var">simpl_local</span>. <span class="id" title="tactic">intuition</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">xin</span>. <span class="id" title="var">simpl_local</span>. <span class="id" title="tactic">intuition</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="free_open_upper" class="idref" href="#free_open_upper"><span class="id" title="lemma">free_open_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:144" class="idref" href="#t:144"><span class="id" title="binder">t</span></a> (<a id="u:145" class="idref" href="#u:145"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="x:146" class="idref" href="#x:146"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:146"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:145"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:146"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:144"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:146"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:145"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_open_iff"><span class="id" title="lemma">free_open_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">xin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">w</span> [<span class="id" title="var">hin</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#in_of_inr"><span class="id" title="lemma">in_of_inr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">u</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#free_open_upper_local"><span class="id" title="lemma">free_open_upper_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_open_upper" class="idref" href="#freeset_open_upper"><span class="id" title="lemma">freeset_open_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:147" class="idref" href="#t:147"><span class="id" title="binder">t</span></a> (<a id="u:148" class="idref" href="#u:148"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:147"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:148"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:147"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:148"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.AtomSet.html#AtomSet.union_spec"><span class="id" title="lemma">AtomSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#free_open_upper"><span class="id" title="lemma">free_open_upper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="free_open_lower" class="idref" href="#free_open_lower"><span class="id" title="lemma">free_open_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a> <a id="u:150" class="idref" href="#u:150"><span class="id" title="binder">u</span></a> <a id="x:151" class="idref" href="#x:151"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:150"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#inr_of_in"><span class="id" title="lemma">inr_of_in</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">xin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">xin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_open_iff"><span class="id" title="lemma">free_open_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">w</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_open_lower" class="idref" href="#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:152" class="idref" href="#t:152"><span class="id" title="binder">t</span></a> <a id="u:153" class="idref" href="#u:153"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:152"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:152"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:153"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> &lt;- 2(<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#free_open_lower"><span class="id" title="lemma">free_open_lower</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab438"></a><h2 class="section">Opening a locally closed term is the identity</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_lc_local" class="idref" href="#open_lc_local"><span class="id" title="lemma">open_lc_local</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:154" class="idref" href="#u:154"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) <a id="w:155" class="idref" href="#w:155"><span class="id" title="binder">w</span></a> <a id="l:156" class="idref" href="#l:156"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:155"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:156"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:154"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:155"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:156"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:156"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hyp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> | <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>; <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_lc" class="idref" href="#open_lc"><span class="id" title="lemma">open_lc</span></a> : <span class="id" title="keyword">forall</span> <a id="t:157" class="idref" href="#t:157"><span class="id" title="binder">t</span></a> <a id="u:158" class="idref" href="#u:158"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:157"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:157"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:158"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:157"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_id"><span class="id" title="lemma">open_id</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">lc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">lin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_lc_local"><span class="id" title="lemma">open_lc_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab439"></a><h2 class="section">Opening followed by substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_open_local" class="idref" href="#subst_open_local"><span class="id" title="lemma">subst_open_local</span></a> : <span class="id" title="keyword">forall</span> <a id="u1:159" class="idref" href="#u1:159"><span class="id" title="binder">u1</span></a> <a id="u2:160" class="idref" href="#u2:160"><span class="id" title="binder">u2</span></a> <a id="x:161" class="idref" href="#x:161"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:160"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:160"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:159"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:159"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:160"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">⋆</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:160"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">l</span>]. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#kcomposed_equiv"><span class="id" title="lemma">kcomposed_equiv</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#kcomposed_alt"><span class="id" title="definition">kcomposed_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#prepromote"><span class="id" title="definition">prepromote</span></a>, <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#bindd_respectful_id"><span class="id" title="lemma">bindd_respectful_id</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lcu2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> (<span class="id" title="var">w</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <span class="id" title="var">w0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H9</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H9</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">a</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#bindd_comp_ret"><span class="id" title="lemma">bindd_comp_ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#bindd_comp_ret"><span class="id" title="lemma">bindd_comp_ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>); <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#bindd_comp_ret"><span class="id" title="lemma">bindd_comp_ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#bindd_comp_ret"><span class="id" title="lemma">bindd_comp_ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_open" class="idref" href="#subst_open"><span class="id" title="lemma">subst_open</span></a> :  <span class="id" title="keyword">forall</span> <a id="u1:162" class="idref" href="#u1:162"><span class="id" title="binder">u1</span></a> <a id="u2:163" class="idref" href="#u2:163"><span class="id" title="binder">u2</span></a> <a id="t:164" class="idref" href="#t:164"><span class="id" title="binder">t</span></a> <a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:163"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:164"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:162"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:163"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:164"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:163"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u1:162"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u2:163"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lc</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#sub_subd"><span class="id" title="lemma">sub_subd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#subd_sub"><span class="id" title="lemma">subd_sub</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#kcompose"><span class="id" title="definition">kcompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_open_local"><span class="id" title="lemma">subst_open_local</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#kcomposed"><span class="id" title="definition">kcomposed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab440"></a><h2 class="section">Decompose opening into variable opening followed by substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_spec_local" class="idref" href="#open_spec_local"><span class="id" title="lemma">open_spec_local</span></a> : <span class="id" title="keyword">forall</span> <a id="u:166" class="idref" href="#u:166"><span class="id" title="binder">u</span></a> <a id="x:167" class="idref" href="#x:167"><span class="id" title="binder">x</span></a> <a id="w:168" class="idref" href="#w:168"><span class="id" title="binder">w</span></a> <a id="l:169" class="idref" href="#l:169"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:169"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:167"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:167"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:166"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:167"><span class="id" title="variable">x</span></a>))<a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">w</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">l</span></a><a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:166"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#w:168"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:169"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;theorem&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&nbsp;prove&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">subst_open_eq</span></span>,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;applying&nbsp;that&nbsp;theorem&nbsp;would&nbsp;introduce&nbsp;a&nbsp;local&nbsp;closure&nbsp;hypothesis<br/>
&nbsp;&nbsp;&nbsp;for&nbsp;&lt;&lt;u&gt;&gt;&nbsp;that&nbsp;is&nbsp;not&nbsp;actually&nbsp;required&nbsp;for&nbsp;our&nbsp;purposes.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_spec_eq" class="idref" href="#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="u:170" class="idref" href="#u:170"><span class="id" title="binder">u</span></a> <a id="t:171" class="idref" href="#t:171"><span class="id" title="binder">t</span></a> <a id="x:172" class="idref" href="#x:172"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:172"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:171"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:171"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:170"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:171"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:172"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:172"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:170"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="tactic">fresh</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#sub_subd"><span class="id" title="lemma">sub_subd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeModule.html#subd_respectful"><span class="id" title="lemma">subd_respectful</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">introv</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#in_of_inr"><span class="id" title="lemma">in_of_inr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">fresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">fresh</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_spec_local"><span class="id" title="lemma">open_spec_local</span></a> <span class="id" title="var">u</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab441"></a><h2 class="section">Opening by a variable, followed by non-equal substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_open_var_loc" class="idref" href="#subst_open_var_loc"><span class="id" title="lemma">subst_open_var_loc</span></a> : <span class="id" title="keyword">forall</span> <a id="u:173" class="idref" href="#u:173"><span class="id" title="binder">u</span></a> <a id="x:174" class="idref" href="#x:174"><span class="id" title="binder">x</span></a> <a id="y:175" class="idref" href="#y:175"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:175"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:173"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:173"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:175"><span class="id" title="variable">y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:175"><span class="id" title="variable">y</span></a>)) <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">⋆</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:173"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Util.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedMonad.html#2ae7d2180b059c7238b7a9821b6a5590"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span> <span class="id" title="var">lc</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_open_local"><span class="id" title="lemma">subst_open_local</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#subst_in_ret"><span class="id" title="axiom">subst_in_ret</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_open_var" class="idref" href="#subst_open_var"><span class="id" title="lemma">subst_open_var</span></a> : <span class="id" title="keyword">forall</span> <a id="u:176" class="idref" href="#u:176"><span class="id" title="binder">u</span></a> <a id="t:177" class="idref" href="#t:177"><span class="id" title="binder">t</span></a> <a id="x:178" class="idref" href="#x:178"><span class="id" title="binder">x</span></a> <a id="y:179" class="idref" href="#y:179"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:178"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:179"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:176"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:177"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:179"><span class="id" title="variable">y</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:178"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:176"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:177"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:178"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:176"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#y:179"><span class="id" title="variable">y</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span> <span class="id" title="var">lc</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#sub_subd"><span class="id" title="lemma">sub_subd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>), (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#subd_sub"><span class="id" title="lemma">subd_sub</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="comment">(*&nbsp;apply&nbsp;subst_open_var_loc;&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab442"></a><h2 class="section">Closing, followed by opening</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_close_local" class="idref" href="#open_close_local"><span class="id" title="lemma">open_close_local</span></a> : <span class="id" title="keyword">forall</span> <a id="x:180" class="idref" href="#x:180"><span class="id" title="binder">x</span></a> <a id="w:181" class="idref" href="#w:181"><span class="id" title="binder">w</span></a> <a id="l:182" class="idref" href="#l:182"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:180"><span class="id" title="variable">x</span></a>)) <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">co</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">⋆</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:180"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">w</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">l</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:182"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_close" class="idref" href="#open_close"><span class="id" title="lemma">open_close</span></a> : <span class="id" title="keyword">forall</span> <a id="x:183" class="idref" href="#x:183"><span class="id" title="binder">x</span></a> <a id="t:184" class="idref" href="#t:184"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:183"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:184"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:183"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:184"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedModule.html#subd_fmapd"><span class="id" title="lemma">subd_fmapd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeModule.html#subd_respectful_id"><span class="id" title="lemma">subd_respectful_id</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_close_local"><span class="id" title="lemma">open_close_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab443"></a><h2 class="section">Opening by a leaf reduces to an <span class="inlinecode"><span class="id" title="var">fmapkr</span></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="open_leaf_loc" class="idref" href="#open_leaf_loc"><span class="id" title="definition">open_leaf_loc</span></a> (<a id="u:185" class="idref" href="#u:185"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#leaf"><span class="id" title="inductive">leaf</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="wl:186" class="idref" href="#wl:186"><span class="id" title="binder">wl</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#wl:186"><span class="id" title="variable">wl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Nat.html#compare"><span class="id" title="definition">Nat.compare</span></a> <span class="id" title="var">n</span> <span class="id" title="var">w</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> =&gt; <a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> =&gt; <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:185"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> =&gt; <a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_by_leaf_spec" class="idref" href="#open_by_leaf_spec"><span class="id" title="lemma">open_by_leaf_spec</span></a> : <span class="id" title="keyword">forall</span> <a id="l:189" class="idref" href="#l:189"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:189"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_leaf_loc"><span class="id" title="definition">open_leaf_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:189"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#open"><span class="id" title="definition">open</span></a>. <span class="id" title="var">ext</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeModule.html#subd_respectful_fmapd"><span class="id" title="lemma">subd_respectful_fmapd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">l'</span> <span class="id" title="var">l'in</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab444"></a><h2 class="section">Opening, followed by closing</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="close_open_local" class="idref" href="#close_open_local"><span class="id" title="lemma">close_open_local</span></a> : <span class="id" title="keyword">forall</span> <a id="x:190" class="idref" href="#x:190"><span class="id" title="binder">x</span></a> <a id="w:191" class="idref" href="#w:191"><span class="id" title="binder">w</span></a> <a id="l:192" class="idref" href="#l:192"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:192"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:190"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:190"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">co</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">⋆</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_leaf_loc"><span class="id" title="definition">open_leaf_loc</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:190"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">w</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">l</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#l:192"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Util.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="close_open" class="idref" href="#close_open"><span class="id" title="lemma">close_open</span></a> : <span class="id" title="keyword">forall</span> <a id="x:193" class="idref" href="#x:193"><span class="id" title="binder">x</span></a> <a id="t:194" class="idref" href="#t:194"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:193"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:194"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:193"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:194"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:193"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:194"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="tactic">fresh</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_by_leaf_spec"><span class="id" title="lemma">open_by_leaf_spec</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.DecoratedFunctor.html#fmapd_fmapd"><span class="id" title="lemma">fmapd_fmapd</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#fmapd_respectful_id"><span class="id" title="lemma">fmapd_respectful_id</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">l</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#neq_symmetry"><span class="id" title="lemma">neq_symmetry</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeFunctor.html#in_of_inr"><span class="id" title="lemma">in_of_inr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#close_open_local"><span class="id" title="lemma">close_open_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab445"></a><h2 class="section">Opening and local closure</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_lc_gap_eq_1" class="idref" href="#open_lc_gap_eq_1"><span class="id" title="lemma">open_lc_gap_eq_1</span></a> : <span class="id" title="keyword">forall</span> <a id="n:195" class="idref" href="#n:195"><span class="id" title="binder">n</span></a> <a id="t:196" class="idref" href="#t:196"><span class="id" title="binder">t</span></a> <a id="u:197" class="idref" href="#u:197"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:197"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:195"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:196"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a>(<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:195"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:196"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:197"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lcu</span> <span class="id" title="var">lct</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#inr_open_iff"><span class="id" title="lemma">inr_open_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> [<span class="id" title="var">h1</span> [<span class="id" title="var">h2</span> <span class="id" title="var">h3</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#inr_ret_iff"><span class="id" title="lemma">inr_ret_iff</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h1</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#inr_ret_iff"><span class="id" title="lemma">inr_ret_iff</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">unfold_monoid</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu</span> <span class="id" title="var">n2</span> <span class="id" title="var">l</span> <span class="id" title="var">h2</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">trivial</span>|]. <span class="id" title="var">unfold_monoid</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#inr_ret_iff"><span class="id" title="lemma">inr_ret_iff</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_lc_gap_eq_2" class="idref" href="#open_lc_gap_eq_2"><span class="id" title="lemma">open_lc_gap_eq_2</span></a> : <span class="id" title="keyword">forall</span> <a id="n:198" class="idref" href="#n:198"><span class="id" title="binder">n</span></a> <a id="t:199" class="idref" href="#t:199"><span class="id" title="binder">t</span></a> <a id="u:200" class="idref" href="#u:200"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:198"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:200"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:198"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:200"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:198"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:199"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ngt</span> <span class="id" title="var">lcu</span> <span class="id" title="var">lct</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#inr_open_iff"><span class="id" title="lemma">inr_open_iff</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lapply</span> <span class="id" title="var">lct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>; <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n0</span>) <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#inr_ret_iff"><span class="id" title="lemma">inr_ret_iff</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lapply</span> <span class="id" title="var">lct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>; <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.LN.Leaf.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n0</span>) <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#inr_ret_iff"><span class="id" title="lemma">inr_ret_iff</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_lc_gap_eq_iff" class="idref" href="#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="n:201" class="idref" href="#n:201"><span class="id" title="binder">n</span></a> <a id="t:202" class="idref" href="#t:202"><span class="id" title="binder">t</span></a> <a id="u:203" class="idref" href="#u:203"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:201"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:203"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:201"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:202"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:201"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:202"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:203"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_lc_gap_eq_1"><span class="id" title="lemma">open_lc_gap_eq_1</span></a>, <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_lc_gap_eq_2"><span class="id" title="lemma">open_lc_gap_eq_2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="open_lc_gap_eq_var" class="idref" href="#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a> : <span class="id" title="keyword">forall</span> <a id="n:204" class="idref" href="#n:204"><span class="id" title="binder">n</span></a> <a id="t:205" class="idref" href="#t:205"><span class="id" title="binder">t</span></a> <a id="x:206" class="idref" href="#x:206"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:204"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:204"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:205"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#n:204"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:205"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:206"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Singlesorted.Classes.SetlikeMonad.html#inr_ret_iff"><span class="id" title="lemma">inr_ret_iff</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="open_lc_gap_eq_iff_1" class="idref" href="#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> : <span class="id" title="keyword">forall</span> <a id="t:207" class="idref" href="#t:207"><span class="id" title="binder">t</span></a> <a id="u:208" class="idref" href="#u:208"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:208"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> 1 <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:207"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:207"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#u:208"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> 0 <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="open_lc_gap_eq_var_1" class="idref" href="#open_lc_gap_eq_var_1"><span class="id" title="lemma">open_lc_gap_eq_var_1</span></a> : <span class="id" title="keyword">forall</span> <a id="t:209" class="idref" href="#t:209"><span class="id" title="binder">t</span></a> <a id="x:210" class="idref" href="#x:210"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> 1 <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Singlesorted.Classes.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.LN.Leaf.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#x:210"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Operations.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> 0 <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.LN.Singlesorted.Theory.html#locally_nameless_metatheory"><span class="id" title="section">locally_nameless_metatheory</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
