<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<title>Confluence.v</title>
<script type="text/javascript" defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js?config=TeX-AMS_CHTML"></script>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.16.0+0.16.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span>
  Relations.Relations
  Classes.RelationClasses.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Import</span>
  Backends.DB.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Set Implicit Arguments</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> DB.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">(* Import DB.DB.Notations. *)</span> <span class="c">(* Tealeaves notations *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> DB.AutosubstShim.Notations. <span class="c">(* Autosubst-like notations *)</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">lam</span> (<span class="nv">V</span> : <span class="kt">Type</span>) :=
| tvar : V -&gt; lam V
| abs  : lam V -&gt; lam V
| app  : lam V -&gt; lam V -&gt; lam V.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">binddt_lam</span> (<span class="nv">G</span> : <span class="kt">Type</span> -&gt; <span class="kt">Type</span>) `{Map G} `{Pure G} `{Mult G}
    {v1 v2 : <span class="kt">Type</span>} (f : nat * v1 -&gt; G (lam v2)) (t : lam v1) : G (lam v2) :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tvar v    =&gt; f (<span class="mi">0</span>, v)
  | abs body  =&gt; pure (@abs v2) &lt;‚ãÜ&gt; binddt_lam (f ‚¶ø <span class="mi">1</span>) body
  | app t1 t2 =&gt; pure (@app v2) &lt;‚ãÜ&gt; binddt_lam f t1 &lt;‚ãÜ&gt; binddt_lam f t2
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Return_STLC</span>: Return lam := tvar.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Binddt_STLC</span>: Binddt nat lam lam := @binddt_lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk0">#[export] <span class="kn">Instance</span> <span class="nf">DTM_STLC</span>: DecoratedTraversableMonad nat lam.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">DecoratedTraversableMonad nat lam</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">DecoratedTraversableMonad nat lam</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">derive_dtm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Map_STLC</span>: Map lam
  := Map_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Mapd_STLC</span>: Mapd nat lam
  := Mapd_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Traverse_STLC</span>: Traverse lam
  := Traverse_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Mapdt_STLC</span>: Mapdt nat lam
  := Mapdt_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bind_STLC</span>: Bind lam lam
  := Bind_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bindd_STLC</span>: Bindd nat lam lam
  := Bindd_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bindt_STLC</span>: Bindt lam lam
  := Bindt_Binddt nat lam lam.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ToSubset_STLC</span>: ToSubset lam
  := ToSubset_Traverse.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ToBatch_STLC</span>: ToBatch lam
  := ToBatch_Traverse.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Implicit Types</span> (<span class="nv">s</span> <span class="nv">t</span> <span class="nv">u</span> <span class="nv">v</span> : lam nat) (<span class="nv">x</span> <span class="nv">y</span> : nat)
  (<span class="nv">œÉ</span> <span class="nv">œÑ</span> : nat -&gt; lam nat) (<span class="nv">œÅ</span> : nat -&gt; nat).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Generalizable Variables</span> <span class="nf">s</span> t u v x y œÉ œÑ œÅ.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Create HintDb</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Custom Entry</span> lambda.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;{| e |}&quot;</span> :=
    e (e <span class="kn">custom</span> lambda <span class="kn">at level</span> <span class="mi">99</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;t1 t2&quot;</span> :=
    (app t1 t2) (<span class="kn">in custom</span> lambda <span class="kn">at level</span> <span class="mi">1</span>, <span class="kn">left associativity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;\, t&quot;</span> :=
    (abs t) (<span class="kn">in custom</span> lambda <span class="kn">at level</span> <span class="mi">90</span>,
          t <span class="kn">custom</span> lambda <span class="kn">at level</span> <span class="mi">99</span>, <span class="kn">left associativity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;( x )&quot;</span> :=
    x (<span class="kn">in custom</span> lambda, x <span class="kn">at level</span> <span class="mi">99</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x&quot;</span> :=
    x (<span class="kn">in custom</span> lambda <span class="kn">at level</span> <span class="mi">0</span>, x <span class="kn">constr at level</span> <span class="mi">0</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* One step of beta reduction *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">step</span> : lam nat -&gt; lam nat -&gt; <span class="kt">Prop</span> :=
| step_beta : <span class="kr">forall</span> <span class="nv">tbody</span> <span class="nv">targ</span>, step (app (abs tbody) targ) (<span class="nb">subst</span> (targ .: ret) tbody)
| step_app_l : <span class="kr">forall</span> <span class="nv">u1</span> <span class="nv">u2</span> <span class="nv">t</span>, step u1 u2 -&gt; step (app u1 t) (app u2 t)
| step_app_r : <span class="kr">forall</span> <span class="nv">u</span> <span class="nv">t1</span> <span class="nv">t2</span>, step t1 t2 -&gt; step (app u t1) (app u t2)
| step_lam : <span class="kr">forall</span> <span class="nv">u1</span> <span class="nv">u2</span>, step u1 u2 -&gt; step (abs u1) (abs u2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s ‚Üí t&quot;</span> := (step s t) (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Constructors</span> step : churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">steps</span> : relation (lam nat) := clos_refl_trans _ step.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk2">#[export] <span class="kn">Instance</span>: Reflexive steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive steps</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive steps</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk4"><span class="nb">unfold</span> Reflexive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : lam nat, steps x x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rt_refl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk5">#[export] <span class="kn">Instance</span>: Transitive steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive steps</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive steps</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7"><span class="nb">unfold</span> Transitive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : lam nat,
steps x y -&gt; steps y z -&gt; steps x z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rt_trans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Constructors</span> clos_refl_trans : churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;t1 ‚Üí* t2&quot;</span> := (steps t1 t2) (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8"><span class="kn">Lemma</span> <span class="nf">steps_app_l</span> : <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">t</span>, steps s1 s2 -&gt; steps (app s1 t) (app s2 t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">t</span>, s1 ‚Üí* s2 -&gt; {|s1 t|} ‚Üí* {|s2 t|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">t</span>, s1 ‚Üí* s2 -&gt; {|s1 t|} ‚Üí* {|s2 t|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t|} ‚Üí* {|s2 t|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb"><span class="nb">induction</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|x t|} ‚Üí* {|y t|}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkc"><hr></label><div class="goal-conclusion">{|x t|} ‚Üí* {|x t|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHclos_refl_trans1</var><span class="hyp-type"><b>: </b><span>{|x t|} ‚Üí* {|y t|}</span></span></span><br><span><var>IHclos_refl_trans2</var><span class="hyp-type"><b>: </b><span>{|y t|} ‚Üí* {|z t|}</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkd"><hr></label><div class="goal-conclusion">{|x t|} ‚Üí* {|z t|}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|x t|} ‚Üí* {|y t|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf"><span class="nb">apply</span> rt_step.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|x t|} ‚Üí {|y t|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10"><span class="nb">apply</span> step_app_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚Üí y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|x t|} ‚Üí* {|x t|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rt_refl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHclos_refl_trans1</var><span class="hyp-type"><b>: </b><span>{|x t|} ‚Üí* {|y t|}</span></span></span><br><span><var>IHclos_refl_trans2</var><span class="hyp-type"><b>: </b><span>{|y t|} ‚Üí* {|z t|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|x t|} ‚Üí* {|z t|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> rt_trans; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk13"><span class="kn">Lemma</span> <span class="nf">steps_app_r</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t1</span> <span class="nv">t2</span>, steps t1 t2 -&gt; steps (app s t1) (app s t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; {|s t1|} ‚Üí* {|s t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; {|s t1|} ‚Üí* {|s t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> steps; <span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk15"><span class="kn">Lemma</span> <span class="nf">steps_lam</span> : <span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, steps t1 t2 -&gt; steps (abs t1) (abs t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; {|\, t1|} ‚Üí* {|\, t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; {|\, t1|} ‚Üí* {|\, t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> steps; <span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Resolve</span>
  steps_app_r steps_lam steps_app_l : churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">rel_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    (<span class="nv">R1</span> <span class="nv">R2</span> : relation (lam nat)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">GDiamond</span> := <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
      R1 t t1 -&gt;
      R1 t t2 -&gt;
      <span class="kr">exists</span> <span class="nv">t3</span>, R2 t1 t3 /\ R2 t2 t3.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Diamond</span> := <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
      R1 t t1 -&gt;
      R1 t t2 -&gt;
      <span class="kr">exists</span> <span class="nv">t3</span>, R1 t1 t3 /\ R1 t2 t3.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">rel_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">local_confluence</span> : <span class="kt">Prop</span> := GDiamond step steps.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">confluence</span> : <span class="kt">Prop</span> := Diamond steps.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Unfold</span> confluence local_confluence Diamond GDiamond : core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Reserved Notation</span> <span class="s2">&quot;t1 ‚áí t2&quot;</span> (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">par</span> : lam nat -&gt; lam nat -&gt; <span class="kt">Prop</span> :=
| par_refl :
  `(tvar x ‚áí tvar x)
| par_app :
  `(s1 ‚áí s2 -&gt;
    t1 ‚áí t2 -&gt;
    {| s1 t1 |} ‚áí {| s2 t2 |})
| par_abs :
  `(s1 ‚áí s2 -&gt;
    {|\, s1|} ‚áí {|\, s2|})
| par_beta :
  `(s1 ‚áí s2 -&gt;
    t1 ‚áí t2 -&gt;
    {| (\, s1) t1 |} ‚áí <span class="nb">subst</span> (t2 .: ret) s2)
<span class="kn">where</span> <span class="s2">&quot;t1 ‚áí t2&quot;</span> := (<span class="kp">par</span> t1 t2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17">#[export] <span class="kn">Instance</span>: Reflexive <span class="kp">par</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive <span class="kp">par</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive <span class="kp">par</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19"><span class="nb">intro</span> t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚áí t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> t; <span class="nb">auto using</span> <span class="kp">par</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pars</span> : relation (lam nat) := clos_refl_trans _ <span class="kp">par</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a">#[export] <span class="kn">Instance</span>: Reflexive pars.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive pars</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive pars</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1c"><span class="nb">unfold</span> Reflexive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : lam nat, pars x x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rt_refl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1d">#[export] <span class="kn">Instance</span>: Transitive pars.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive pars</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive pars</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1f"><span class="nb">unfold</span> Transitive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : lam nat,
pars x y -&gt; pars y z -&gt; pars x z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rt_trans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;t1 ‚áí* t2&quot;</span> := (pars t1 t2) (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Constructors</span> <span class="kp">par</span> : churchrosser.</span></span></pre><div class="section" id="relating-and">
<h1>Relating ‚Üí, ‚Üí*, ‚áí, and ‚áí*</h1>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk20"><span class="kn">Lemma</span> <span class="nf">step_in_par</span> : `(t1 ‚Üí t2 -&gt; t1 ‚áí t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí t2 -&gt; t1 ‚áí t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí t2 -&gt; t1 ‚áí t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk22"><span class="nb">intros</span> ? ? Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí t2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk23"><span class="nb">induction</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tbody, targ</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, tbody) targ|} ‚áí tbody.[targ/]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk24" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk24"><hr></label><div class="goal-conclusion">{|u1 t|} ‚áí {|u2 t|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk25"><hr></label><div class="goal-conclusion">{|u t1|} ‚áí {|u t2|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk26"><hr></label><div class="goal-conclusion">{|\, u1|} ‚áí {|\, u2|}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk27">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tbody, targ</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, tbody) targ|} ‚áí tbody.[targ/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk28"><span class="nb">apply</span> par_beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tbody, targ</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tbody ‚áí tbody</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tbody, targ</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk29"><hr></label><div class="goal-conclusion">targ ‚áí targ</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk2a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tbody, targ</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tbody ‚áí tbody</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk2b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tbody, targ</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">targ ‚áí targ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk2c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|u1 t|} ‚áí {|u2 t|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk2d"><span class="nb">apply</span> par_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u1 ‚áí u2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk2e"><hr></label><div class="goal-conclusion">t ‚áí t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk2f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u1 ‚áí u2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk30">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚áí t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk31">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|u t1|} ‚áí {|u t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk32"><span class="nb">apply</span> par_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u ‚áí u</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk33"><hr></label><div class="goal-conclusion">t1 ‚áí t2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk34">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u ‚áí u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk35">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí t2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí t2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, u1|} ‚áí {|\, u2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk37"><span class="nb">apply</span> par_abs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u1, u2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>u1 ‚Üí u2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>u1 ‚áí u2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u1 ‚áí u2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk38"><span class="kn">Lemma</span> <span class="nf">par_in_steps</span> : `(t1 ‚áí t2 -&gt; t1 ‚Üí* t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk39"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk3a"><span class="nb">intros</span> ? ? Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk3b"><span class="nb">induction</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tvar x ‚Üí* tvar x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk3c"><hr></label><div class="goal-conclusion">{|s1 t1|} ‚Üí* {|s2 t2|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk3d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk3d"><hr></label><div class="goal-conclusion">{|\, s1|} ‚Üí* {|\, s2|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk3e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk3e"><hr></label><div class="goal-conclusion">{|(\, s1) t1|} ‚Üí* s2.[t2/]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk3f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tvar x ‚Üí* tvar x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk40">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|} ‚Üí* {|s2 t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk41"><span class="nb">transitivity</span> {| s1 t2 |}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|} ‚Üí* {|s1 t2|}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk42" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk42"><hr></label><div class="goal-conclusion">{|s1 t2|} ‚Üí* {|s2 t2|}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk43">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|} ‚Üí* {|s1 t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk44"><span class="nb">apply</span> steps_app_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk45">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t2|} ‚Üí* {|s2 t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk46"><span class="nb">apply</span> steps_app_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ‚Üí* s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk47">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s1|} ‚Üí* {|\, s2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk48"><span class="nb">apply</span> steps_lam.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ‚Üí* s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk49">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|} ‚Üí* s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk4a"><span class="nb">transitivity</span> {| (\, s1) t2 |}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|} ‚Üí* {|(\, s1) t2|}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk4b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk4b"><hr></label><div class="goal-conclusion">{|(\, s1) t2|} ‚Üí* s2.[t2/]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk4c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|} ‚Üí* {|(\, s1) t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk4d"><span class="nb">apply</span> steps_app_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk4e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t2|} ‚Üí* s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk4f"><span class="nb">transitivity</span> {| (\, s2) t2 |}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t2|} ‚Üí* {|(\, s2) t2|}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk50" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk50"><hr></label><div class="goal-conclusion">{|(\, s2) t2|} ‚Üí* s2.[t2/]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk51">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t2|} ‚Üí* {|(\, s2) t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk52"><span class="nb">apply</span> steps_app_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s1|} ‚Üí* {|\, s2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk53"><span class="nb">apply</span> steps_lam.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ‚Üí* s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk54">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s2) t2|} ‚Üí* s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk55"><span class="nb">apply</span> rt_step.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s2) t2|} ‚Üí s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> step_beta.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk56"><span class="kn">Lemma</span> <span class="nf">pars_in_steps</span> : `(t1 ‚áí* t2 -&gt; t1 ‚Üí* t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí* t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk57"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí* t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk58"><span class="nb">induction</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚áí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚Üí* y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk59" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk59"><hr></label><div class="goal-conclusion">x ‚Üí* x</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk5a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHclos_refl_trans1</var><span class="hyp-type"><b>: </b><span>x ‚Üí* y</span></span></span><br><span><var>IHclos_refl_trans2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk5a"><hr></label><div class="goal-conclusion">x ‚Üí* z</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk5b"><span class="bp">now</span> <span class="nb">apply</span> par_in_steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚Üí* x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk5c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHclos_refl_trans1</var><span class="hyp-type"><b>: </b><span>x ‚Üí* y</span></span></span><br><span><var>IHclos_refl_trans2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk5c"><hr></label><div class="goal-conclusion">x ‚Üí* z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk5d"><span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHclos_refl_trans1</var><span class="hyp-type"><b>: </b><span>x ‚Üí* y</span></span></span><br><span><var>IHclos_refl_trans2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚Üí* z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk5e"><span class="kn">Lemma</span> <span class="nf">steps_in_pars</span> : `(t1 ‚Üí* t2 -&gt; t1 ‚áí* t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; t1 ‚áí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; t1 ‚áí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk60"><span class="nb">intros</span> ? ? Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí* t2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk61"><span class="nb">induction</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk62" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk62"><hr></label><div class="goal-conclusion">x ‚áí* x</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x ‚áí* y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>y ‚áí* z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk63"><hr></label><div class="goal-conclusion">x ‚áí* z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk64">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk65"><span class="nb">apply</span> rt_step.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> step_in_par.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk66">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk67">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x ‚áí* y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>y ‚áí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk68"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x ‚áí* y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>y ‚áí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* <span class="nl">?y</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk69" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x ‚áí* y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>y ‚áí* z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk69"><hr></label><div class="goal-conclusion"><span class="nl">?y</span> ‚áí* z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x ‚áí* y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>y ‚áí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* <span class="nl">?y</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x ‚áí* y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>y ‚áí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y ‚áí* z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6c"><span class="kn">Goal</span> `(t1 ‚Üí t2 -&gt; t1 ‚áí t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí t2 -&gt; t1 ‚áí t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí t2 -&gt; t1 ‚áí t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="bp">now</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Resolve</span> step_in_par : churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6e"><span class="kn">Goal</span> `(t1 ‚áí t2 -&gt; t1 ‚Üí* t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk6f"><span class="kn">Proof with</span> (<span class="nb">eauto with</span> churchrosser).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk70"><span class="nb">induction</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tvar x ‚Üí* tvar x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk71"><hr></label><div class="goal-conclusion">{|s1 t1|} ‚Üí* {|s2 t2|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk72" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk72"><hr></label><div class="goal-conclusion">{|\, s1|} ‚Üí* {|\, s2|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk73"><hr></label><div class="goal-conclusion">{|(\, s1) t1|} ‚Üí* s2.[t2/]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk74">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tvar x ‚Üí* tvar x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk75">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|} ‚Üí* {|s2 t2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s1|} ‚Üí* {|\, s2|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">idtac</span>...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk77">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|} ‚Üí* s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk78"><span class="nb">etransitivity</span>...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s2) t1|} ‚Üí* s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk79"><span class="nb">etransitivity</span>...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s2) t2|} ‚Üí* s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7a"><span class="nb">unfold</span> steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s2</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t1 ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) step {|(\, s2) t2|} s2.[t2/]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7b"><span class="kn">Goal</span> `(t1 ‚Üí* t2 -&gt; t1 ‚áí* t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; t1 ‚áí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚Üí* t2 -&gt; t1 ‚áí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> pars; <span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7d"><span class="kn">Goal</span> `(t1 ‚áí* t2 -&gt; t1 ‚Üí* t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí* t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7e"><span class="kn">Proof with</span> <span class="nb">eauto with</span> churchrosser.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí* t2 -&gt; t1 ‚Üí* t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk7f"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> steps...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚áí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) step x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk80"><span class="nb">apply</span> pars_in_steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚áí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> pars...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;œÉ1 ‚ñ∑ œÉ2&quot;</span> := (<span class="kr">forall</span> <span class="nv">x</span>, œÉ1 x ‚áí œÉ2 x) (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Tactic Notation</span> <span class="s2">&quot;asimpl&quot;</span> := simplify_db_like_autosubst.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk81"><span class="kn">Lemma</span> <span class="nf">step_subst</span>: <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>,
    s ‚áí t -&gt; <span class="kr">forall</span> <span class="nv">œÉ</span>, <span class="nb">subst</span> œÉ s ‚áí <span class="nb">subst</span> œÉ t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>, s ‚áí t -&gt; <span class="kr">forall</span> <span class="nv">œÉ</span>, s.[œÉ] ‚áí t.[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk82"><span class="kn">Proof with</span> <span class="nb">auto using</span> <span class="kp">par</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>, s ‚áí t -&gt; <span class="kr">forall</span> <span class="nv">œÉ</span>, s.[œÉ] ‚áí t.[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk83">introv Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s ‚áí t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">œÉ</span>, s.[œÉ] ‚áí t.[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk84"><span class="nb">induction</span> Hstep; <span class="nb">intros</span> œÉ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(tvar x).[œÉ] ‚áí (tvar x).[œÉ]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk85"><hr></label><div class="goal-conclusion">{|s1 t1|}.[œÉ] ‚áí {|s2 t2|}.[œÉ]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk86" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk86"><hr></label><div class="goal-conclusion">{|\, s1|}.[œÉ] ‚áí {|\, s2|}.[œÉ]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk87" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk87"><hr></label><div class="goal-conclusion">{|(\, s1) t1|}.[œÉ] ‚áí s2.[t2/].[œÉ]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk88">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(tvar x).[œÉ] ‚áí (tvar x).[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk89">asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ x ‚áí œÉ x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|}.[œÉ] ‚áí {|s2 t2|}.[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s1|}.[œÉ] ‚áí {|\, s2|}.[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|}.[œÉ] ‚áí s2.[t2/].[œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8d">asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, (s1.[ret <span class="mi">0</span> .: œÉ &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]))
  (t1.[œÉ])|} ‚áí s2.[t2.[œÉ] .: œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8e"><span class="nb">replace</span> (<span class="nb">subst</span> (<span class="nb">subst</span> œÉ t2 .: œÉ) s2) <span class="kr">with</span>
      (<span class="nb">subst</span> (<span class="nb">subst</span> œÉ t2 .: ret) (<span class="nb">subst</span> (up__sub œÉ) s2)) <span class="bp">by</span> <span class="bp">now</span> asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, (s1.[ret <span class="mi">0</span> .: œÉ &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]))
  (t1.[œÉ])|} ‚áí s2.[up__sub œÉ].[t2.[œÉ]/]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk8f"><span class="nb">apply</span> par_beta; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, s1.[œÉ] ‚áí s2.[œÉ]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ</span>, t1.[œÉ] ‚áí t2.[œÉ]</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1.[ret <span class="mi">0</span> .: œÉ &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]
‚áí s2.[up__sub œÉ]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk90"><span class="kn">Lemma</span> <span class="nf">par_strong_rename</span> : `(t1 ‚áí t2 -&gt; <span class="nb">rename</span> œÅ t1 ‚áí <span class="nb">rename</span> œÅ t2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span> <span class="nv">œÅ</span>, t1 ‚áí t2 -&gt; <span class="nb">rename</span> œÅ t1 ‚áí <span class="nb">rename</span> œÅ t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk91"><span class="kn">Proof with</span> <span class="nb">auto with</span> churchrosser.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span> <span class="nv">œÅ</span>, t1 ‚áí t2 -&gt; <span class="nb">rename</span> œÅ t1 ‚áí <span class="nb">rename</span> œÅ t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk92"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">rename</span> œÅ t1 ‚áí <span class="nb">rename</span> œÅ t2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk93"><span class="nb">rewrite</span> rename_to_subst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk94"><span class="nb">generalize dependent</span> œÅ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">œÅ</span>, t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk95"><span class="nb">induction</span> H; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(tvar x).[œÅ &gt;&gt;&gt; ret] ‚áí (tvar x).[œÅ &gt;&gt;&gt; ret]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk96" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk96"><hr></label><div class="goal-conclusion">{|s1 t1|}.[œÅ &gt;&gt;&gt; ret] ‚áí {|s2 t2|}.[œÅ &gt;&gt;&gt; ret]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk97" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk97"><hr></label><div class="goal-conclusion">{|\, s1|}.[œÅ &gt;&gt;&gt; ret] ‚áí {|\, s2|}.[œÅ &gt;&gt;&gt; ret]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk98" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk98"><hr></label><div class="goal-conclusion">{|(\, s1) t1|}.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[t2/].[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk99">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(tvar x).[œÅ &gt;&gt;&gt; ret] ‚áí (tvar x).[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|}.[œÅ &gt;&gt;&gt; ret] ‚áí {|s2 t2|}.[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s1|}.[œÅ &gt;&gt;&gt; ret] ‚áí {|\, s2|}.[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9c">asimpl...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, (s1.[<span class="mi">0</span> .: œÅ &gt;&gt;&gt; (+<span class="mi">1</span>) &gt;&gt;&gt; ret])|}
‚áí {|\, (s2.[<span class="mi">0</span> .: œÅ &gt;&gt;&gt; (+<span class="mi">1</span>) &gt;&gt;&gt; ret])|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|}.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[t2/].[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9e"><span class="nb">specialize</span>
      (@par_beta
         (<span class="nb">rename</span> (up__ren œÅ) s1)
         (<span class="nb">rename</span> (up__ren œÅ) s2)
         (<span class="nb">rename</span> œÅ t1)
         (<span class="nb">rename</span> œÅ t2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, s1.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÅ</span>, t1.[œÅ &gt;&gt;&gt; ret] ‚áí t2.[œÅ &gt;&gt;&gt; ret]</span></span></span><br><span><var>œÅ</var><span class="hyp-type"><b>: </b><span>nat -&gt; nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="nb">rename</span> (up__ren œÅ) s1 ‚áí <span class="nb">rename</span> (up__ren œÅ) s2 -&gt;
 <span class="nb">rename</span> œÅ t1 ‚áí <span class="nb">rename</span> œÅ t2 -&gt;
 {|(\, (<span class="nb">rename</span> (up__ren œÅ) s1)) (<span class="nb">rename</span> œÅ t1)|}
 ‚áí (<span class="nb">rename</span> (up__ren œÅ) s2).[
 <span class="nb">rename</span> œÅ t2/]) -&gt;
{|(\, s1) t1|}.[œÅ &gt;&gt;&gt; ret] ‚áí s2.[t2/].[œÅ &gt;&gt;&gt; ret]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk9f"><span class="kn">Lemma</span> <span class="nf">par_subst_up</span> : <span class="kr">forall</span> <span class="nv">œÉ1</span> <span class="nv">œÉ2</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; up__sub œÉ1 ‚ñ∑ up__sub œÉ2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">œÉ1</span> <span class="nv">œÉ2</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; up__sub œÉ1 ‚ñ∑ up__sub œÉ2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">œÉ1</span> <span class="nv">œÉ2</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; up__sub œÉ1 ‚ñ∑ up__sub œÉ2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka1"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 x ‚áí up__sub œÉ2 x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka2"><span class="nb">induction</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 <span class="mi">0</span> ‚áí up__sub œÉ2 <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chka3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><label class="goal-separator" for="confluence-v-chka3"><hr></label><div class="goal-conclusion">up__sub œÉ1 (S x) ‚áí up__sub œÉ2 (S x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 <span class="mi">0</span> ‚áí up__sub œÉ2 <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 (S x) ‚áí up__sub œÉ2 (S x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka6"><span class="nb">enough</span> (<span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 (S x) ‚áí up__sub œÉ2 (S x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chka7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><label class="goal-separator" for="confluence-v-chka7"><hr></label><div class="goal-conclusion"><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chka8">asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) (S x)
‚áí (ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) (S x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chka9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><label class="goal-separator" for="confluence-v-chka9"><hr></label><div class="goal-conclusion"><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkaa"><span class="nb">rewrite</span> rename_to_subst <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(œÉ1 x).[(+<span class="mi">1</span>) &gt;&gt;&gt; ret] ‚áí (œÉ2 x).[(+<span class="mi">1</span>) &gt;&gt;&gt; ret]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) (S x)
‚áí (ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) (S x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkab"><hr></label><div class="goal-conclusion"><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkac"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(œÉ1 x).[(+<span class="mi">1</span>) &gt;&gt;&gt; ret] ‚áí (œÉ2 x).[(+<span class="mi">1</span>) &gt;&gt;&gt; ret]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) x
‚áí (œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkad"><hr></label><div class="goal-conclusion"><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkae"><span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ1 x) ‚áí <span class="nb">rename</span> (+<span class="mi">1</span>) (œÉ2 x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkaf"><span class="nb">apply</span> par_strong_rename.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>up__sub œÉ1 x ‚áí up__sub œÉ2 x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ1 x ‚áí œÉ2 x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb0"><span class="kn">Lemma</span> <span class="nf">par_strong_subst</span> <span class="nv">s</span> <span class="nv">t</span> <span class="nv">œÉ1</span> <span class="nv">œÉ2</span> :
  s ‚áí t -&gt; œÉ1 ‚ñ∑ œÉ2 -&gt; s.[œÉ1] ‚áí t.[œÉ2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚áí t -&gt; œÉ1 ‚ñ∑ œÉ2 -&gt; s.[œÉ1] ‚áí t.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb1"><span class="kn">Proof with</span> <span class="nb">auto using</span> <span class="kp">par</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚áí t -&gt; œÉ1 ‚ñ∑ œÉ2 -&gt; s.[œÉ1] ‚áí t.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb2"><span class="nb">intros</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>œÉ1, œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s ‚áí t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ1 ‚ñ∑ œÉ2 -&gt; s.[œÉ1] ‚áí t.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb3"><span class="nb">generalize dependent</span> œÉ1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>œÉ2</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s ‚áí t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s.[œÉ1] ‚áí t.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb4"><span class="nb">generalize dependent</span> œÉ2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s ‚áí t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s.[œÉ1] ‚áí t.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb5"><span class="nb">induction</span> Hstep; <span class="nb">intros</span> ? ? Hsub.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(tvar x).[œÉ1] ‚áí (tvar x).[œÉ2]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkb6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkb6"><hr></label><div class="goal-conclusion">{|s1 t1|}.[œÉ1] ‚áí {|s2 t2|}.[œÉ2]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkb7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkb7"><hr></label><div class="goal-conclusion">{|\, s1|}.[œÉ1] ‚áí {|\, s2|}.[œÉ2]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkb8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkb8"><hr></label><div class="goal-conclusion">{|(\, s1) t1|}.[œÉ1] ‚áí s2.[t2/].[œÉ2]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkb9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(tvar x).[œÉ1] ‚áí (tvar x).[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkba">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s1 t1|}.[œÉ1] ‚áí {|s2 t2|}.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">asimpl...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkbb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s1|}.[œÉ1] ‚áí {|\, s2|}.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkbc">asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, (s1.[ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)])|}
‚áí {|\, (s2.[ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)])|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkbd"><span class="nb">apply</span> par_abs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1.[ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]
‚áí s2.[ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkbe"><span class="nb">apply</span> IHHstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))
‚ñ∑ (ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkbf"><span class="nb">specialize</span> (@par_subst_up _ _ Hsub).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 ‚ñ∑ up__sub œÉ2 -&gt;
(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))
‚ñ∑ (ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc0">simplify_db_unfold_phase.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHHstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))
‚ñ∑ (ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) -&gt;
(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))
‚ñ∑ (ret <span class="mi">0</span> .: œÉ2 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s1) t1|}.[œÉ1] ‚áí s2.[t2/].[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc2">asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, (s1.[ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]))
  (t1.[œÉ1])|} ‚áí s2.[t2.[œÉ2] .: œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc3"><span class="nb">replace</span> (s2.[t2.[œÉ2] .: œÉ2]) <span class="kr">with</span> (s2.[up__sub œÉ2].[t2.[œÉ2]/]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, (s1.[ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]))
  (t1.[œÉ1])|} ‚áí s2.[up__sub œÉ2].[t2.[œÉ2]/]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkc4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkc4"><hr></label><div class="goal-conclusion">s2.[up__sub œÉ2].[t2.[œÉ2]/] = s2.[t2.[œÉ2] .: œÉ2]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc5">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, (s1.[ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]))
  (t1.[œÉ1])|} ‚áí s2.[up__sub œÉ2].[t2.[œÉ2]/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc6"><span class="nb">apply</span> par_beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1.[ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)]
‚áí s2.[up__sub œÉ2]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkc7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkc7"><hr></label><div class="goal-conclusion">t1.[œÉ1] ‚áí t2.[œÉ2]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkc8"><span class="nb">apply</span> IHHstep1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) ‚ñ∑ up__sub œÉ2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkc9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkc9"><hr></label><div class="goal-conclusion">t1.[œÉ1] ‚áí t2.[œÉ2]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkca"><span class="nb">specialize</span> (@par_subst_up _ _ Hsub).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">up__sub œÉ1 ‚ñ∑ up__sub œÉ2 -&gt;
(ret <span class="mi">0</span> .: œÉ1 &gt;&gt;&gt; <span class="nb">subst</span> ((+<span class="mi">1</span>) &gt;&gt;&gt; ret)) ‚ñ∑ up__sub œÉ2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkcb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkcb"><hr></label><div class="goal-conclusion">t1.[œÉ1] ‚áí t2.[œÉ2]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkcc">simplify_db_unfold_phase; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1.[œÉ1] ‚áí t2.[œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkcd">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2.[up__sub œÉ2].[t2.[œÉ2]/] = s2.[t2.[œÉ2] .: œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkce">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2.[up__sub œÉ2].[t2.[œÉ2]/] = s2.[t2.[œÉ2] .: œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkcf">asimpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; s1.[œÉ1] ‚áí s2.[œÉ2]</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">œÉ2</span> <span class="nv">œÉ1</span>, œÉ1 ‚ñ∑ œÉ2 -&gt; t1.[œÉ1] ‚áí t2.[œÉ2]</span></span></span><br><span><var>œÉ2, œÉ1</var><span class="hyp-type"><b>: </b><span>nat -&gt; lam nat</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>œÉ1 ‚ñ∑ œÉ2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2.[(t2.[œÉ2] .: ret) <span class="mi">0</span> .: œÉ2] = s2.[t2.[œÉ2] .: œÉ2]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
<div class="section" id="normalization-for-par">
<h1>Normalization for <tt class="docutils literal">par</tt></h1>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">normalize</span> (<span class="nv">t</span> : lam nat) : lam nat :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tvar x =&gt; tvar x
  | abs s =&gt; abs (normalize s)
  | app (abs t1) t2 =&gt; (normalize t1).[normalize t2/]
  | app t1 t2 =&gt; app (normalize t1) (normalize t2)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd0"><span class="kn">Lemma</span> <span class="nf">par_triangle</span> : <span class="kr">forall</span> (<span class="nv">t1</span> <span class="nv">t2</span> : lam nat), t1 ‚áí t2 -&gt; t2 ‚áí normalize t1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t2 ‚áí normalize t1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t2 ‚áí normalize t1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd2"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t2 ‚áí normalize t1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd3"><span class="nb">generalize dependent</span> t2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t2</span>, t1 ‚áí t2 -&gt; t2 ‚áí normalize t1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd4"><span class="nb">induction</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tvar x ‚áí normalize (tvar x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkd5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkd5"><hr></label><div class="goal-conclusion">{|s2 t2|} ‚áí normalize {|s1 t1|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkd6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkd6"><hr></label><div class="goal-conclusion">{|\, s2|} ‚áí normalize {|\, s1|}</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkd7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkd7"><hr></label><div class="goal-conclusion">s2.[t2/] ‚áí normalize {|(\, s1) t1|}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tvar x ‚áí normalize (tvar x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkd9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s2 t2|} ‚áí normalize {|s1 t1|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkda"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s2 t2|}
‚áí <span class="kr">match</span> s1 <span class="kr">with</span>
  | {|\, t2|} =&gt; (normalize t2).[normalize t1/]
  | _ =&gt; {|(normalize s1) (normalize t1)|}
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkdb"><span class="nb">destruct</span> s1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>tvar n ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize (tvar n)</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s2 t2|} ‚áí {|(normalize (tvar n)) (normalize t1)|}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkdc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|\, s1|} ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize {|\, s1|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkdc"><hr></label><div class="goal-conclusion">{|s2 t2|} ‚áí (normalize s1).[normalize t1/]</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1_1, s1_2, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|s1_1 s1_2|} ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize {|s1_1 s1_2|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkdd"><hr></label><div class="goal-conclusion">{|s2 t2|}
‚áí {|(normalize {|s1_1 s1_2|}) (normalize t1)|}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkde">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>tvar n ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize (tvar n)</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s2 t2|} ‚áí {|(normalize (tvar n)) (normalize t1)|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto using</span> par_app.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkdf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|\, s1|} ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize {|\, s1|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s2 t2|} ‚áí (normalize s1).[normalize t1/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke0"><span class="nb">inversion</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|\, s1|} ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize {|\, s1|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br><span><var>s0, s3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s0 = s1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>{|\, s3|} = s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s3) t2|} ‚áí (normalize s1).[normalize t1/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke1"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, t1, t2, s3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|\, s1|} ‚áí {|\, s3|}</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>{|\, s3|} ‚áí normalize {|\, s1|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s3) t2|} ‚áí (normalize s1).[normalize t1/]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke2"><span class="nb">inversion</span> IHpar1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, t1, t2, s3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|\, s1|} ‚áí {|\, s3|}</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>{|\, s3|} ‚áí normalize {|\, s1|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s3</span></span></span><br><span><var>s0, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>s3 ‚áí normalize s1</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s0 = s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>s2 = normalize s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s3) t2|} ‚áí (normalize s1).[normalize t1/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke3"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, t1, t2, s3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|\, s1|} ‚áí {|\, s3|}</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>{|\, s3|} ‚áí normalize {|\, s1|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s3</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>s3 ‚áí normalize s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s3) t2|} ‚áí (normalize s1).[normalize t1/]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto using</span> par_beta.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1_1, s1_2, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{|s1_1 s1_2|} ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize {|s1_1 s1_2|}</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|s2 t2|}
‚áí {|(normalize {|s1_1 s1_2|}) (normalize t1)|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto using</span> par_app.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s2|} ‚áí normalize {|\, s1|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke6"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>IHpar</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|\, s2|} ‚áí {|\, (normalize s1)|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto using</span> par_abs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2.[t2/] ‚áí normalize {|(\, s1) t1|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke8"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2.[t2/] ‚áí (normalize s1).[normalize t1/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chke9"><span class="nb">apply</span> par_strong_subst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s2 ‚áí normalize s1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkea"><hr></label><div class="goal-conclusion">(t2 .: ret) ‚ñ∑ (normalize t1 .: ret)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkeb"><span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 ‚áí s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t2</span></span></span><br><span><var>IHpar1</var><span class="hyp-type"><b>: </b><span>s2 ‚áí normalize s1</span></span></span><br><span><var>IHpar2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí normalize t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(t2 .: ret) ‚ñ∑ (normalize t1 .: ret)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">intros</span> [|?].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkec"><span class="kn">Theorem</span> <span class="nf">par_diamond</span> : Diamond <span class="kp">par</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Diamond <span class="kp">par</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chked"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Diamond <span class="kp">par</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkee"><span class="nb">unfold</span> Diamond.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
t ‚áí t1 -&gt; t ‚áí t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkef"><span class="nb">intros</span> ? ? ? H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf0"><span class="kr">exists</span> (<span class="nv">normalize</span> <span class="nv">t</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t ‚áí t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí normalize t /\ t2 ‚áí normalize t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span> <span class="nb">auto using</span> par_triangle.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf1"><span class="kn">Lemma</span> <span class="nf">strip_lemma</span> : `(t ‚áí t1 -&gt; t ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
t ‚áí t1 -&gt; t ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf2"><span class="kn">Proof with</span> <span class="nb">auto using</span> rt_step.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
t ‚áí t1 -&gt; t ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf3"><span class="nb">intros</span> ??? H1 Hstar.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>Hstar</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf4"><span class="nb">generalize dependent</span> t1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstar</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span>, t ‚áí t1 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf5"><span class="nb">induction</span> Hstar; <span class="nb">rename</span> x <span class="nb">into</span> t; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí y</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ y ‚áí t3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chkf6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkf6"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t ‚áí t3</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chkf7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstar1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t y</span></span></span><br><span><var>Hstar2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHstar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t1</span>,
t ‚áí t1 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ y ‚áí t3</span></span></span><br><span><var>IHHstar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t1</span>,
y ‚áí t1 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><label class="goal-separator" for="confluence-v-chkf7"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí y</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ y ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkf9"><span class="nb">rename</span> y <span class="nb">into</span> t2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí t2</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkfa"><span class="nb">destruct</span> (par_diamond H1 H) <span class="kr">as</span> [t3 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí t2</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí t3</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t2 ‚áí t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kr">exists</span> <span class="nv">t3</span>; <span class="nb">unfold</span> pars; <span class="nb">split</span>...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkfb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkfc"><span class="kr">exists</span> <span class="nv">t1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí* t1 /\ t ‚áí t1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; [<span class="bp">reflexivity</span>| <span class="nb">auto</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkfd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstar1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t y</span></span></span><br><span><var>Hstar2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHstar1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t1</span>,
t ‚áí t1 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ y ‚áí t3</span></span></span><br><span><var>IHHstar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t1</span>,
y ‚áí t1 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkfe"><span class="nb">specialize</span> (IHHstar1 t1 H1) <span class="kr">as</span> [t3 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstar1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t y</span></span></span><br><span><var>Hstar2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHstar2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t1</span>,
y ‚áí t1 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y ‚áí t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chkff"><span class="nb">specialize</span> (IHHstar2 t3 H0) <span class="kr">as</span> [t4 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstar1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t y</span></span></span><br><span><var>Hstar2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y ‚áí t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>z ‚áí t4</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ z ‚áí t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk100"><span class="kr">exists</span> <span class="nv">t4</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstar1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t y</span></span></span><br><span><var>Hstar2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t1 ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y ‚áí t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>z ‚áí t4</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí* t4 /\ z ‚áí t4</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; [<span class="nb">etransitivity</span>; <span class="nb">eauto</span>| <span class="bp">assumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk101"><span class="kn">Theorem</span> <span class="nf">pars_diamond</span> : Diamond pars.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Diamond pars</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk102"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Diamond pars</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk103"><span class="nb">unfold</span> Diamond.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
t ‚áí* t1 -&gt; t ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk104"><span class="nb">intros</span> ? ? ? Ht1 Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>t ‚áí* t1</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk105"><span class="nb">generalize dependent</span> t2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>t ‚áí* t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t2</span>, t ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk106"><span class="nb">induction</span> Ht1; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚áí y</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk107" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk107"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, x ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk108"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk109">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚áí y</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10a"><span class="nb">rename</span> x <span class="nb">into</span> t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí y</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10b"><span class="nb">rename</span> y <span class="nb">into</span> t1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10c"><span class="nb">destruct</span> (strip_lemma H Ht2) <span class="kr">as</span> [t3 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí* t3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t2 ‚áí t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10d"><span class="kr">exists</span> <span class="nv">t3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t1 ‚áí* t3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t2 ‚áí t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t1 ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10e"><span class="nb">unfold</span> pars <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚áí t1</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> t1 t3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t2 ‚áí t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) <span class="kp">par</span> t1 t3 /\
clos_refl_trans (lam nat) <span class="kp">par</span> t2 t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">auto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk10f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, x ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk110"><span class="kr">exists</span> <span class="nv">t2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚áí* t2 /\ t2 ‚áí* t2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk111"><span class="nb">unfold</span> pars <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) <span class="kp">par</span> x t2 /\
clos_refl_trans (lam nat) <span class="kp">par</span> t2 t2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">auto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk112">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk113"><span class="nb">destruct</span> (IHHt1_1 t2 Ht2) <span class="kr">as</span> [t3 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>y ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk114"><span class="nb">destruct</span> (IHHt1_2 t3 H) <span class="kr">as</span> [t4 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>y ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>z ‚áí* t4</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk115"><span class="kr">exists</span> <span class="nv">t4</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>y ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>z ‚áí* t4</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z ‚áí* t4 /\ t2 ‚áí* t4</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk116"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>y ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>z ‚áí* t4</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z ‚áí* t4</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk117" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>y ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>z ‚áí* t4</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk117"><hr></label><div class="goal-conclusion">t2 ‚áí* t4</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk118"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht1_1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> x y</span></span></span><br><span><var>Ht1_2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) <span class="kp">par</span> y z</span></span></span><br><span><var>IHHt1_1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
x ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, y ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>IHHt1_2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">t2</span>,
y ‚áí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, z ‚áí* t3 /\ t2 ‚áí* t3</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>x ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>y ‚áí* t3</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br><span><var>t4</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>z ‚áí* t4</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t3 ‚áí* t4</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t2 ‚áí* t4</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
<div class="section" id="proving-confluence-of-steps">
<h1>Proving confluence of <tt class="docutils literal">steps</tt></h1>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk119"><span class="kn">Theorem</span> <span class="nf">confluence_proof</span> : confluence.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">confluence</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">confluence</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11b"><span class="nb">unfold</span> confluence.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Diamond steps</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11c"><span class="nb">unfold</span> Diamond.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t1</span> <span class="nv">t2</span>,
t ‚Üí* t1 -&gt; t ‚Üí* t2 -&gt; <span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚Üí* t3 /\ t2 ‚Üí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11d"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t1</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚Üí* t3 /\ t2 ‚Üí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11e"><span class="nb">assert</span> (t ‚áí* t1) <span class="bp">by</span> <span class="nb">auto using</span> steps_in_pars.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t1</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí* t1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚Üí* t3 /\ t2 ‚Üí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk11f"><span class="nb">assert</span> (t ‚áí* t2) <span class="bp">by</span> <span class="nb">auto using</span> steps_in_pars.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t1</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí* t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚Üí* t3 /\ t2 ‚Üí* t3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk120"><span class="nb">destruct</span> (pars_diamond (t := t) (t1 := t1) (t2 := t2) <span class="kp">ltac</span>:(<span class="nb">auto</span>) <span class="kp">ltac</span>:(<span class="nb">auto</span>))
    <span class="kr">as</span> [t3 [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t1, t2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t1</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚áí* t1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>t ‚áí* t2</span></span></span><br><span><var>t3</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>t1 ‚áí* t3</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>t2 ‚áí* t3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">t3</span>, t1 ‚Üí* t3 /\ t2 ‚Üí* t3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kr">exists</span> <span class="nv">t3</span>; <span class="nb">split</span>; <span class="bp">now</span> <span class="nb">apply</span> pars_in_steps.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="section" id="beta-equivalence">
<h2>Beta equivalence</h2>
<p>There are a couple ways to define the notion of <span class="math">\(\beta\)</span>-equivalence (a/k/a <span class="math">\(\beta\)</span>-conversion or <span class="math">\(\beta\)</span>-congruence). Just as <tt class="docutils literal">steps</tt> was defined as the reflexive transitive closure of <tt class="docutils literal">step</tt>, <tt class="docutils literal">beta_equiv</tt> can be defined as the reflexive <em>symmetric</em> transitive closure of <tt class="docutils literal">step</tt>, i.e. the smallest equivalence relation that contains <tt class="docutils literal">step</tt>.</p>
<p>As with <tt class="docutils literal">steps</tt>, the first thing we do after defining <tt class="docutils literal">beta_equiv</tt> is prove that it is indeed reflexive, symmetric, and transitive, enabling the use of the correspondingly named tactics. We also give this relation a custom notation and add its constructors to our hint database.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">beta_equiv</span> : relation (lam nat) := clos_refl_sym_trans _ step.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk121">#[export] <span class="kn">Instance</span>: Reflexive beta_equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive beta_equiv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk122"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive beta_equiv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk123"><span class="nb">unfold</span> Reflexive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : lam nat, beta_equiv x x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rst_refl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk124">#[export] <span class="kn">Instance</span>: Symmetric beta_equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric beta_equiv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk125"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric beta_equiv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk126"><span class="nb">unfold</span> Symmetric.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : lam nat, beta_equiv x y -&gt; beta_equiv y x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rst_sym.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk127">#[export] <span class="kn">Instance</span>: Transitive beta_equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive beta_equiv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk128"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive beta_equiv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk129"><span class="nb">unfold</span> Transitive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : lam nat,
beta_equiv x y -&gt; beta_equiv y z -&gt; beta_equiv x z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rst_trans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s ‚àº t&quot;</span> := (beta_equiv s t) (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Constructors</span> clos_refl_sym_trans : churchrosser.</span></span></pre><p>Beta equivalence is also called a <em>congruence</em> relation, meaning an equivalence relation that is respected by a set of operations, in this case the constructors of <tt class="docutils literal">(lam nat)</tt>. By &quot;respected by the constructors of <tt class="docutils literal">(lam nat)</tt>&quot; I mean exactly the following three properties, much like ones we gave earlier for <tt class="docutils literal">steps</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12a"><span class="kn">Lemma</span> <span class="nf">beta_equiv_app_l</span> : <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">t</span>, s1 ‚àº s2 -&gt; (app s1 t) ‚àº (app s2 t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">t</span>, s1 ‚àº s2 -&gt; {|s1 t|} ‚àº {|s2 t|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">t</span>, s1 ‚àº s2 -&gt; {|s1 t|} ‚àº {|s2 t|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> beta_equiv; <span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12c"><span class="kn">Lemma</span> <span class="nf">beta_equiv_app_r</span> : `(t1 ‚àº t2 -&gt; {|s t1|} ‚àº {|s t2|}).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span> <span class="nv">s</span>, t1 ‚àº t2 -&gt; {|s t1|} ‚àº {|s t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span> <span class="nv">s</span>, t1 ‚àº t2 -&gt; {|s t1|} ‚àº {|s t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> beta_equiv; <span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12e"><span class="kn">Lemma</span> <span class="nf">beta_equiv_lam</span> : `(t1 ‚àº t2 -&gt; {|\, t1|} ‚àº {|\, t2|}).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚àº t2 -&gt; {|\, t1|} ‚àº {|\, t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk12f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t1</span> <span class="nv">t2</span>, t1 ‚àº t2 -&gt; {|\, t1|} ‚àº {|\, t2|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">unfold</span> beta_equiv; <span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Resolve</span>
  beta_equiv_app_r beta_equiv_lam beta_equiv_app_l : churchrosser.</span></span></pre></div>
</div>
<div class="section" id="axiomatization-of-beta-equivalence">
<h1>Axiomatization of beta equivalence</h1>
<p>Instead of defining <span class="math">\(\beta\)</span>-equivalence as the equivalence closure of <tt class="docutils literal">step</tt>, another route is to define the relation inductively from a set of equational axioms, as shown below with <tt class="docutils literal">beta_equiv_I</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Reserved Notation</span> <span class="s2">&quot;s ‚âÉ t&quot;</span> (<span class="kn">at level</span> <span class="mi">50</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">beta_equiv_I</span> : lam nat -&gt; lam nat -&gt; <span class="kt">Prop</span> :=
| equ_refl  : `(s ‚âÉ s)
| equ_sym   : `(s ‚âÉ t -&gt;
                t ‚âÉ s)
| equ_trans : `(s ‚âÉ t -&gt;
                t ‚âÉ u -&gt;
                s ‚âÉ u)
| equ_beta  : `({|(\, s) t|} ‚âÉ s.[t/])
| equ_app_l : `(s1 ‚âÉ s2 -&gt;
                {|s1 t|} ‚âÉ {|s2 t|})
| equ_app_r : `(t1 ‚âÉ t2 -&gt;
                {|s t1|} ‚âÉ {|s t2|})
| equ_lam : `(s1 ‚âÉ s2 -&gt;
             {|\, s1|} ‚âÉ {|\, s2|})
<span class="kn">where</span> <span class="s2">&quot;s ‚âÉ t&quot;</span> := (beta_equiv_I s t).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Constructors</span> beta_equiv_I : churchrosser.</span></span></pre><p>If you're following along in Barendregt, this definition of <span class="math">\(\beta\)</span>-congruence matches Barendregt's definition of the equational theory Œª (Definition 2.1.4, pg. 23). In some sense this style of definition is simpler to think about (and to generalize to other calculi) because it does not require introducing an auxiliary relation like <tt class="docutils literal">step</tt>. This could be beneficial in situations where we know which terms we want to be <em>equal</em>, but it is not clear how to describe this equality in terms of <em>reduction</em> steps.</p>
<p>It is easy to show that our two definitions of beta conversion coincide.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk130"><span class="kn">Lemma</span> <span class="nf">beta_equiv_iff_beta_equiv_I</span> : `(s ‚àº t &lt;-&gt; s ‚âÉ t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>, s ‚àº t &lt;-&gt; s ‚âÉ t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk131"><span class="kn">Proof with</span> <span class="nb">auto with</span> churchrosser.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>, s ‚àº t &lt;-&gt; s ‚âÉ t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk132"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº t &lt;-&gt; s ‚âÉ t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk133"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº t -&gt; s ‚âÉ t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk134" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk134"><hr></label><div class="goal-conclusion">s ‚âÉ t -&gt; s ‚àº t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk135">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº t -&gt; s ‚âÉ t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk136"><span class="nb">induction</span> <span class="mi">1</span>...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚âÉ y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk137" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step y z</span></span></span><br><span><var>IHclos_refl_sym_trans1</var><span class="hyp-type"><b>: </b><span>x ‚âÉ y</span></span></span><br><span><var>IHclos_refl_sym_trans2</var><span class="hyp-type"><b>: </b><span>y ‚âÉ z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk137"><hr></label><div class="goal-conclusion">x ‚âÉ z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk138">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚âÉ y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> H...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk139">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step y z</span></span></span><br><span><var>IHclos_refl_sym_trans1</var><span class="hyp-type"><b>: </b><span>x ‚âÉ y</span></span></span><br><span><var>IHclos_refl_sym_trans2</var><span class="hyp-type"><b>: </b><span>y ‚âÉ z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚âÉ z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eauto with</span> churchrosser.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk13a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚âÉ t -&gt; s ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk13b"><span class="nb">induction</span> <span class="mi">1</span>...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk13c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚âÉ t</span></span></span><br><span><var>IHbeta_equiv_I</var><span class="hyp-type"><b>: </b><span>s ‚àº t</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk13c"><hr></label><div class="goal-conclusion">t ‚àº s</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk13d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚âÉ t</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚âÉ u</span></span></span><br><span><var>IHbeta_equiv_I1</var><span class="hyp-type"><b>: </b><span>s ‚àº t</span></span></span><br><span><var>IHbeta_equiv_I2</var><span class="hyp-type"><b>: </b><span>t ‚àº u</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk13d"><hr></label><div class="goal-conclusion">s ‚àº u</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk13e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk13e"><hr></label><div class="goal-conclusion">{|(\, s) t|} ‚àº s.[t/]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk13f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk140">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚âÉ t</span></span></span><br><span><var>IHbeta_equiv_I</var><span class="hyp-type"><b>: </b><span>s ‚àº t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚àº s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk141">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚âÉ t</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚âÉ u</span></span></span><br><span><var>IHbeta_equiv_I1</var><span class="hyp-type"><b>: </b><span>s ‚àº t</span></span></span><br><span><var>IHbeta_equiv_I2</var><span class="hyp-type"><b>: </b><span>t ‚àº u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk142">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|(\, s) t|} ‚àº s.[t/]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> beta_equiv...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="section" id="corollaries-of-confluence">
<h2>Corollaries of confluence</h2>
<p>Confluence is a pleasing technical property with a few useful corollaries. First, if we want to know whether two terms are beta-equivalent, by confluence it suffices to check whether the terms can be reduced to a common term. This is important because, at face value, deciding equivalence sounds much harder. Second, it implies that <em>if</em> a given lambda term <tt class="docutils literal">t</tt> reduces to some irreducible term <tt class="docutils literal">s</tt>, this property unique defines <tt class="docutils literal">s</tt>. This is important because beta-reduction is non-deterministic, and the prior statement implies any reduction sequence that discovers a normal form for <tt class="docutils literal">t</tt> must find the <em>same</em> normal form. In the context of <em>typed</em> lambda calculi that enjoy strong normalization (a separate topic), this fact implies it is decidable whether two terms are <span class="math">\(beta\)</span>-equivalent. In particular, this a crucial theoretical fact underlying how Coq itself decides whether two terms are <em>defintionally equal</em>, a key aspect of Coq and theorem proving in general.</p>
</div>
</div>
<div class="section" id="transitivity-of-common-reduct">
<h1>Transitivity of common reduct</h1>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">have_common_reduct</span> : lam nat -&gt; lam nat -&gt; <span class="kt">Prop</span> :=
  <span class="kr">fun</span> <span class="nv">s</span> <span class="nv">t</span> =&gt; <span class="kr">exists</span> <span class="nv">u</span>, s ‚Üí* u /\ t ‚Üí* u.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk143">#[export] <span class="kn">Instance</span>: Transitive have_common_reduct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive have_common_reduct</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk144"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive have_common_reduct</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk145"><span class="nb">unfold</span> Transitive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : lam nat,
have_common_reduct x y -&gt;
have_common_reduct y z -&gt; have_common_reduct x z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk146"><span class="nb">intros</span> s t v [st [? ?]] [tv [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk147"><span class="nb">enough</span> (<span class="nb">cut</span> : have_common_reduct st tv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>cut</var><span class="hyp-type"><b>: </b><span>have_common_reduct st tv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct s v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk148" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk148"><hr></label><div class="goal-conclusion">have_common_reduct st tv</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk149">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>cut</var><span class="hyp-type"><b>: </b><span>have_common_reduct st tv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct s v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14a"><span class="nb">unfold</span> have_common_reduct <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>cut</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">u</span>, st ‚Üí* u /\ tv ‚Üí* u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">u</span>, s ‚Üí* u /\ v ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14b"><span class="nb">destruct</span> <span class="nb">cut</span> <span class="kr">as</span> [u [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>st ‚Üí* u</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tv ‚Üí* u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">u</span>, s ‚Üí* u /\ v ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14c"><span class="kr">exists</span> <span class="nv">u</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>st ‚Üí* u</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tv ‚Üí* u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚Üí* u /\ v ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">etransitivity</span>; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct st tv</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14e"><span class="nb">unfold</span> have_common_reduct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">u</span>, st ‚Üí* u /\ tv ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk14f"><span class="nb">destruct</span> (@confluence_proof t st tv <span class="kp">ltac</span>:(<span class="nb">auto</span>) <span class="kp">ltac</span>:(<span class="nb">auto</span>))
      <span class="kr">as</span> [u [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>st ‚Üí* u</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tv ‚Üí* u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">u</span>, st ‚Üí* u /\ tv ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk150"><span class="kr">exists</span> <span class="nv">u</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, v, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br><span><var>tv</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* tv</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>v ‚Üí* tv</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>st ‚Üí* u</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tv ‚Üí* u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">st ‚Üí* u /\ tv ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
<div class="section" id="specification-for-beta-conversion">
<h1>Specification for beta conversion</h1>
<p>The following specification theorem for <span class="math">\(\beta\)</span>-conversion states that two terms are <span class="math">\(\beta\)</span>-equivalent exactly when they share a common reduct. The non-obvious case of this proof is exactly showing the transitivity of the <tt class="docutils literal">have_common_reduct</tt> relation. This case is unfolded below to show the proof state before invoking transitivity.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk151"><span class="kn">Theorem</span> <span class="nf">beta_conversion_spec</span> : `(have_common_reduct s t &lt;-&gt; s ‚àº t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>, have_common_reduct s t &lt;-&gt; s ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk152"><span class="kn">Proof with</span> <span class="nb">intuition</span> <span class="nb">eauto with</span> churchrosser.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">t</span>, have_common_reduct s t &lt;-&gt; s ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk153"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct s t &lt;-&gt; s ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk154"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct s t -&gt; s ‚àº t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk155" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk155"><hr></label><div class="goal-conclusion">s ‚àº t -&gt; have_common_reduct s t</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk156"><span class="nb">destruct</span> <span class="mi">1</span> <span class="kr">as</span> [st [? ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk157" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk157"><hr></label><div class="goal-conclusion">s ‚àº t -&gt; have_common_reduct s t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk158">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk159"><span class="nb">transitivity</span> st.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº st</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk15a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk15a"><hr></label><div class="goal-conclusion">st ‚àº t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk15b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº st</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk15c"><span class="nb">apply</span> clos_rt_clos_rst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) step s st</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk15d"><span class="nb">fold</span> steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚Üí* st</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk15e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">st ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk15f"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚àº st</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk160"><span class="nb">unfold</span> steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚àº st</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk161"><span class="nb">apply</span> clos_rt_clos_rst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) step t st</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk162"><span class="nb">fold</span> steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t, st</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚Üí* st</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>t ‚Üí* st</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* st</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk163">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚àº t -&gt; have_common_reduct s t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk164"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s, t</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s ‚àº t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct s t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk165"><span class="nb">induction</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct x y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk166" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk166"><hr></label><div class="goal-conclusion">have_common_reduct x x</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk167" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>IHclos_refl_sym_trans</var><span class="hyp-type"><b>: </b><span>have_common_reduct x y</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk167"><hr></label><div class="goal-conclusion">have_common_reduct y x</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk168" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step y z</span></span></span><br><span><var>IHclos_refl_sym_trans1</var><span class="hyp-type"><b>: </b><span>have_common_reduct x y</span></span></span><br><span><var>IHclos_refl_sym_trans2</var><span class="hyp-type"><b>: </b><span>have_common_reduct y z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk168"><hr></label><div class="goal-conclusion">have_common_reduct x z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk169">+ <span class="c">(*inclusion of step *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16a"><span class="kr">exists</span> <span class="nv">y</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚Üí* y /\ y ‚Üí* y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> steps...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16b">+ <span class="c">(* reflexivity *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct x x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16c"><span class="kr">exists</span> <span class="nv">x</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚Üí* x /\ x ‚Üí* x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> steps...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16d">+ <span class="c">(* symmetry *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>IHclos_refl_sym_trans</var><span class="hyp-type"><b>: </b><span>have_common_reduct x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct y x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16e"><span class="kr">match goal with</span>
      | H : have_common_reduct x y |- _ =&gt; <span class="nb">destruct</span> H <span class="kr">as</span> [z [? ?]]
      <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>x ‚Üí* z</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct y x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk16f"><span class="kr">exists</span> <span class="nv">z</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>x ‚Üí* z</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y ‚Üí* z /\ x ‚Üí* z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="confluence-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk170">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step x y</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>clos_refl_sym_trans (lam nat) step y z</span></span></span><br><span><var>IHclos_refl_sym_trans1</var><span class="hyp-type"><b>: </b><span>have_common_reduct x y</span></span></span><br><span><var>IHclos_refl_sym_trans2</var><span class="hyp-type"><b>: </b><span>have_common_reduct y z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">have_common_reduct x z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
<div class="section" id="uniqueness-of-normal-forms">
<h1>Uniqueness of normal forms</h1>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">beta_normal</span> (<span class="nv">t</span> : lam nat) : <span class="kt">Prop</span> :=
  not (<span class="kr">exists</span> <span class="nv">s</span>, t ‚Üí s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">has_normal_form</span> (<span class="nv">t</span> <span class="nv">s</span> : lam nat) : <span class="kt">Prop</span> :=
  t ‚Üí* s /\ beta_normal s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk171"><span class="kn">Lemma</span> <span class="nf">normal_step_eq</span> :
  `(beta_normal t -&gt;
    t ‚Üí* s -&gt;
    t = s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s</span>, beta_normal t -&gt; t ‚Üí* s -&gt; t = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk172"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s</span>, beta_normal t -&gt; t ‚Üí* s -&gt; t = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk173"><span class="nb">intros</span> t s Hnorm Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal t</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t = s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk174"><span class="nb">induction</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk175" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk175"><hr></label><div class="goal-conclusion">x = x</div></blockquote><input class="alectryon-extra-goal-toggle" id="confluence-v-chk176" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>beta_normal x -&gt; x = y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>beta_normal y -&gt; y = z</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk176"><hr></label><div class="goal-conclusion">x = z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk177">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk178"><span class="bp">contradiction</span> Hnorm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚Üí y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">s</span>, x ‚Üí s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk179">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step x y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>clos_refl_trans (lam nat) step y z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>beta_normal x -&gt; x = y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>beta_normal y -&gt; y = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17b"><span class="nb">fold</span> steps <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>x ‚Üí* y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>beta_normal x -&gt; x = y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>beta_normal y -&gt; y = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17c"><span class="nb">specialize</span> (IHHstep1 Hnorm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal x</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>x ‚Üí* y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br><span><var>IHHstep1</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>beta_normal y -&gt; y = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17d"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>y ‚Üí* y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>beta_normal y -&gt; y = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y = z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17e"><span class="nb">apply</span> IHHstep2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hnorm</var><span class="hyp-type"><b>: </b><span>beta_normal y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hstep1</var><span class="hyp-type"><b>: </b><span>y ‚Üí* y</span></span></span><br><span><var>Hstep2</var><span class="hyp-type"><b>: </b><span>y ‚Üí* z</span></span></span><br><span><var>IHHstep2</var><span class="hyp-type"><b>: </b><span>beta_normal y -&gt; y = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">beta_normal y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hnorm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk17f"><span class="kn">Theorem</span> <span class="nf">unf</span> : <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s1</span> <span class="nv">s2</span>,
    has_normal_form t s1 -&gt;
    has_normal_form t s2 -&gt;
    s1 = s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s1</span> <span class="nv">s2</span>,
has_normal_form t s1 -&gt;
has_normal_form t s2 -&gt; s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk180"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s1</span> <span class="nv">s2</span>,
has_normal_form t s1 -&gt;
has_normal_form t s2 -&gt; s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk181"><span class="nb">unfold</span> has_normal_form.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s1</span> <span class="nv">s2</span>,
t ‚Üí* s1 /\ beta_normal s1 -&gt;
t ‚Üí* s2 /\ beta_normal s2 -&gt; s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk182"><span class="nb">intros</span> ??? [t_step_s1 s1_normal] [t_step_s2 s2_normal].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_s1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s1</span></span></span><br><span><var>s1_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s1</span></span></span><br><span><var>t_step_s2</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s2</span></span></span><br><span><var>s2_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk183"><span class="nb">destruct</span> (@confluence_proof t s1 s2 t_step_s1 t_step_s2)
    <span class="kr">as</span> [s [s1_step_s s2_step_s]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_s1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s1</span></span></span><br><span><var>s1_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s1</span></span></span><br><span><var>t_step_s2</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s2</span></span></span><br><span><var>s2_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s2</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>s1_step_s</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s</span></span></span><br><span><var>s2_step_s</var><span class="hyp-type"><b>: </b><span>s2 ‚Üí* s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk184"><span class="nb">assert</span> (s1 = s) <span class="bp">by</span> <span class="nb">auto using</span> normal_step_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_s1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s1</span></span></span><br><span><var>s1_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s1</span></span></span><br><span><var>t_step_s2</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s2</span></span></span><br><span><var>s2_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s2</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>s1_step_s</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s</span></span></span><br><span><var>s2_step_s</var><span class="hyp-type"><b>: </b><span>s2 ‚Üí* s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk185"><span class="nb">assert</span> (s2 = s) <span class="bp">by</span> <span class="nb">auto using</span> normal_step_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s1, s2</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_s1</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s1</span></span></span><br><span><var>s1_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s1</span></span></span><br><span><var>t_step_s2</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s2</span></span></span><br><span><var>s2_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s2</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>s1_step_s</var><span class="hyp-type"><b>: </b><span>s1 ‚Üí* s</span></span></span><br><span><var>s2_step_s</var><span class="hyp-type"><b>: </b><span>s2 ‚Üí* s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 = s</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk186"><span class="kn">Lemma</span> <span class="nf">step_to_normal_form</span> : <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s</span>,
    t ‚àº s -&gt;
    beta_normal s -&gt;
    t ‚Üí* s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s</span>, t ‚àº s -&gt; beta_normal s -&gt; t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk187"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">s</span>, t ‚àº s -&gt; beta_normal s -&gt; t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk188"><span class="nb">intros</span> ?? Heq normal_s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>t ‚àº s</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk189"><span class="nb">rewrite</span> &lt;- beta_conversion_spec <span class="kr">in</span> Heq; <span class="nb">rename</span> Heq <span class="nb">into</span> Hcr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Hcr</var><span class="hyp-type"><b>: </b><span>have_common_reduct t s</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18a"><span class="nb">destruct</span> Hcr <span class="kr">as</span> [u [Htu Hsu]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s, u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Htu</var><span class="hyp-type"><b>: </b><span>t ‚Üí* u</span></span></span><br><span><var>Hsu</var><span class="hyp-type"><b>: </b><span>s ‚Üí* u</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18b"><span class="nb">assert</span> (s = u) <span class="bp">by</span> <span class="nb">auto using</span> normal_step_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, s, u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Htu</var><span class="hyp-type"><b>: </b><span>t ‚Üí* u</span></span></span><br><span><var>Hsu</var><span class="hyp-type"><b>: </b><span>s ‚Üí* u</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s = u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, u</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>Htu</var><span class="hyp-type"><b>: </b><span>t ‚Üí* u</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal u</span></span></span><br><span><var>Hsu</var><span class="hyp-type"><b>: </b><span>u ‚Üí* u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18d"><span class="kn">Theorem</span> <span class="nf">normal_form_forward</span> : <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
    t ‚Üí* t&#39; -&gt;
    has_normal_form t  s -&gt;
    has_normal_form t&#39; s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
t ‚Üí* t&#39; -&gt; has_normal_form t s -&gt; has_normal_form t&#39; s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
t ‚Üí* t&#39; -&gt; has_normal_form t s -&gt; has_normal_form t&#39; s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk18f"><span class="nb">unfold</span> has_normal_form.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
t ‚Üí* t&#39; -&gt;
t ‚Üí* s /\ beta_normal s -&gt; t&#39; ‚Üí* s /\ beta_normal s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk190"><span class="nb">intros</span> ??? t_step_t&#39; [t_step_s s_normal].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚Üí* s /\ beta_normal s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk191"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚Üí* s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk192" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk192"><hr></label><div class="goal-conclusion">beta_normal s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk193">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk194"><span class="nb">apply</span> step_to_normal_form.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚àº s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk195" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk195"><hr></label><div class="goal-conclusion">beta_normal s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk196">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚àº s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk197"><span class="nb">transitivity</span> t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚àº t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="confluence-v-chk198" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><label class="goal-separator" for="confluence-v-chk198"><hr></label><div class="goal-conclusion">t ‚àº s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk199">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚àº t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19a"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚àº t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19b"><span class="nb">eapply</span> clos_rt_clos_rst; <span class="nb">fold</span> steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚àº s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19d"><span class="nb">eapply</span> clos_rt_clos_rst; <span class="nb">fold</span> steps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">beta_normal s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk19f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_step_t'</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>s_normal</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">beta_normal s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a0"><span class="kn">Theorem</span> <span class="nf">normal_forward_equiv</span> : <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span>,
    t ‚Üí* t&#39; -&gt;
    t ‚àº t&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span>, t ‚Üí* t&#39; -&gt; t ‚àº t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span>, t ‚Üí* t&#39; -&gt; t ‚àº t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a2"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t'</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t ‚àº t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a3"><span class="nb">apply</span> clos_rt_clos_rst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t'</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>t ‚Üí* t&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_refl_trans (lam nat) step t t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a4"><span class="kn">Theorem</span> <span class="nf">transfer_normal_form</span> : <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
    t ‚àº t&#39; -&gt;
    has_normal_form t  s -&gt;
    has_normal_form t&#39; s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
t ‚àº t&#39; -&gt; has_normal_form t s -&gt; has_normal_form t&#39; s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
t ‚àº t&#39; -&gt; has_normal_form t s -&gt; has_normal_form t&#39; s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a6"><span class="nb">unfold</span> has_normal_form.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t&#39;</span> <span class="nv">s</span>,
t ‚àº t&#39; -&gt;
t ‚Üí* s /\ beta_normal s -&gt; t&#39; ‚Üí* s /\ beta_normal s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a7"><span class="nb">intros</span> ??? t_equiv_t&#39; [t_step_s normal_s].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_equiv_t'</var><span class="hyp-type"><b>: </b><span>t ‚àº t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚Üí* s /\ beta_normal s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a8"><span class="nb">split</span>; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_equiv_t'</var><span class="hyp-type"><b>: </b><span>t ‚àº t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚Üí* s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1a9"><span class="nb">apply</span> step_to_normal_form; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_equiv_t'</var><span class="hyp-type"><b>: </b><span>t ‚àº t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚Üí* s</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚àº s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="confluence-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="confluence-v-chk1aa"><span class="nb">apply</span> normal_forward_equiv <span class="kr">in</span> t_step_s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>t, t', s</var><span class="hyp-type"><b>: </b><span>lam nat</span></span></span><br><span><var>t_equiv_t'</var><span class="hyp-type"><b>: </b><span>t ‚àº t&#39;</span></span></span><br><span><var>t_step_s</var><span class="hyp-type"><b>: </b><span>t ‚àº s</span></span></span><br><span><var>normal_s</var><span class="hyp-type"><b>: </b><span>beta_normal s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">t&#39; ‚àº s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">etransitivity</span>; [<span class="nb">symmetry</span>|]; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
</div>
</div></body>
</html>
