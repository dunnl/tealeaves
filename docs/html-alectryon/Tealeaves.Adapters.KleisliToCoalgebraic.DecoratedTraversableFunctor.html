<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<title>DecoratedTraversableFunctor.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.16.0+0.16.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Export</span>
  Classes.Kleisli.DecoratedTraversableFunctor
  Classes.Kleisli.Theory.DecoratedTraversableFunctor
  Classes.Coalgebraic.DecoratedTraversableFunctor.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Export</span>
  Classes.Coalgebraic.TraversableFunctor
  Adapters.KleisliToCoalgebraic.TraversableFunctor.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Product.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Kleisli.DecoratedTraversableFunctor.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Batch.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Monoid.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Subset.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Generalizable Variables</span> <span class="nf">E</span> G T M A B.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Arguments</span> runBatch {A B}%type_scope {F}%function_scope {H H0 H1} œï%function_scope {C}%type_scope b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Arguments</span> batch {A} (B)%type_scope _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Arguments</span> mapfst_Batch {B C}%type_scope {A1 A2}%type_scope f%function_scope b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Arguments</span> mapsnd_Batch {A}%type_scope {B1 B2}%type_scope {C}%type_scope f%function_scope b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Decorated traversable functors as coalgebras *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ToBatch6_Mapdt</span> `{Mapdt E T}
    : Coalgebraic.DecoratedTraversableFunctor.ToBatch6 E T :=
  (<span class="kr">fun</span> <span class="nv">A</span> <span class="nv">B</span> =&gt; mapdt (G := Batch (E * A) B) (batch B) : T A -&gt; Batch (E * A) B (T B)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Factoring operations through &lt;&lt;toBatch&gt;&gt; *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">runBatch</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Map_inst: Map T}
     `{Mapd_inst: Mapd E T}
     `{Traverse_inst: Traverse T}
     `{Mapdt_inst: Mapdt E T}
     `{Subset_inst: ToSubset T}
     `{! Compat_Map_Mapdt}
     `{! Compat_Mapd_Mapdt}
     `{! Compat_Traverse_Mapdt}
     `{! Compat_ToSubset_Traverse T}
     `{! Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk0"><span class="kn">Theorem</span> <span class="nf">toBatch6_toBatch</span>
    {<span class="nv">A</span> <span class="nv">B</span>} `{ToBatch T} `{! Compat_ToBatch_Traverse}:
    toBatch (T := T) (A := A) (A&#39; := B) =
      mapfst_Batch extract ‚àò toBatch6 (T := T) (A := A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch = mapfst_Batch extract ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch = mapfst_Batch extract ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2"><span class="nb">rewrite</span> toBatch_to_traverse.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">traverse (batch B) = mapfst_Batch extract ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3"><span class="nb">rewrite</span> traverse_to_mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚àò extract) =
mapfst_Batch extract ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4"><span class="nb">unfold</span> toBatch6, ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚àò extract) =
mapfst_Batch extract ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5"><span class="nb">rewrite</span> &lt;- (kdtfun_morph (T := T)
                 (œï := <span class="kr">fun</span> <span class="nv">X</span> =&gt;
                         mapfst_Batch (B := B) (C := X)
                           (A1 := E * A) (A2 := A)
                           (extract (W := prod E) (A := A)))
                 (batch B)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚àò extract) =
mapdt (mapfst_Batch extract ‚àò batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk6"><span class="kn">Theorem</span> <span class="nf">mapdt_through_runBatch</span> `{Applicative G} `(f : E * A -&gt; G B) :
    mapdt f = runBatch f ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk8"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk9">unfold_ops @ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chka"><span class="nb">rewrite</span> &lt;- kdtfun_morph.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = mapdt (runBatch f ‚àò batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chkb"><span class="nb">rewrite</span> (runBatch_batch G).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chkc"><span class="kn">Corollary</span> <span class="nf">traverse_through_runBatch</span> `{Applicative G} `(f : A -&gt; G B) :
    traverse f = runBatch (f ‚àò extract (W := (E √ó))) ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">traverse f = runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">traverse f = runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chke"><span class="nb">rewrite</span> traverse_to_mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (f ‚àò extract) =
runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chkf"><span class="nb">rewrite</span> mapdt_through_runBatch.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch (f ‚àò extract) ‚àò toBatch6 =
runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk10"><span class="kn">Corollary</span> <span class="nf">mapd_through_runBatch</span> `(f : E * A -&gt; B) :
      mapd f = runBatch (F := <span class="kr">fun</span> <span class="nv">A</span> =&gt; A) f ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk11"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk12"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk13"><span class="nb">rewrite</span> mapd_to_mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk14"><span class="nb">rewrite</span> mapdt_through_runBatch.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò toBatch6 = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk15"><span class="kn">Corollary</span> <span class="nf">map_through_runBatch</span> `(f : A -&gt; B) :
      map f = runBatch (F := <span class="kr">fun</span> <span class="nv">A</span> =&gt; A) (f ‚àò extract) ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map f = runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk16"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map f = runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk17"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map f = runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk18"><span class="nb">rewrite</span> map_to_mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (f ‚àò extract) =
runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk19"><span class="nb">rewrite</span> mapdt_through_runBatch.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch (f ‚àò extract) ‚àò toBatch6 =
runBatch (f ‚àò extract) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** &lt;&lt;foldMapd&gt;&gt; a special case of &lt;&lt;runBatch&gt;&gt; *)</span>
  <span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1a"><span class="kn">Lemma</span> <span class="nf">foldMapd_through_runBatch1</span> {<span class="nv">A</span>} `{Monoid M} : <span class="kr">forall</span> `(f : E * A -&gt; M),
      foldMapd f = runBatch (F := const M) f (C := T <span class="kt">False</span>) ‚àò toBatch6 (B := <span class="kt">False</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : E * A -&gt; M,
foldMapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : E * A -&gt; M,
foldMapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">foldMapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1d"><span class="nb">rewrite</span> foldMapd_to_mapdt1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1e"><span class="nb">rewrite</span> (mapdt_through_runBatch (G := const M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò toBatch6 = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk1f"><span class="kn">Lemma</span> <span class="nf">foldMapd_through_runBatch2</span> `{Monoid M} : <span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">fake</span> : <span class="kt">Type</span>) `(f : E * A -&gt; M),
      foldMapd f = runBatch (F := const M) f (C := T fake) ‚àò toBatch6 (B := fake).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">fake</span> : <span class="kt">Type</span>) (<span class="nv">f</span> : E * A -&gt; M),
foldMapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">fake</span> : <span class="kt">Type</span>) (<span class="nv">f</span> : E * A -&gt; M),
foldMapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk21"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>A, fake</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">foldMapd f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk22"><span class="nb">rewrite</span> foldMapd_to_mapdt1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>A, fake</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk23"><span class="nb">rewrite</span> (mapdt_constant_applicative2 <span class="kt">False</span> <span class="kt">False</span> fake).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>A, fake</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk24"><span class="nb">rewrite</span> mapdt_through_runBatch.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>Monoid_op M</span></span></span><br><span><var>unit0</var><span class="hyp-type"><b>: </b><span>Monoid_unit M</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Monoid M</span></span></span><br><span><var>A, fake</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; M</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò toBatch6 = runBatch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Factoring through &lt;&lt;runBatch&gt;&gt; *)</span>
  <span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk25"><span class="kn">Corollary</span> <span class="nf">toctxlist_through_runBatch6</span> {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">tag</span> : <span class="kt">Type</span>) :
    toctxlist = runBatch (B := tag) (F := const (list (E * A))) (ret (T := list))
                  ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, tag</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toctxlist = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk26"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, tag</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toctxlist = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk27"><span class="nb">rewrite</span> (toctxlist_to_mapdt2 A tag).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, tag</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt ret = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> mapdt_through_runBatch.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk28"><span class="kn">Corollary</span> <span class="nf">toctxset_through_runBatch1</span> {<span class="nv">A</span> : <span class="kt">Type</span>} :
    toctxset (F := T) = runBatch (B := <span class="kt">False</span>) (F := const (subset (E * A)))
                                (ret (T := subset)) ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toctxset = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk29"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toctxset = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2a"><span class="nb">rewrite</span> (toctxset_to_mapdt1 A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt ret = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> (mapdt_through_runBatch).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2b"><span class="kn">Corollary</span> <span class="nf">toctxset_through_runBatch2</span> {<span class="nv">A</span> <span class="nv">tag</span> : <span class="kt">Type</span>} :
    toctxset (F := T) = runBatch (B := tag) (F := const (subset (E * A)))
                                (ret (T := subset)) ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, tag</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toctxset = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, tag</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toctxset = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2d"><span class="nb">rewrite</span> (toctxset_to_mapdt2 A tag).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, tag</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt ret = runBatch ret ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> (mapdt_through_runBatch).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2e"><span class="kn">Corollary</span> <span class="nf">ctx_elements_through_runBatch1</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">p</span>:E * A}:
    element_ctx_of (T := T) p =
      runBatch (B := <span class="kt">False</span>) (F := const <span class="kt">Prop</span>)
        (H0 := @Mult_const _ Monoid_op_or)
        (H1 := @Pure_const _ Monoid_unit_false)
        {{p}} ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E * A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">element_ctx_of p = runBatch {{p}} ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E * A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">element_ctx_of p = runBatch {{p}} ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk30"><span class="nb">rewrite</span> element_ctx_of_to_foldMapd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E * A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">foldMapd {{p}} = runBatch {{p}} ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk31"><span class="nb">rewrite</span> foldMapd_through_runBatch1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>Subset_inst</var><span class="hyp-type"><b>: </b><span>ToSubset T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Compat_Traverse_Mapdt</span></span></span><br><span><var>Compat_ToSubset_Traverse0</var><span class="hyp-type"><b>: </b><span>Compat_ToSubset_Traverse T</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E * A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch {{p}} ‚àò toBatch6 = runBatch {{p}} ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">runBatch</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Import</span>
  Classes.Coalgebraic.TraversableFunctor
  Adapters.KleisliToCoalgebraic.TraversableFunctor.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Relating &lt;&lt;toBatch6&gt;&gt; with &lt;&lt;toBatch&gt;&gt; *)</span>
<span class="sd">(******************************************************************************)</span>
<span class="c">(*</span>
<span class="c">Lemma toBatch6_toBatch</span>
<span class="c">  `{Traverse_inst: Traverse T}</span>
<span class="c">  `{Mapdt_inst: Mapdt E T}</span>
<span class="c">  `{ToBatch_inst: ToBatch T}</span>
<span class="c">  `{! Compat_Traverse_Mapdt}</span>
<span class="c">  `{! Compat_ToBatch_Traverse}</span>
<span class="c">  `{! Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T}</span>
<span class="c">  {A B : Type} :</span>
<span class="c">  toBatch (A := A) (A&#39; := B) = mapfst_Batch extract ‚àò toBatch6.</span>
<span class="c">Proof.</span>
<span class="c">  intros.</span>
<span class="c">  unfold_ops @ToBatch6_Mapdt.</span>
<span class="c">  rewrite toBatch_to_traverse.</span>
<span class="c">  rewrite traverse_to_mapdt.</span>
<span class="c">  rewrite &lt;- (kdtfun_morph</span>
<span class="c">               (G1 := Batch (E * A) B)</span>
<span class="c">               (G2 := Batch A B)</span>
<span class="c">               (œï := fun C =&gt; mapfst_Batch extract)).</span>
<span class="c">  rewrite ret_natural.</span>
<span class="c">  reflexivity.</span>
<span class="c">Qed.</span>
<span class="c">*)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk32"><span class="kn">Lemma</span> <span class="nf">runBatch_toBatch6</span>
  `{Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T}
  `{Applicative G} `(f : E * A -&gt; G B) :
  runBatch f ‚àò toBatch6 = mapdt (E := E) (T := T) f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò toBatch6 = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk33"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò toBatch6 = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk34"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò toBatch6 = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk35">unfold_ops @ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">runBatch f ‚àò mapdt (batch B) = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk36"><span class="nb">rewrite</span> &lt;- kdtfun_morph.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (runBatch f ‚àò batch B) = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk37"><span class="nb">rewrite</span> (runBatch_batch G).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt f = mapdt f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Naturality of &lt;&lt;toBatchDM&gt;&gt; *)</span>
<span class="sd">(******************************************************************************)</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk38"><span class="kn">Lemma</span> <span class="nf">toBatch6_mapdt</span>
  `{Mapdt_inst: Mapdt E T}
  `{! Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T}
  `{Applicative G}
  {A A&#39; B : <span class="kt">Type</span>} (f : E * A -&gt; G A&#39;) :
  map (F := G) (toBatch6 (A := A&#39;) (B := B)) ‚àò mapdt (T := T) f =
    traverse (T := BATCH1 B (T B)) (strength ‚àò cobind f) ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map toBatch6 ‚àò mapdt f =
traverse (strength ‚àò cobind f) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk39"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map toBatch6 ‚àò mapdt f =
traverse (strength ‚àò cobind f) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3a"><span class="nb">rewrite</span> (traverse_spec G).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map toBatch6 ‚àò mapdt f =
runBatch (map (batch B) ‚àò (strength ‚àò cobind f))
‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3b"><span class="nb">rewrite</span> (runBatch_toBatch6 (A := A) (E := E) (T := T)
             (B := B) (G := G ‚àò Batch (E * A&#39;) B)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map toBatch6 ‚àò mapdt f =
mapdt (map (batch B) ‚àò (strength ‚àò cobind f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3c">unfold_ops @ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map (mapdt (batch B)) ‚àò mapdt f =
mapdt (map (batch B) ‚àò (strength ‚àò cobind f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3d"><span class="nb">rewrite</span> kdtfun_mapdt2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚ãÜ<span class="mi">6</span> f) =
mapdt (map (batch B) ‚àò (strength ‚àò cobind f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3e"><span class="nb">unfold</span> kc6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Map G</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Pure G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Mult G</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Applicative G</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; G A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (map (batch B) ‚àò strength ‚àò cobind f) =
mapdt (map (batch B) ‚àò (strength ‚àò cobind f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk3f"><span class="kn">Lemma</span> <span class="nf">toBatch6_mapd</span>
  `{Mapd_inst: Mapd E T}
  `{Mapdt_inst: Mapdt E T}
  `{! Compat_Mapd_Mapdt}
  `{! Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T}
  {A A&#39; B : <span class="kt">Type</span>} (f : E * A -&gt; A&#39;) :
  toBatch6 ‚àò mapd (T := T) f =
    mapfst_Batch (cobind f) ‚àò toBatch6 (A := A) (B := B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch6 ‚àò mapd f = mapfst_Batch (cobind f) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk40"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch6 ‚àò mapd f = mapfst_Batch (cobind f) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk41">unfold_ops @ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B) ‚àò mapd f =
mapfst_Batch (cobind f) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk42"><span class="nb">rewrite</span> mapdt_mapd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (kc4 (batch B) f) =
mapfst_Batch (cobind f) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk43"><span class="nb">rewrite</span> &lt;- (kdtfun_morph
             (G1 := Batch (E * A) B)
             (G2 := Batch (E * A&#39;) B)
             (œï := <span class="kr">fun</span> <span class="nv">C</span> =&gt; mapfst_Batch (cobind f))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Mapd_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (kc4 (batch B) f) =
mapdt (mapfst_Batch (cobind f) ‚àò batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk44"><span class="kn">Lemma</span> <span class="nf">toBatch6_map</span>
  `{Map_inst: Map T}
  `{Mapdt_inst: Mapdt E T}
  `{! Compat_Map_Mapdt}
  `{! Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T}
  {A A&#39; B : <span class="kt">Type</span>} (f : A -&gt; A&#39;) {C : <span class="kt">Type</span>} :
  toBatch6 ‚àò map (F := T) f = mapfst_Batch (map f) ‚àò toBatch6 (A := A) (B := B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch6 ‚àò map f = mapfst_Batch (map f) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk45"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch6 ‚àò map f = mapfst_Batch (map f) ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk46">unfold_ops @ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B) ‚àò map f =
mapfst_Batch (map f) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk47"><span class="nb">rewrite</span> mapdt_map.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚àò map f) =
mapfst_Batch (map f) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk48"><span class="nb">rewrite</span> &lt;- (kdtfun_morph (H6 := mapfst_Batch1_Hom (map f))
               (œï := <span class="kr">fun</span> <span class="nv">C</span> =&gt; mapfst_Batch (map f))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚àò map f) =
mapdt (mapfst_Batch (map f) ‚àò batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk49"><span class="nb">rewrite</span> ret_natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compat_Map_Mapdt</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor
  E T</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (batch B ‚àò map f) = mapdt (batch B ‚àò map f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4a"><span class="kn">Lemma</span> <span class="nf">toBatch6_mapfst3</span>
  `{Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctorFull E T}
  `{ToBatch_inst: ToBatch T}
  `{! Compat_ToBatch_Traverse}
  {A A&#39; B : <span class="kt">Type</span>} (f : E * A -&gt; A&#39;) :
  toBatch (A := A&#39;) (A&#39; := B) ‚àò mapd (T := T) f =
    mapfst_Batch f ‚àò toBatch6 (T := T) (A := A) (B := B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch ‚àò mapd f = mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toBatch ‚àò mapd f = mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4c"><span class="nb">rewrite</span> toBatch6_toBatch.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapfst_Batch extract ‚àò toBatch6 ‚àò mapd f =
mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4d">reassociate -&gt; on <span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapfst_Batch extract ‚àò (toBatch6 ‚àò mapd f) =
mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4e"><span class="nb">rewrite</span> toBatch6_mapd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapfst_Batch extract
‚àò (mapfst_Batch (cobind f) ‚àò toBatch6) =
mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk4f">reassociate &lt;-.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapfst_Batch extract ‚àò mapfst_Batch (cobind f)
‚àò toBatch6 = mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk50"><span class="nb">rewrite</span> (mapfst_mapfst_Batch).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapfst_Batch (extract ‚àò cobind f) ‚àò toBatch6 =
mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk51"><span class="nb">rewrite</span> (kcom_cobind0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, A', B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>E * A -&gt; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapfst_Batch f ‚àò toBatch6 = mapfst_Batch f ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Coalgebra laws *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">to_coalgebraic</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctorFull E T}
      `{ToBatch_inst: ToBatch T}
      `{! Compat_ToBatch_Traverse}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk52"><span class="kn">Lemma</span> <span class="nf">double_Batch6_spec</span> : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>,
      double_batch6 (E := E) (A := A) (B := B) C = batch C ‚ãÜ<span class="mi">6</span> batch B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>,
double_batch6 C = batch C ‚ãÜ<span class="mi">6</span> batch B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>,
double_batch6 C = batch C ‚ãÜ<span class="mi">6</span> batch B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk54"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">double_batch6 C = batch C ‚ãÜ<span class="mi">6</span> batch B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk55"><span class="nb">unfold</span> double_batch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> &#39;(e, a) =&gt;
 (map (batch C ‚àò pair e) ‚àò batch B) (e, a)) =
batch C ‚ãÜ<span class="mi">6</span> batch B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> ext [e a].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk56"><span class="kn">Lemma</span> <span class="nf">toBatch6_extract_Kleisli</span> : <span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>),
      extract_Batch ‚àò mapfst_Batch (extract (W := (E √ó))) ‚àò toBatch6 = @id (T A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>,
extract_Batch ‚àò mapfst_Batch extract ‚àò toBatch6 = id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk57"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>,
extract_Batch ‚àò mapfst_Batch extract ‚àò toBatch6 = id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk58"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">extract_Batch ‚àò mapfst_Batch extract ‚àò toBatch6 = id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk59">reassociate -&gt; on <span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">extract_Batch ‚àò (mapfst_Batch extract ‚àò toBatch6) = id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5a"><span class="nb">rewrite</span> &lt;- toBatch6_toBatch.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">extract_Batch ‚àò toBatch = id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5b"><span class="nb">rewrite</span> trf_extract.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">id = id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5c"><span class="kn">Lemma</span> <span class="nf">toBatch6_duplicate_Kleisli</span> : <span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>),
      cojoin_Batch6 ‚àò toBatch6 (A := A) (B := C) =
        map (F := Batch (E * A) B) (toBatch6) ‚àò toBatch6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>,
cojoin_Batch6 ‚àò toBatch6 = map toBatch6 ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5d"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cojoin_Batch6 ‚àò toBatch6 = map toBatch6 ‚àò toBatch6</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5e">unfold_ops @ToBatch6_Mapdt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cojoin_Batch6 ‚àò mapdt (batch C) =
map (mapdt (batch C)) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk5f"><span class="nb">erewrite</span> &lt;- (kdtfun_morph (T := T) (E := E) (B := C)
               (G1 := Batch (E * A) C)
               (G2 := Batch (E * A) B ‚àò Batch (E * B) C)
               (œï := @cojoin_Batch6 E _ _ A C B)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (cojoin_Batch6 ‚àò batch C) =
map (mapdt (batch C)) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk60">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (cojoin_Batch6 ‚àò batch C) =
map (mapdt (batch C)) ‚àò mapdt (batch B)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk61"><span class="nb">rewrite</span> (kdtfun_mapdt2 _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (cojoin_Batch6 ‚àò batch C) =
mapdt (batch C ‚ãÜ<span class="mi">6</span> batch B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk62"><span class="nb">rewrite</span> &lt;- double_Batch6_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (cojoin_Batch6 ‚àò batch C) =
mapdt (double_batch6 C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk63"><span class="nb">rewrite</span> &lt;- (cojoin_Batch6_batch (E := E) (T := T)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapdt (cojoin_Batch6 ‚àò batch C) =
mapdt (cojoin_Batch6 ‚àò batch C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="decoratedtraversablefunctor-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="decoratedtraversablefunctor-v-chk64"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Map_inst</var><span class="hyp-type"><b>: </b><span>Map T</span></span></span><br><span><var>Mapd_inst</var><span class="hyp-type"><b>: </b><span>Mapd E T</span></span></span><br><span><var>Traverse_inst</var><span class="hyp-type"><b>: </b><span>Traverse T</span></span></span><br><span><var>Mapdt_inst</var><span class="hyp-type"><b>: </b><span>Mapdt E T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecoratedTraversableFunctorFull E T</span></span></span><br><span><var>ToBatch_inst</var><span class="hyp-type"><b>: </b><span>ToBatch T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Compat_ToBatch_Traverse</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ApplicativeMorphism (Batch (E * A) C)
  (Batch (E * A) B ‚àò Batch (E * B) C)
  (@cojoin_Batch6 E T
     (<span class="kr">fun</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span> =&gt; mapdt (batch B)) A C B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>:<span class="nb">eauto with</span> typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Coalgebraic_DecoratedTraversableFunctor_of_Kleisli</span> :
    Coalgebraic.DecoratedTraversableFunctor.DecoratedTraversableFunctor E T :=
    {| dtf_extract := toBatch6_extract_Kleisli;
       dtf_duplicate := toBatch6_duplicate_Kleisli;
    |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">to_coalgebraic</span>.</span></span></pre>
</div>
</div></body>
</html>
