<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<title>Category.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.16.0+0.16.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<p>This file contains typeclasses for categories, categories, and monads.
In Tealeaves we mostly used definitions specialized to the category of
Coq types and functors rather than using this typeclass, but it is
available for future abstract nonsense.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="sd">(** The implementation here closely resembles that of math-classes, see *)</span>
<span class="sd">(** # &lt;a href=&quot;https://github.com/coq-community/math-classes&quot;&gt; https://github.com/coq-community/math-classes&lt;/a&gt;# *)</span>
<span class="sd">(** but this development focuses more on monad-related abstractions</span>
<span class="sd">    such as modules and comonads. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Export</span>
     Prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Scope</span> category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Delimit Scope</span> category_scope <span class="kr">with</span> cat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Generalizable Variables</span> <span class="nf">C</span> D E F G T U a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Categories *)</span>
<span class="sd">(******************************************************************************)</span>

<span class="sd">(** ** Operational typeclasses *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Arrows</span> (<span class="nv">Obj</span> : <span class="kt">Type</span>) : <span class="kt">Type</span> :=
  homset : Obj -&gt; Obj -&gt; <span class="kt">Type</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Identities</span> <span class="nv">Obj</span> `{Arrows Obj} :=
  catid : <span class="kr">forall</span> (<span class="nv">x</span> : Obj), homset x x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Composition</span> <span class="nv">Obj</span> `{Arrows Obj} :=
  comp : <span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : Obj), homset y z -&gt; homset x y -&gt; homset x z.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Notations *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;‚ü∂&quot;</span> := (homset) (<span class="kn">at level</span> <span class="mi">90</span>, <span class="kn">right associativity</span>) : category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;‚äô&quot;</span>:= (comp _ _ _) (<span class="kn">at level</span> <span class="mi">40</span>, <span class="kn">left associativity</span>) : category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;F ‚áí G&quot;</span> := (<span class="kr">forall</span> <span class="nv">a</span> : _, homset (F a) (G a)) (<span class="kn">at level</span> <span class="mi">50</span>) : category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Category typeclass *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">category</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    (<span class="nv">Obj</span> : <span class="kt">Type</span>)
    `{Arrows Obj}
    `{! Identities Obj}
    `{! Composition Obj}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Category</span> :=
    { cat_assoc {w x y z} (c : y ‚ü∂ z) (b : x ‚ü∂ y) (a : w ‚ü∂ x) :
        c ‚äô (b ‚äô a) = (c ‚äô b) ‚äô a;
      cat_id_r {x y} (a : x ‚ü∂ y):
        a ‚äô catid x = a;
      cat_id_l {x y} (a : x ‚ü∂ y) :
        catid y ‚äô a = a;
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">category</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Functors *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">functor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}
    `{Category D}
    (F : C -&gt; D).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Fmap</span> : <span class="kt">Type</span>  :=
    fmap: <span class="kr">forall</span> {<span class="nv">a</span> <span class="nv">b</span> : C} (<span class="nv">f</span> : a ‚ü∂ b), F a ‚ü∂ F b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Arguments</span> fmap {Fmap a b} (_)%cat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* don&#39;t register category fields as coercions to avoid loops *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Functor</span> `(Fmap) : <span class="kt">Prop</span> :=
    { func_src : Category C;
      func_tgt : Category D;
      fmap_id : <span class="kr">forall</span> <span class="nv">a</span> : C,
          fmap (catid a) = catid (F a);
      fmap_fmap : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> (<span class="nv">f</span> : a ‚ü∂ b) (<span class="nv">g</span> : b ‚ü∂ c),
          fmap g ‚äô fmap f = fmap (g ‚äô f);
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">functor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Natural transformations *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">natural_transformation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Generalizable All Variables</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}
    `{Category D}
    `{! Fmap (C := C) (D := D) F}
    `{! Fmap (C := C) (D := D) G}
    `{! Functor (F : C -&gt; D) _}
    `{! Functor (G : C -&gt; D) _}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Natural</span> (<span class="nv">Œ∑</span> : <span class="kr">forall</span> <span class="nv">x</span>, F x ‚ü∂ G x) :=
    naturality : <span class="kr">forall</span> {<span class="nv">x</span> <span class="nv">y</span>} (<span class="nv">f</span> : x ‚ü∂ y),
      fmap G f ‚äô Œ∑ x = Œ∑ y ‚äô fmap F f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">natural_transformation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Monoidal structure on endofunctors *)</span>
<span class="sd">(** Endofunctors are closed under composition and identities. This gives</span>
<span class="sd">    monoidal structure on the category of endofunctors but we do not need to</span>
<span class="sd">    formalize that far. *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">endofunctor_id</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Fmap_one</span> : Fmap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) :=
    (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : C) (<span class="nv">f</span> : a ‚ü∂ b) =&gt; f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">fmap_id_one</span> : <span class="kr">forall</span> (<span class="nv">a</span> : C),
      fmap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) (catid a) = catid a := <span class="kp">ltac</span>:(<span class="bp">reflexivity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">fmap_fmap_one</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> (<span class="nv">f</span> : a ‚ü∂ b) (<span class="nv">g</span> : b ‚ü∂ c) :
    fmap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) g ‚äô fmap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) f = fmap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) (g ‚äô f) := <span class="kp">ltac</span>:(<span class="bp">reflexivity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Program Instance</span> <span class="nf">Functor_one</span> : Functor (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) _ :=
    {| fmap_id := fmap_id_one;
       fmap_fmap := fmap_fmap_one;
    |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">endofunctor_id</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">endofunctor_composition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}
    `{Category D}
    `{Category E}
    `{! Fmap (C := C) (D := D) F}
    `{! Fmap (C := D) (D := E) G}
    `{! Functor (F : C -&gt; D) _}
    `{! Functor (G : D -&gt; E) _}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Fmap_compose</span> : Fmap (G ‚àò F) :=
    <span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">f</span> =&gt; fmap G (fmap F f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk0"><span class="kn">Lemma</span> <span class="nf">fmap_id_compose</span> : <span class="kr">forall</span> (<span class="nv">a</span> : C),
      fmap (G ‚àò F) (catid a) = catid (G (F a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Arrows E</span></span></span><br><span><var>Identities2</var><span class="hyp-type"><b>: </b><span>Identities E</span></span></span><br><span><var>Composition2</var><span class="hyp-type"><b>: </b><span>Composition E</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Category E</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>D -&gt; E</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap G</span></span></span><br><span><var>Functor0</var><span class="hyp-type"><b>: </b><span>Functor (F : C -&gt; D) Fmap0</span></span></span><br><span><var>Functor1</var><span class="hyp-type"><b>: </b><span>Functor (G : D -&gt; E) Fmap1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : C, fmap (G ‚àò F) (catid a) = catid (G (F a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Arrows E</span></span></span><br><span><var>Identities2</var><span class="hyp-type"><b>: </b><span>Identities E</span></span></span><br><span><var>Composition2</var><span class="hyp-type"><b>: </b><span>Composition E</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Category E</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>D -&gt; E</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap G</span></span></span><br><span><var>Functor0</var><span class="hyp-type"><b>: </b><span>Functor (F : C -&gt; D) Fmap0</span></span></span><br><span><var>Functor1</var><span class="hyp-type"><b>: </b><span>Functor (G : D -&gt; E) Fmap1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : C, fmap (G ‚àò F) (catid a) = catid (G (F a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk2"><span class="nb">intros</span> ?; <span class="nb">unfold</span> fmap, Fmap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Arrows E</span></span></span><br><span><var>Identities2</var><span class="hyp-type"><b>: </b><span>Identities E</span></span></span><br><span><var>Composition2</var><span class="hyp-type"><b>: </b><span>Composition E</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Category E</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>D -&gt; E</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap G</span></span></span><br><span><var>Functor0</var><span class="hyp-type"><b>: </b><span>Functor (F : C -&gt; D) Fmap0</span></span></span><br><span><var>Functor1</var><span class="hyp-type"><b>: </b><span>Functor (G : D -&gt; E) Fmap1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap G (fmap F (catid a)) = catid (G (F a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> (fmap_id F), (fmap_id G).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk3"><span class="kn">Lemma</span> <span class="nf">fmap_fmap_compose</span> (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : C) (<span class="nv">f</span> : a ‚ü∂ b) (<span class="nv">g</span> : b ‚ü∂ c) :
    fmap (G ‚àò F) g ‚äô fmap (G ‚àò F) f = fmap (G ‚àò F) (g ‚äô f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Arrows E</span></span></span><br><span><var>Identities2</var><span class="hyp-type"><b>: </b><span>Identities E</span></span></span><br><span><var>Composition2</var><span class="hyp-type"><b>: </b><span>Composition E</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Category E</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>D -&gt; E</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap G</span></span></span><br><span><var>Functor0</var><span class="hyp-type"><b>: </b><span>Functor (F : C -&gt; D) Fmap0</span></span></span><br><span><var>Functor1</var><span class="hyp-type"><b>: </b><span>Functor (G : D -&gt; E) Fmap1</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (G ‚àò F) g ‚äô fmap (G ‚àò F) f = fmap (G ‚àò F) (g ‚äô f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Arrows E</span></span></span><br><span><var>Identities2</var><span class="hyp-type"><b>: </b><span>Identities E</span></span></span><br><span><var>Composition2</var><span class="hyp-type"><b>: </b><span>Composition E</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Category E</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>D -&gt; E</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap G</span></span></span><br><span><var>Functor0</var><span class="hyp-type"><b>: </b><span>Functor (F : C -&gt; D) Fmap0</span></span></span><br><span><var>Functor1</var><span class="hyp-type"><b>: </b><span>Functor (G : D -&gt; E) Fmap1</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (G ‚àò F) g ‚äô fmap (G ‚àò F) f = fmap (G ‚àò F) (g ‚äô f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk5"><span class="nb">unfold</span> fmap, Fmap_compose, compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Arrows E</span></span></span><br><span><var>Identities2</var><span class="hyp-type"><b>: </b><span>Identities E</span></span></span><br><span><var>Composition2</var><span class="hyp-type"><b>: </b><span>Composition E</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Category E</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>D -&gt; E</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap G</span></span></span><br><span><var>Functor0</var><span class="hyp-type"><b>: </b><span>Functor (F : C -&gt; D) Fmap0</span></span></span><br><span><var>Functor1</var><span class="hyp-type"><b>: </b><span>Functor (G : D -&gt; E) Fmap1</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap G (fmap F g) ‚äô fmap G (fmap F f) =
fmap G (fmap F (g ‚äô f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> (fmap_fmap G), (fmap_fmap F).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Functor_compose</span> : Functor (G ‚àò F) _ :=
    {| fmap_id := fmap_id_compose;
       fmap_fmap := fmap_fmap_compose;
    |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">endofunctor_composition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Monads and modules *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">monad_operations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}
    (T : C -&gt; C).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Join</span> := join : T ‚àò T ‚áí T.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Return</span> := ret : (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x) ‚áí T.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">monad_operations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">monad</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}
      (T : C -&gt; C)
    `{! Fmap (C := C) (D := C) T}
    `{! Functor T _}
    `{! Return T} `{! Join T}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Monad</span> :=
    { mon_functor :&gt; Functor T _;
      mon_ret_natural :&gt; Natural (ret T);
      mon_join_natural :&gt; Natural (join T);
      mon_join_fmap_ret :
        `(join T a ‚äô (fmap T (ret T a)) = catid (T a));
      mon_join_ret :
        `(join T a ‚äô (ret T (T a)) = catid (T a));
      mon_join_join :
        `(join T a ‚äô (join T (T a)) = join T a ‚äô (fmap T (join T a)));
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">monad</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">monad_homomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Category C}
    `{! Fmap (C := C) (D := C) T}
    `{! Fmap (C := C) (D := C) U}
    `{! Functor (T : C -&gt; C) _}
    `{! Functor (U : C -&gt; C) _}
    `{! Return T} `{! Join T}
    `{! Return U} `{! Join U}
    `{! Monad T} `{! Monad U}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Monad_Hom</span> (<span class="nv">mhom</span> : <span class="kr">forall</span> <span class="nv">a</span>, T a ‚ü∂ U a) :=
    { mhom_domain : Monad T;
      mhom_codomain : Monad U;
      mhom_natural : Natural mhom;
      mhom_ret :
        `(mhom a ‚äô (ret T a) = ret U a);
      mhom_join :
        `(mhom a ‚äô (join T a) = join U a ‚äô (mhom (U a) ‚äô (fmap T (mhom a))));
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">monad_homomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Right modules of endofunctors  *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">RightModule</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">C</span> <span class="nv">D</span> : <span class="kt">Type</span>}
    (<span class="nv">F</span> : C -&gt; D)
    (<span class="nv">T</span> : C -&gt; C)
    `{Monad C T}
    `{Category D}
    `{! Fmap (C := C) (D := D) F}
    `{! Functor F _ }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">RightAction</span> := right_action : F ‚àò T ‚áí F.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">RightModule</span> `{RightAction} :=
    { rmod_monad :&gt; Monad T;
      rmod_object :&gt; Functor F _;
      rmod_natural : Natural (right_action);
      rmod_ret :
        `(right_action a ‚äô fmap F (ret T a) = catid (F a));
      rmod_join :
        `(right_action a ‚äô right_action (T a) = right_action a ‚äô fmap F (join T a));
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">RightModule</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The [bind] operation *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">bind</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">C</span> <span class="nv">D</span> : <span class="kt">Type</span>}
    (<span class="nv">F</span> : C -&gt; D)
    (<span class="nv">T</span> : C -&gt; C)
    `{RightModule C D F T}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Bind</span> := bind : <span class="kr">forall</span> {<span class="nv">a</span> <span class="nv">b</span> : C} (<span class="nv">f</span> : a ‚ü∂ T b), F a ‚ü∂ F b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Arguments</span> bind {Bind a b} (_)%cat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">compose_kleisli</span> {<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : C} :
    (b ‚ü∂ T c) -&gt; (a ‚ü∂ T b) -&gt; a ‚ü∂ T c :=
    <span class="kr">fun</span> <span class="nv">g</span> <span class="nv">f</span> =&gt; join T c ‚äô (fmap T g ‚äô f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">bind</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">KleisliNotation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;g ‚ãÜ f&quot;</span> := (compose_kleisli _ g f) (<span class="kn">at level</span> <span class="mi">60</span>) : category_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">KleisliNotation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> KleisliNotation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">module_bind</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{RightModule C D F T}
    `{! Category C}
    `{! Category D}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bind_Module</span> : Bind F T :=
    <span class="kr">fun</span> {<span class="nv">a</span> <span class="nv">b</span>} {<span class="nv">f</span> : a ‚ü∂ T b} =&gt; right_action F T b ‚äô fmap F f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : C}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk6"><span class="kn">Lemma</span> <span class="nf">bind_ret_fmap</span> : <span class="kr">forall</span> (<span class="nv">f</span> : a ‚ü∂ b),
      bind F T (ret T b ‚äô f) = fmap F f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : a ‚ü∂ b, bind F T (ret T b ‚äô f) = fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : a ‚ü∂ b, bind F T (ret T b ‚äô f) = fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk8"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bind F T (ret T b ‚äô f) = fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk9"><span class="nb">unfold</span> bind, Bind_Module.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T b ‚äô fmap F (ret T b ‚äô f) = fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chka"><span class="nb">rewrite</span> &lt;- (fmap_fmap F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T b ‚äô (fmap F (ret T b) ‚äô fmap F f) =
fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chkb"><span class="nb">rewrite</span> (cat_assoc D).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T b ‚äô fmap F (ret T b) ‚äô fmap F f =
fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chkc"><span class="nb">rewrite</span> (rmod_ret F T).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">catid (F b) ‚äô fmap F f = fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chkd"><span class="nb">rewrite</span> (cat_id_l D).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F f = fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chke"><span class="kn">Lemma</span> <span class="nf">bind_functorial</span> : <span class="kr">forall</span> (<span class="nv">f</span> : a ‚ü∂ T b) (<span class="nv">g</span> : b ‚ü∂ T c),
      bind F T (g ‚ãÜ f) = (bind F T g) ‚äô (bind F T f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">f</span> : a ‚ü∂ T b) (<span class="nv">g</span> : b ‚ü∂ T c),
bind F T (g ‚ãÜ f) = bind F T g ‚äô bind F T f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">f</span> : a ‚ü∂ T b) (<span class="nv">g</span> : b ‚ü∂ T c),
bind F T (g ‚ãÜ f) = bind F T g ‚äô bind F T f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk10"><span class="nb">intros</span> f g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bind F T (g ‚ãÜ f) = bind F T g ‚äô bind F T f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk11"><span class="nb">unfold</span> bind, Bind_Module.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c ‚äô fmap F (g ‚ãÜ f) =
right_action F T c ‚äô fmap F g
‚äô (right_action F T b ‚äô fmap F f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk12"><span class="nb">unfold</span> compose_kleisli.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c
‚äô fmap F (join T c ‚äô (fmap T g ‚äô f)) =
right_action F T c ‚äô fmap F g
‚äô (right_action F T b ‚äô fmap F f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk13"><span class="nb">rewrite</span> &lt;- (fmap_fmap F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c
‚äô (fmap F (join T c) ‚äô fmap F (fmap T g ‚äô f)) =
right_action F T c ‚äô fmap F g
‚äô (right_action F T b ‚äô fmap F f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk14"><span class="nb">rewrite</span> &lt;- (fmap_fmap F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c
‚äô (fmap F (join T c) ‚äô (fmap F (fmap T g) ‚äô fmap F f)) =
right_action F T c ‚äô fmap F g
‚äô (right_action F T b ‚äô fmap F f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk15"><span class="kp">repeat</span> <span class="nb">rewrite</span> (cat_assoc D).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c ‚äô fmap F (join T c)
‚äô fmap F (fmap T g) ‚äô fmap F f =
right_action F T c ‚äô fmap F g ‚äô right_action F T b
‚äô fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk16"><span class="nb">rewrite</span> &lt;- (rmod_join F T).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c ‚äô right_action F T (T c)
‚äô fmap F (fmap T g) ‚äô fmap F f =
right_action F T c ‚äô fmap F g ‚äô right_action F T b
‚äô fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk17"><span class="nb">change</span> (fmap F (fmap T g)) <span class="kr">with</span> (fmap (F ‚àò T) g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c ‚äô right_action F T (T c)
‚äô fmap (F ‚àò T) g ‚äô fmap F f =
right_action F T c ‚äô fmap F g ‚äô right_action F T b
‚äô fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk18"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- (cat_assoc D).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c
‚äô (right_action F T (T c)
   ‚äô (fmap (F ‚àò T) g ‚äô fmap F f)) =
right_action F T c
‚äô (fmap F g ‚äô (right_action F T b ‚äô fmap F f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk19"><span class="nb">rewrite</span> (cat_assoc D (right_action F T (T c)) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c
‚äô (right_action F T (T c) ‚äô fmap (F ‚àò T) g ‚äô fmap F f) =
right_action F T c
‚äô (fmap F g ‚äô (right_action F T b ‚äô fmap F f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1a"><span class="nb">rewrite</span> &lt;- (naturality (Natural := rmod_natural F T) g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ T b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c
‚äô (fmap F g ‚äô right_action F T b ‚äô fmap F f) =
right_action F T c
‚äô (fmap F g ‚äô (right_action F T b ‚äô fmap F f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- (cat_assoc D).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1b"><span class="kn">Lemma</span> <span class="nf">bind_fmap</span> : <span class="kr">forall</span> (<span class="nv">g</span> : b ‚ü∂ T c) (<span class="nv">f</span> : a ‚ü∂ b),
      bind F T g ‚äô (fmap F f) = bind F T (g ‚äô f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">g</span> : b ‚ü∂ T c) (<span class="nv">f</span> : a ‚ü∂ b),
bind F T g ‚äô fmap F f = bind F T (g ‚äô f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">g</span> : b ‚ü∂ T c) (<span class="nv">f</span> : a ‚ü∂ b),
bind F T g ‚äô fmap F f = bind F T (g ‚äô f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1d"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bind F T g ‚äô fmap F f = bind F T (g ‚äô f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1e"><span class="nb">unfold</span> bind, Bind_Module.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c ‚äô fmap F g ‚äô fmap F f =
right_action F T c ‚äô fmap F (g ‚äô f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk1f"><span class="nb">rewrite</span> &lt;- (fmap_fmap F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b ‚ü∂ T c</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a ‚ü∂ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T c ‚äô fmap F g ‚äô fmap F f =
right_action F T c ‚äô (fmap F g ‚äô fmap F f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;- (cat_assoc D).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk20"><span class="kn">Lemma</span> <span class="nf">bind_ret_l</span> :
    bind F T (ret T a) = catid (F a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bind F T (ret T a) = catid (F a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bind F T (ret T a) = catid (F a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk22"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bind F T (ret T a) = catid (F a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="category-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="category-v-chk23"><span class="nb">unfold</span> bind, Bind_Module.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Arrows C</span></span></span><br><span><var>Identities0</var><span class="hyp-type"><b>: </b><span>Identities C</span></span></span><br><span><var>Composition0</var><span class="hyp-type"><b>: </b><span>Composition C</span></span></span><br><span><var>Fmap0</var><span class="hyp-type"><b>: </b><span>Fmap T</span></span></span><br><span><var>Return0</var><span class="hyp-type"><b>: </b><span>Return T</span></span></span><br><span><var>Join0</var><span class="hyp-type"><b>: </b><span>Join T</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Arrows D</span></span></span><br><span><var>Identities1</var><span class="hyp-type"><b>: </b><span>Identities D</span></span></span><br><span><var>Composition1</var><span class="hyp-type"><b>: </b><span>Composition D</span></span></span><br><span><var>Fmap1</var><span class="hyp-type"><b>: </b><span>Fmap F</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>RightAction F T</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>RightModule F T</span></span></span><br><span><var>Category0</var><span class="hyp-type"><b>: </b><span>Category C</span></span></span><br><span><var>Category1</var><span class="hyp-type"><b>: </b><span>Category D</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">right_action F T a ‚äô fmap F (ret T a) = catid (F a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> (rmod_ret F T).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">module_bind</span>.</span></span></pre>
</div>
</div></body>
</html>
