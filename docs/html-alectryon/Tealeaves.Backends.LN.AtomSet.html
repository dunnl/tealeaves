<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<title>AtomSet.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.16.0+0.16.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Import</span>
  Classes.Categorical.ContainerFunctor
  LN.Atom.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require</span>
  MSets.MSets.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> List.ListNotations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> ContainerFunctor.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Definition of &lt;&lt;AtomSet&gt;&gt; type *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">AtomSet</span> &lt;: Coq.MSets.MSetInterface.WSets :=
  Coq.MSets.MSetWeakList.Make Atom.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">AtomSetProperties</span> :=
  Coq.MSets.MSetProperties.WPropertiesOn Atom AtomSet.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Notations for operations on &lt;&lt;AtomSet&gt;&gt; *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Scope</span> set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Delimit Scope</span> set_scope <span class="kr">with</span> <span class="nb">set</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x `‚àà@` S&quot;</span> := (AtomSet.In x S) (<span class="kn">at level</span> <span class="mi">40</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x `in` S&quot;</span> := (AtomSet.In x S) (<span class="kn">at level</span> <span class="mi">40</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x `notin` S&quot;</span> := (~ AtomSet.In x S) (<span class="kn">at level</span> <span class="mi">40</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s [=] t&quot;</span> := (AtomSet.Equal s t) (<span class="kn">at level</span> <span class="mi">70</span>, <span class="kn">no associativity</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s ‚äÜ t&quot;</span> := (AtomSet.Subset s t) (<span class="kn">at level</span> <span class="mi">70</span>, <span class="kn">no associativity</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s ‚à© t&quot;</span> := (AtomSet.inter s t) (<span class="kn">at level</span> <span class="mi">60</span>, <span class="kn">no associativity</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s \\ t&quot;</span> := (AtomSet.diff s t) (<span class="kn">at level</span> <span class="mi">60</span>, <span class="kn">no associativity</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;s ‚à™ t&quot;</span> := (AtomSet.union s t) (<span class="kn">at level</span> <span class="mi">61</span>, <span class="kn">left associativity</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;&#39;elements&#39;&quot;</span> := (AtomSet.elements) (<span class="kn">at level</span> <span class="mi">60</span>, <span class="kn">no associativity</span>) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;‚àÖ&quot;</span> := (AtomSet.empty) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;{{ x }}&quot;</span> := (AtomSet.singleton x) : set_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Tactic Notation</span> <span class="s2">&quot;fsetdec&quot;</span> := AtomSetProperties.Dec.fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Instance</span> <span class="nf">Monoid_op_atoms</span>: @Monoid_op AtomSet.t := AtomSet.union.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Instance</span> <span class="nf">Monoid_unit_atoms</span>: @Monoid_unit AtomSet.t := AtomSet.empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk0">#[<span class="kn">global</span>] <span class="kn">Instance</span> <span class="nf">Monoid_atoms</span>: Monoid AtomSet.t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Monoid AtomSet.t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Monoid AtomSet.t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2"><span class="nb">constructor</span>; <span class="nb">unfold</span> transparent tcs; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚à™ y ‚à™ z = x ‚à™ (y ‚à™ z)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk3"><hr></label><div class="goal-conclusion">x ‚à™ ‚àÖ = x</div></blockquote><input class="alectryon-extra-goal-toggle" id="atomset-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk4"><hr></label><div class="goal-conclusion">‚àÖ ‚à™ x = x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* TODO: Can&#39;t use existing monoid typeclass because</span>
<span class="c">     the laws only hold up to AtomSet.Equal, not propositional equality. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The [atoms] operation *)</span>
<span class="sd">(** &lt;&lt;atoms&gt;&gt; collects a list of atoms into an &lt;&lt;AtomSet&gt;&gt;. It is</span>
<span class="sd">    conceptually inverse to [AtomSet.elements], but there&#39;s no</span>
<span class="sd">    guarantee the operations won&#39;t disturb the order*)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">atoms</span> (<span class="nv">l</span> : list atom) : AtomSet.t :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | nil =&gt; ‚àÖ
  | x :: xs =&gt; AtomSet.add x (atoms xs)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Rewriting rules *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Create HintDb</span> tea_rw_atoms.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk5"><span class="kn">Lemma</span> <span class="nf">atoms_nil</span> : atoms nil = ‚àÖ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">atoms [] = ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">atoms [] = ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk7"><span class="kn">Lemma</span> <span class="nf">atoms_cons</span> : <span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">xs</span> : list atom),
    atoms (x :: xs) [=] {{ x }} ‚à™ atoms xs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">xs</span> : list atom),
atoms (x :: xs) [=] {{x}} ‚à™ atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">xs</span> : list atom),
atoms (x :: xs) [=] {{x}} ‚à™ atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk9"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">atoms (x :: xs) [=] {{x}} ‚à™ atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chka"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AtomSet.add x (atoms xs) [=] {{x}} ‚à™ atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chkb"><span class="kn">Lemma</span> <span class="nf">atoms_one</span> : <span class="kr">forall</span> (<span class="nv">x</span> : atom),
    atoms [x] [=] {{ x }}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : atom, atoms [x] [=] {{x}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : atom, atoms [x] [=] {{x}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chkd"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">atoms [x] [=] {{x}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chke"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AtomSet.add x ‚àÖ [=] {{x}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chkf"><span class="kn">Lemma</span> <span class="nf">atoms_app</span> : <span class="kr">forall</span> (<span class="nv">l1</span> <span class="nv">l2</span> : list atom),
    atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk10"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk11"><span class="nb">induction</span> l1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms ([] ++ l2) [=] atoms [] ‚à™ atoms l2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk12" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk12"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms ((a :: l1) ++ l2) [=] atoms (a :: l1) ‚à™ atoms l2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk13">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms ([] ++ l2) [=] atoms [] ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk14"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom, atoms l2 [=] ‚àÖ ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk15">List.simpl_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom, atoms l2 [=] ‚àÖ ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk16">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms ((a :: l1) ++ l2) [=] atoms (a :: l1) ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk17"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
AtomSet.add a (atoms (l1 ++ l2))
[=] AtomSet.add a (atoms l1) ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk18">introv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AtomSet.add a (atoms (l1 ++ l2))
[=] AtomSet.add a (atoms l1) ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk19"><span class="nb">rewrite</span> (IHl1 l2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">l2</span> : list atom,
atoms (l1 ++ l2) [=] atoms l1 ‚à™ atoms l2</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AtomSet.add a (atoms l1 ‚à™ atoms l2)
[=] AtomSet.add a (atoms l1) ‚à™ atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> atoms_nil atoms_cons atoms_one atoms_app : tea_rw_atoms.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1a"><span class="kn">Lemma</span> <span class="nf">in_atoms_nil</span> : <span class="kr">forall</span> <span class="nv">x</span>, x `<span class="kr">in</span>` atoms nil &lt;-&gt; <span class="kt">False</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : AtomSet.elt, x `<span class="kr">in</span>` atoms [] &lt;-&gt; <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : AtomSet.elt, x `<span class="kr">in</span>` atoms [] &lt;-&gt; <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1c"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : AtomSet.elt, x `<span class="kr">in</span>` ‚àÖ &lt;-&gt; <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1d"><span class="kn">Lemma</span> <span class="nf">in_atoms_cons</span> : <span class="kr">forall</span> (<span class="nv">y</span> : atom) (<span class="nv">x</span> : atom) (<span class="nv">xs</span> : list atom),
    y `<span class="kr">in</span>` atoms (x :: xs) &lt;-&gt; y = x \/ y `<span class="kr">in</span>` atoms xs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">y</span> <span class="nv">x</span> : atom) (<span class="nv">xs</span> : list atom),
y `<span class="kr">in</span>` atoms (x :: xs) &lt;-&gt; y = x \/ y `<span class="kr">in</span>` atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">y</span> <span class="nv">x</span> : atom) (<span class="nv">xs</span> : list atom),
y `<span class="kr">in</span>` atoms (x :: xs) &lt;-&gt; y = x \/ y `<span class="kr">in</span>` atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk1f"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y `<span class="kr">in</span>` atoms (x :: xs) &lt;-&gt; y = x \/ y `<span class="kr">in</span>` atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk20"><span class="nb">autorewrite with</span> tea_rw_atoms.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y `<span class="kr">in</span>` ({{x}} ‚à™ atoms xs) &lt;-&gt; y = x \/ y `<span class="kr">in</span>` atoms xs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk21"><span class="kn">Lemma</span> <span class="nf">in_atoms_one</span> : <span class="kr">forall</span> (<span class="nv">y</span> <span class="nv">x</span> : atom),
    y `<span class="kr">in</span>` atoms [x] &lt;-&gt; y = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">x</span> : atom, y `<span class="kr">in</span>` atoms [x] &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">x</span> : atom, y `<span class="kr">in</span>` atoms [x] &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk23"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y `<span class="kr">in</span>` atoms [x] &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk24"><span class="nb">autorewrite with</span> tea_rw_atoms.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y `<span class="kr">in</span>` {{x}} &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk25"><span class="kn">Lemma</span> <span class="nf">in_atoms_app</span> : <span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">l1</span> <span class="nv">l2</span> : list atom),
    x `<span class="kr">in</span>` atoms (l1 ++ l2) &lt;-&gt; x `<span class="kr">in</span>` atoms l1 \/ x `<span class="kr">in</span>` atoms l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">l1</span> <span class="nv">l2</span> : list atom),
x `<span class="kr">in</span>` atoms (l1 ++ l2) &lt;-&gt;
x `<span class="kr">in</span>` atoms l1 \/ x `<span class="kr">in</span>` atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk26"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">l1</span> <span class="nv">l2</span> : list atom),
x `<span class="kr">in</span>` atoms (l1 ++ l2) &lt;-&gt;
x `<span class="kr">in</span>` atoms l1 \/ x `<span class="kr">in</span>` atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk27"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x `<span class="kr">in</span>` atoms (l1 ++ l2) &lt;-&gt;
x `<span class="kr">in</span>` atoms l1 \/ x `<span class="kr">in</span>` atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk28"><span class="nb">autorewrite with</span> tea_rw_atoms.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x `<span class="kr">in</span>` (atoms l1 ‚à™ atoms l2) &lt;-&gt;
x `<span class="kr">in</span>` atoms l1 \/ x `<span class="kr">in</span>` atoms l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> in_atoms_nil in_atoms_cons in_atoms_one in_atoms_app : tea_rw_atoms.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk29"><span class="kn">Lemma</span> <span class="nf">in_singleton_iff</span> : <span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">y</span> : atom),
    y `<span class="kr">in</span>` {{ x }} &lt;-&gt; y = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : atom, y `<span class="kr">in</span>` {{x}} &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : atom, y `<span class="kr">in</span>` {{x}} &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2b"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y `<span class="kr">in</span>` {{x}} &lt;-&gt; y = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2c"><span class="kn">Lemma</span> <span class="nf">in_union_iff</span> : <span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">s1</span> <span class="nv">s2</span> : AtomSet.t),
    x `<span class="kr">in</span>` (s1 ‚à™ s2) &lt;-&gt; x `<span class="kr">in</span>` s1 \/ x `<span class="kr">in</span>` s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">s1</span> <span class="nv">s2</span> : AtomSet.t),
x `<span class="kr">in</span>` (s1 ‚à™ s2) &lt;-&gt; x `<span class="kr">in</span>` s1 \/ x `<span class="kr">in</span>` s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : atom) (<span class="nv">s1</span> <span class="nv">s2</span> : AtomSet.t),
x `<span class="kr">in</span>` (s1 ‚à™ s2) &lt;-&gt; x `<span class="kr">in</span>` s1 \/ x `<span class="kr">in</span>` s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2e"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x `<span class="kr">in</span>` (s1 ‚à™ s2) &lt;-&gt; x `<span class="kr">in</span>` s1 \/ x `<span class="kr">in</span>` s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">fsetdec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Relating &lt;&lt;AtomSet.t&gt;&gt; and &lt;&lt;list atom&gt;&gt; *)</span>
<span class="sd">(******************************************************************************)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk2f"><span class="kn">Lemma</span> <span class="nf">in_elements_iff</span> : <span class="kr">forall</span> (<span class="nv">s</span> : AtomSet.t) (<span class="nv">x</span> : atom),
    x `<span class="kr">in</span>` s &lt;-&gt; x ‚àà elements s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : AtomSet.t) (<span class="nv">x</span> : atom),
x `<span class="kr">in</span>` s &lt;-&gt; x ‚àà (elements) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : AtomSet.t) (<span class="nv">x</span> : atom),
x `<span class="kr">in</span>` s &lt;-&gt; x ‚àà (elements) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk31"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x `<span class="kr">in</span>` s &lt;-&gt; x ‚àà (elements) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk32"><span class="nb">rewrite</span> &lt;- AtomSet.elements_spec1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x ((elements) s) &lt;-&gt;
x ‚àà (elements) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk33"><span class="nb">induction</span> (elements s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x [] &lt;-&gt; x ‚àà []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk34"><hr></label><div class="goal-conclusion">SetoidList.InA eq x (a :: l) &lt;-&gt; x ‚àà (a :: l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x [] &lt;-&gt; x ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk36"><span class="nb">cbv</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(SetoidList.InA eq x [] -&gt; <span class="kt">False</span>) /\
(<span class="kt">False</span> -&gt; SetoidList.InA eq x [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">intro</span> H; <span class="nb">inversion</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk37">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x (a :: l) &lt;-&gt; x ‚àà (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk38"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x (a :: l) &lt;-&gt; a = x \/ List.In x l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk39"><span class="nb">split</span>; <span class="nb">intro</span> H; <span class="nb">inversion</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x (a :: l)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>x = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y = a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x (a :: l)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y = a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk3a"><hr></label><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote><input class="alectryon-extra-goal-toggle" id="atomset-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = x \/ List.In x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = x</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk3b"><hr></label><div class="goal-conclusion">SetoidList.InA eq x (a :: l)</div></blockquote><input class="alectryon-extra-goal-toggle" id="atomset-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = x \/ List.In x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>List.In x l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk3c"><hr></label><div class="goal-conclusion">SetoidList.InA eq x (a :: l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk3d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x (a :: l)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>x = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y = a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk3e"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq a (a :: l)</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq a l &lt;-&gt; a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a \/ List.In a l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk3f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x (a :: l)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>y = a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk40"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x (a :: l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk41"><span class="nb">destruct</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk42" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk42"><hr></label><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk43"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq y l &lt;-&gt; y ‚àà l</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq y l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = y \/ List.In y l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk44"><hr></label><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk45"><span class="nb">rewrite</span> IHl <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq y l &lt;-&gt; y ‚àà l</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>y ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = y \/ List.In y l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk46" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk46"><hr></label><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk47"><span class="bp">now</span> <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk48"><span class="nb">rewrite</span> IHl <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x \/ List.In x l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">right</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk49">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = x \/ List.In x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk4a"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x = x \/ List.In x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x (x :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk4b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = x \/ List.In x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>List.In x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk4c"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>AtomSet.t</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>AtomSet.elt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list AtomSet.elt</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>SetoidList.InA eq x l &lt;-&gt; x ‚àà l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = x \/ List.In x l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>List.In x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SetoidList.InA eq x l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> IHl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk4d"><span class="kn">Lemma</span> <span class="nf">in_atoms_iff</span> : <span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">x</span> : atom), x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">x</span> : atom),
x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk4e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">x</span> : atom),
x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk4f"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk50"><span class="nb">induction</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà [] &lt;-&gt; x `<span class="kr">in</span>` atoms []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="atomset-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l</span></span></span><br></div><label class="goal-separator" for="atomset-v-chk51"><hr></label><div class="goal-conclusion">x ‚àà (a :: l) &lt;-&gt; x `<span class="kr">in</span>` atoms (a :: l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk52">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà [] &lt;-&gt; x `<span class="kr">in</span>` atoms []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk53">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà (a :: l) &lt;-&gt; x `<span class="kr">in</span>` atoms (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="atomset-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="atomset-v-chk54"><span class="nb">autorewrite with</span> tea_rw_atoms tea_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>x ‚àà l &lt;-&gt; x `<span class="kr">in</span>` atoms l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = a \/ x ‚àà l &lt;-&gt; x = a \/ x `<span class="kr">in</span>` atoms l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> IHl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre>
</div>
</div></body>
</html>
